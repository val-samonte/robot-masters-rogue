var DC=Object.defineProperty;var BC=(t,e,r)=>e in t?DC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var UC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pp=(t,e,r)=>(BC(t,typeof e!="symbol"?e+"":e,r),r);var dD=UC((mD,kd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Gw={exports:{}},pd={},$w={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),zC=Symbol.for("react.portal"),GC=Symbol.for("react.fragment"),$C=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),VC=Symbol.for("react.forward_ref"),XC=Symbol.for("react.suspense"),YC=Symbol.for("react.memo"),QC=Symbol.for("react.lazy"),I_=Symbol.iterator;function qC(t){return t===null||typeof t!="object"?null:(t=I_&&t[I_]||t["@@iterator"],typeof t=="function"?t:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hw=Object.assign,Ww={};function ya(t,e,r){this.props=t,this.context=e,this.refs=Ww,this.updater=r||jw}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vw(){}Vw.prototype=ya.prototype;function A0(t,e,r){this.props=t,this.context=e,this.refs=Ww,this.updater=r||jw}var C0=A0.prototype=new Vw;C0.constructor=A0;Hw(C0,ya.prototype);C0.isPureReactComponent=!0;var P_=Array.isArray,Xw=Object.prototype.hasOwnProperty,R0={current:null},Yw={key:!0,ref:!0,__self:!0,__source:!0};function Qw(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Xw.call(e,n)&&!Yw.hasOwnProperty(n)&&(i[n]=e[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:ou,type:t,key:s,ref:o,props:i,_owner:R0.current}}function KC(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function ZC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var N_=/\/+/g;function mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZC(""+t.key):e.toString(36)}function Vc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case zC:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+mp(o,0):n,P_(i)?(r="",t!=null&&(r=t.replace(N_,"$&/")+"/"),Vc(i,e,r,"",function(h){return h})):i!=null&&(I0(i)&&(i=KC(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",P_(t))for(var u=0;u<t.length;u++){s=t[u];var c=n+mp(s,u);o+=Vc(s,e,r,c,i)}else if(c=qC(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=n+mp(s,u++),o+=Vc(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nc(t,e,r){if(t==null)return t;var n=[],i=0;return Vc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function JC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},Xc={transition:null},eR={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:R0};function qw(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:nc,forEach:function(t,e,r){nc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!I0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=ya;Re.Fragment=GC;Re.Profiler=jC;Re.PureComponent=A0;Re.StrictMode=$C;Re.Suspense=XC;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR;Re.act=qw;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Hw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=R0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Xw.call(e,c)&&!Yw.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:ou,type:t.type,key:i,ref:s,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:WC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HC,_context:t},t.Consumer=t};Re.createElement=Qw;Re.createFactory=function(t){var e=Qw.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:VC,render:t}};Re.isValidElement=I0;Re.lazy=function(t){return{$$typeof:QC,_payload:{_status:-1,_result:t},_init:JC}};Re.memo=function(t,e){return{$$typeof:YC,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Xc.transition;Xc.transition={};try{t()}finally{Xc.transition=e}};Re.unstable_act=qw;Re.useCallback=function(t,e){return Jt.current.useCallback(t,e)};Re.useContext=function(t){return Jt.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Jt.current.useEffect(t,e)};Re.useId=function(){return Jt.current.useId()};Re.useImperativeHandle=function(t,e,r){return Jt.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Jt.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return Jt.current.useReducer(t,e,r)};Re.useRef=function(t){return Jt.current.useRef(t)};Re.useState=function(t){return Jt.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return Jt.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return Jt.current.useTransition()};Re.version="18.3.1";$w.exports=Re;var _e=$w.exports;const Vr=fd(_e);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=_e,rR=Symbol.for("react.element"),nR=Symbol.for("react.fragment"),iR=Object.prototype.hasOwnProperty,sR=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oR={key:!0,ref:!0,__self:!0,__source:!0};function Kw(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)iR.call(e,n)&&!oR.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:rR,type:t,key:s,ref:o,props:i,_owner:sR.current}}pd.Fragment=nR;pd.jsx=Kw;pd.jsxs=Kw;Gw.exports=pd;var te=Gw.exports,Dm={},Zw={exports:{}},Ar={},Jw={exports:{}},eS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var F=N.length;N.push(W);e:for(;0<F;){var $=F-1>>>1,ne=N[$];if(0<i(ne,W))N[$]=W,N[F]=ne,F=$;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],F=N.pop();if(F!==W){N[0]=F;e:for(var $=0,ne=N.length,Se=ne>>>1;$<Se;){var xe=2*($+1)-1,Be=N[xe],be=xe+1,Le=N[be];if(0>i(Be,F))be<ne&&0>i(Le,Be)?(N[$]=Le,N[be]=F,$=be):(N[$]=Be,N[xe]=F,$=xe);else if(be<ne&&0>i(Le,F))N[$]=Le,N[be]=F,$=be;else break e}}return W}function i(N,W){var F=N.sortIndex-W.sortIndex;return F!==0?F:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,g=null,m=3,v=!1,_=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else if(W.startTime<=N)n(h),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(h)}}function A(N){if(b=!1,w(N),!_)if(r(c)!==null)_=!0,ce(k);else{var W=r(h);W!==null&&ee(A,W.startTime-N)}}function k(N,W){_=!1,b&&(b=!1,S(P),P=-1),v=!0;var F=m;try{for(w(W),g=r(c);g!==null&&(!(g.expirationTime>W)||N&&!Q());){var $=g.callback;if(typeof $=="function"){g.callback=null,m=g.priorityLevel;var ne=$(g.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===r(c)&&n(c),w(W)}else n(c);g=r(c)}if(g!==null)var Se=!0;else{var xe=r(h);xe!==null&&ee(A,xe.startTime-W),Se=!1}return Se}finally{g=null,m=F,v=!1}}var D=!1,R=null,P=-1,U=5,B=-1;function Q(){return!(t.unstable_now()-B<U)}function j(){if(R!==null){var N=t.unstable_now();B=N;var W=!0;try{W=R(!0,N)}finally{W?M():(D=!1,R=null)}}else D=!1}var M;if(typeof E=="function")M=function(){E(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=j,M=function(){J.postMessage(null)}}else M=function(){T(j,0)};function ce(N){R=N,D||(D=!0,M())}function ee(N,W){P=T(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,ce(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var F=m;m=W;try{return N()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=m;m=N;try{return W()}finally{m=F}},t.unstable_scheduleCallback=function(N,W,F){var $=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,N){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,N={id:f++,callback:W,priorityLevel:N,startTime:F,expirationTime:ne,sortIndex:-1},F>$?(N.sortIndex=F,e(h,N),r(c)===null&&N===r(h)&&(b?(S(P),P=-1):b=!0,ee(A,F-$))):(N.sortIndex=ne,e(c,N),_||v||(_=!0,ce(k))),N},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(N){var W=m;return function(){var F=m;m=W;try{return N.apply(this,arguments)}finally{m=F}}}})(eS);Jw.exports=eS;var aR=Jw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=_e,br=aR;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tS=new Set,Nl={};function Qs(t,e){oa(t,e),oa(t+"Capture",e)}function oa(t,e){for(Nl[t]=e,t=0;t<e.length;t++)tS.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,uR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k_={},O_={};function cR(t){return Bm.call(O_,t)?!0:Bm.call(k_,t)?!1:uR.test(t)?O_[t]=!0:(k_[t]=!0,!1)}function hR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dR(t,e,r,n){if(e===null||typeof e>"u"||hR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var P0=/[\-:]([a-z])/g;function N0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(P0,N0);Ut[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(P0,N0);Ut[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(P0,N0);Ut[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function k0(t,e,r,n){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dR(e,r,i,n)&&(r=null),n||i===null?cR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var vi=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),Po=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),zm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),F0=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),iS=Symbol.for("react.offscreen"),M_=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=M_&&t[M_]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,gp;function il(t){if(gp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var yp=!1;function vp(t,e){if(!t||yp)return"";yp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{yp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?il(t):""}function fR(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function $m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case Po:return"Portal";case Um:return"Profiler";case O0:return"StrictMode";case zm:return"Suspense";case Gm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nS:return(t.displayName||"Context")+".Consumer";case rS:return(t._context.displayName||"Context")+".Provider";case M0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F0:return e=t.displayName||null,e!==null?e:$m(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return $m(t(e))}catch{}}return null}function pR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $m(e);case 8:return e===O0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mR(t){var e=sS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sc(t){t._valueTracker||(t._valueTracker=mR(t))}function oS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jm(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function F_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aS(t,e){e=e.checked,e!=null&&k0(t,"checked",e,!1)}function Hm(t,e){aS(t,e);var r=Zi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wm(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wm(t,e,r){(e!=="number"||_h(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var sl=Array.isArray;function Yo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(sl(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zi(r)}}function lS(t,e){var r=Zi(e.value),n=Zi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function B_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,cS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gR=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(t){gR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gl[e]=gl[t]})});function hS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gl.hasOwnProperty(t)&&gl[t]?(""+e).trim():e+"px"}function dS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var yR=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ym(t,e){if(e){if(yR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Qm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=null;function L0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Km=null,Qo=null,qo=null;function U_(t){if(t=uu(t)){if(typeof Km!="function")throw Error(K(280));var e=t.stateNode;e&&(e=_d(e),Km(t.stateNode,t.type,e))}}function fS(t){Qo?qo?qo.push(t):qo=[t]:Qo=t}function pS(){if(Qo){var t=Qo,e=qo;if(qo=Qo=null,U_(t),e)for(t=0;t<e.length;t++)U_(e[t])}}function mS(t,e){return t(e)}function gS(){}var _p=!1;function yS(t,e,r){if(_p)return t(e,r);_p=!0;try{return mS(t,e,r)}finally{_p=!1,(Qo!==null||qo!==null)&&(gS(),pS())}}function Ol(t,e){var r=t.stateNode;if(r===null)return null;var n=_d(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Zm=!1;if(di)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Zm=!1}function vR(t,e,r,n,i,s,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var yl=!1,xh=null,wh=!1,Jm=null,_R={onError:function(t){yl=!0,xh=t}};function xR(t,e,r,n,i,s,o,u,c){yl=!1,xh=null,vR.apply(_R,arguments)}function wR(t,e,r,n,i,s,o,u,c){if(xR.apply(this,arguments),yl){if(yl){var h=xh;yl=!1,xh=null}else throw Error(K(198));wh||(wh=!0,Jm=h)}}function qs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z_(t){if(qs(t)!==t)throw Error(K(188))}function SR(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return z_(i),t;if(s===n)return z_(i),e;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function _S(t){return t=SR(t),t!==null?xS(t):null}function xS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xS(t);if(e!==null)return e;t=t.sibling}return null}var wS=br.unstable_scheduleCallback,G_=br.unstable_cancelCallback,ER=br.unstable_shouldYield,bR=br.unstable_requestPaint,mt=br.unstable_now,TR=br.unstable_getCurrentPriorityLevel,D0=br.unstable_ImmediatePriority,SS=br.unstable_UserBlockingPriority,Sh=br.unstable_NormalPriority,AR=br.unstable_LowPriority,ES=br.unstable_IdlePriority,md=null,Gn=null;function CR(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:PR,RR=Math.log,IR=Math.LN2;function PR(t){return t>>>=0,t===0?32:31-(RR(t)/IR|0)|0}var ac=64,lc=4194304;function ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=ol(u):(s&=o,s!==0&&(n=ol(s)))}else o=r&~i,o!==0?n=ol(o):s!==0&&(n=ol(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fn(e),i=1<<r,n|=t[r],e&=~i;return n}function NR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kR(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fn(s),u=1<<o,c=i[o];c===-1?(!(u&r)||u&n)&&(i[o]=NR(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function eg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bS(){var t=ac;return ac<<=1,!(ac&4194240)&&(ac=64),t}function xp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function au(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=r}function OR(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-fn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function B0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ge=0;function TS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AS,U0,CS,RS,IS,tg=!1,uc=[],ji=null,Hi=null,Wi=null,Ml=new Map,Fl=new Map,Li=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $_(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Va(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uu(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FR(t,e,r,n,i){switch(e){case"focusin":return ji=Va(ji,t,e,r,n,i),!0;case"dragenter":return Hi=Va(Hi,t,e,r,n,i),!0;case"mouseover":return Wi=Va(Wi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ml.set(s,Va(Ml.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Fl.set(s,Va(Fl.get(s)||null,t,e,r,n,i)),!0}return!1}function PS(t){var e=Ms(t.target);if(e!==null){var r=qs(e);if(r!==null){if(e=r.tag,e===13){if(e=vS(r),e!==null){t.blockedOn=e,IS(t.priority,function(){CS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qm=n,r.target.dispatchEvent(n),qm=null}else return e=uu(r),e!==null&&U0(e),t.blockedOn=r,!1;e.shift()}return!0}function j_(t,e,r){Yc(t)&&r.delete(e)}function LR(){tg=!1,ji!==null&&Yc(ji)&&(ji=null),Hi!==null&&Yc(Hi)&&(Hi=null),Wi!==null&&Yc(Wi)&&(Wi=null),Ml.forEach(j_),Fl.forEach(j_)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,tg||(tg=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,LR)))}function Ll(t){function e(i){return Xa(i,t)}if(0<uc.length){Xa(uc[0],t);for(var r=1;r<uc.length;r++){var n=uc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ji!==null&&Xa(ji,t),Hi!==null&&Xa(Hi,t),Wi!==null&&Xa(Wi,t),Ml.forEach(e),Fl.forEach(e),r=0;r<Li.length;r++)n=Li[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Li.length&&(r=Li[0],r.blockedOn===null);)PS(r),r.blockedOn===null&&Li.shift()}var Ko=vi.ReactCurrentBatchConfig,bh=!0;function DR(t,e,r,n){var i=Ge,s=Ko.transition;Ko.transition=null;try{Ge=1,z0(t,e,r,n)}finally{Ge=i,Ko.transition=s}}function BR(t,e,r,n){var i=Ge,s=Ko.transition;Ko.transition=null;try{Ge=4,z0(t,e,r,n)}finally{Ge=i,Ko.transition=s}}function z0(t,e,r,n){if(bh){var i=rg(t,e,r,n);if(i===null)Pp(t,e,n,Th,r),$_(t,n);else if(FR(i,t,e,r,n))n.stopPropagation();else if($_(t,n),e&4&&-1<MR.indexOf(t)){for(;i!==null;){var s=uu(i);if(s!==null&&AS(s),s=rg(t,e,r,n),s===null&&Pp(t,e,n,Th,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Pp(t,e,n,null,r)}}var Th=null;function rg(t,e,r,n){if(Th=null,t=L0(n),t=Ms(t),t!==null)if(e=qs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Th=t,null}function NS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TR()){case D0:return 1;case SS:return 4;case Sh:case AR:return 16;case ES:return 536870912;default:return 16}default:return 16}}var Bi=null,G0=null,Qc=null;function kS(){if(Qc)return Qc;var t,e=G0,r=e.length,n,i="value"in Bi?Bi.value:Bi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Qc=i.slice(t,1<n?1-n:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function H_(){return!1}function Cr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cc:H_,this.isPropagationStopped=H_,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=Cr(va),lu=st({},va,{view:0,detail:0}),UR=Cr(lu),wp,Sp,Ya,gd=st({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(wp=t.screenX-Ya.screenX,Sp=t.screenY-Ya.screenY):Sp=wp=0,Ya=t),wp)},movementY:function(t){return"movementY"in t?t.movementY:Sp}}),W_=Cr(gd),zR=st({},gd,{dataTransfer:0}),GR=Cr(zR),$R=st({},lu,{relatedTarget:0}),Ep=Cr($R),jR=st({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),HR=Cr(jR),WR=st({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VR=Cr(WR),XR=st({},va,{data:0}),V_=Cr(XR),YR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qR[t])?!!e[t]:!1}function j0(){return KR}var ZR=st({},lu,{key:function(t){if(t.key){var e=YR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j0,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JR=Cr(ZR),eI=st({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X_=Cr(eI),tI=st({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j0}),rI=Cr(tI),nI=st({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=Cr(nI),sI=st({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=Cr(sI),aI=[9,13,27,32],H0=di&&"CompositionEvent"in window,vl=null;di&&"documentMode"in document&&(vl=document.documentMode);var lI=di&&"TextEvent"in window&&!vl,OS=di&&(!H0||vl&&8<vl&&11>=vl),Y_=String.fromCharCode(32),Q_=!1;function MS(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function uI(t,e){switch(t){case"compositionend":return FS(e);case"keypress":return e.which!==32?null:(Q_=!0,Y_);case"textInput":return t=e.data,t===Y_&&Q_?null:t;default:return null}}function cI(t,e){if(ko)return t==="compositionend"||!H0&&MS(t,e)?(t=kS(),Qc=G0=Bi=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OS&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function LS(t,e,r,n){fS(n),e=Ah(e,"onChange"),0<e.length&&(r=new $0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _l=null,Dl=null;function dI(t){XS(t,0)}function yd(t){var e=Fo(t);if(oS(e))return t}function fI(t,e){if(t==="change")return e}var DS=!1;if(di){var bp;if(di){var Tp="oninput"in document;if(!Tp){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Tp=typeof K_.oninput=="function"}bp=Tp}else bp=!1;DS=bp&&(!document.documentMode||9<document.documentMode)}function Z_(){_l&&(_l.detachEvent("onpropertychange",BS),Dl=_l=null)}function BS(t){if(t.propertyName==="value"&&yd(Dl)){var e=[];LS(e,Dl,t,L0(t)),yS(dI,e)}}function pI(t,e,r){t==="focusin"?(Z_(),_l=e,Dl=r,_l.attachEvent("onpropertychange",BS)):t==="focusout"&&Z_()}function mI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Dl)}function gI(t,e){if(t==="click")return yd(e)}function yI(t,e){if(t==="input"||t==="change")return yd(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:vI;function Bl(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Bm.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e1(t,e){var r=J_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=J_(r)}}function US(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?US(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zS(){for(var t=window,e=_h();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_h(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _I(t){var e=zS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&US(r.ownerDocument.documentElement,r)){if(n!==null&&W0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=e1(r,s);var o=e1(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=di&&"documentMode"in document&&11>=document.documentMode,Oo=null,ng=null,xl=null,ig=!1;function t1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ig||Oo==null||Oo!==_h(n)||(n=Oo,"selectionStart"in n&&W0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xl&&Bl(xl,n)||(xl=n,n=Ah(ng,"onSelect"),0<n.length&&(e=new $0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Oo)))}function hc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mo={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},Ap={},GS={};di&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function vd(t){if(Ap[t])return Ap[t];if(!Mo[t])return t;var e=Mo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in GS)return Ap[t]=e[r];return t}var $S=vd("animationend"),jS=vd("animationiteration"),HS=vd("animationstart"),WS=vd("transitionend"),VS=new Map,r1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){VS.set(t,e),Qs(e,[t])}for(var Cp=0;Cp<r1.length;Cp++){var Rp=r1[Cp],wI=Rp.toLowerCase(),SI=Rp[0].toUpperCase()+Rp.slice(1);rs(wI,"on"+SI)}rs($S,"onAnimationEnd");rs(jS,"onAnimationIteration");rs(HS,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(WS,"onTransitionEnd");oa("onMouseEnter",["mouseout","mouseover"]);oa("onMouseLeave",["mouseout","mouseover"]);oa("onPointerEnter",["pointerout","pointerover"]);oa("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EI=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function n1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wR(n,e,void 0,t),t.currentTarget=null}function XS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;n1(i,u,h),s=c}else for(o=0;o<n.length;o++){if(u=n[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;n1(i,u,h),s=c}}}if(wh)throw t=Jm,wh=!1,Jm=null,t}function We(t,e){var r=e[ug];r===void 0&&(r=e[ug]=new Set);var n=t+"__bubble";r.has(n)||(YS(e,t,2,!1),r.add(n))}function Ip(t,e,r){var n=0;e&&(n|=4),YS(r,t,n,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Ul(t){if(!t[dc]){t[dc]=!0,tS.forEach(function(r){r!=="selectionchange"&&(EI.has(r)||Ip(r,!1,t),Ip(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,Ip("selectionchange",!1,e))}}function YS(t,e,r,n){switch(NS(e)){case 1:var i=DR;break;case 4:i=BR;break;default:i=z0}r=i.bind(null,e,r,t),i=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Pp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ms(u),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}u=u.parentNode}}n=n.return}yS(function(){var h=s,f=L0(r),g=[];e:{var m=VS.get(t);if(m!==void 0){var v=$0,_=t;switch(t){case"keypress":if(qc(r)===0)break e;case"keydown":case"keyup":v=JR;break;case"focusin":_="focus",v=Ep;break;case"focusout":_="blur",v=Ep;break;case"beforeblur":case"afterblur":v=Ep;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=W_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=GR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=rI;break;case $S:case jS:case HS:v=HR;break;case WS:v=iI;break;case"scroll":v=UR;break;case"wheel":v=oI;break;case"copy":case"cut":case"paste":v=VR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=X_}var b=(e&4)!==0,T=!b&&t==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var E=h,w;E!==null;){w=E;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,S!==null&&(A=Ol(E,S),A!=null&&b.push(zl(E,A,w)))),T)break;E=E.return}0<b.length&&(m=new v(m,_,null,r,f),g.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==qm&&(_=r.relatedTarget||r.fromElement)&&(Ms(_)||_[fi]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=r.relatedTarget||r.toElement,v=h,_=_?Ms(_):null,_!==null&&(T=qs(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=h),v!==_)){if(b=W_,A="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=X_,A="onPointerLeave",S="onPointerEnter",E="pointer"),T=v==null?m:Fo(v),w=_==null?m:Fo(_),m=new b(A,E+"leave",v,r,f),m.target=T,m.relatedTarget=w,A=null,Ms(f)===h&&(b=new b(S,E+"enter",_,r,f),b.target=w,b.relatedTarget=T,A=b),T=A,v&&_)t:{for(b=v,S=_,E=0,w=b;w;w=yo(w))E++;for(w=0,A=S;A;A=yo(A))w++;for(;0<E-w;)b=yo(b),E--;for(;0<w-E;)S=yo(S),w--;for(;E--;){if(b===S||S!==null&&b===S.alternate)break t;b=yo(b),S=yo(S)}b=null}else b=null;v!==null&&i1(g,m,v,b,!1),_!==null&&T!==null&&i1(g,T,_,b,!0)}}e:{if(m=h?Fo(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=fI;else if(q_(m))if(DS)k=yI;else{k=mI;var D=pI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=gI);if(k&&(k=k(t,h))){LS(g,k,r,f);break e}D&&D(t,m,h),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Wm(m,"number",m.value)}switch(D=h?Fo(h):window,t){case"focusin":(q_(D)||D.contentEditable==="true")&&(Oo=D,ng=h,xl=null);break;case"focusout":xl=ng=Oo=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,t1(g,r,f);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":t1(g,r,f)}var R;if(H0)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ko?MS(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(OS&&r.locale!=="ko"&&(ko||P!=="onCompositionStart"?P==="onCompositionEnd"&&ko&&(R=kS()):(Bi=f,G0="value"in Bi?Bi.value:Bi.textContent,ko=!0)),D=Ah(h,P),0<D.length&&(P=new V_(P,t,null,r,f),g.push({event:P,listeners:D}),R?P.data=R:(R=FS(r),R!==null&&(P.data=R)))),(R=lI?uI(t,r):cI(t,r))&&(h=Ah(h,"onBeforeInput"),0<h.length&&(f=new V_("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:h}),f.data=R))}XS(g,e)})}function zl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ah(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ol(t,r),s!=null&&n.unshift(zl(t,s,i)),s=Ol(t,e),s!=null&&n.push(zl(t,s,i))),t=t.return}return n}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i1(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var u=r,c=u.alternate,h=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&h!==null&&(u=h,i?(c=Ol(r,s),c!=null&&o.unshift(zl(r,c,u))):i||(c=Ol(r,s),c!=null&&o.push(zl(r,c,u)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var bI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function s1(t){return(typeof t=="string"?t:""+t).replace(bI,`
`).replace(TI,"")}function fc(t,e,r){if(e=s1(e),s1(t)!==e&&r)throw Error(K(425))}function Ch(){}var sg=null,og=null;function ag(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(t){return o1.resolve(null).then(t).catch(RI)}:lg;function RI(t){setTimeout(function(){throw t})}function Np(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ll(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ll(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Un="__reactFiber$"+_a,Gl="__reactProps$"+_a,fi="__reactContainer$"+_a,ug="__reactEvents$"+_a,II="__reactListeners$"+_a,PI="__reactHandles$"+_a;function Ms(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fi]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=a1(t);t!==null;){if(r=t[Un])return r;t=a1(t)}return e}t=r,r=t.parentNode}return null}function uu(t){return t=t[Un]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function _d(t){return t[Gl]||null}var cg=[],Lo=-1;function ns(t){return{current:t}}function Xe(t){0>Lo||(t.current=cg[Lo],cg[Lo]=null,Lo--)}function je(t,e){Lo++,cg[Lo]=t.current,t.current=e}var Ji={},Yt=ns(Ji),cr=ns(!1),Gs=Ji;function aa(t,e){var r=t.type.contextTypes;if(!r)return Ji;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hr(t){return t=t.childContextTypes,t!=null}function Rh(){Xe(cr),Xe(Yt)}function l1(t,e,r){if(Yt.current!==Ji)throw Error(K(168));je(Yt,e),je(cr,r)}function QS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,pR(t)||"Unknown",i));return st({},r,n)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Gs=Yt.current,je(Yt,t),je(cr,cr.current),!0}function u1(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=QS(t,e,Gs),n.__reactInternalMemoizedMergedChildContext=t,Xe(cr),Xe(Yt),je(Yt,t)):Xe(cr),je(cr,r)}var ni=null,xd=!1,kp=!1;function qS(t){ni===null?ni=[t]:ni.push(t)}function NI(t){xd=!0,qS(t)}function is(){if(!kp&&ni!==null){kp=!0;var t=0,e=Ge;try{var r=ni;for(Ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ni=null,xd=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),wS(D0,is),i}finally{Ge=e,kp=!1}}return null}var Do=[],Bo=0,Ph=null,Nh=0,zr=[],Gr=0,$s=null,ii=1,si="";function ws(t,e){Do[Bo++]=Nh,Do[Bo++]=Ph,Ph=t,Nh=e}function KS(t,e,r){zr[Gr++]=ii,zr[Gr++]=si,zr[Gr++]=$s,$s=t;var n=ii;t=si;var i=32-fn(n)-1;n&=~(1<<i),r+=1;var s=32-fn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ii=1<<32-fn(e)+i|r<<i|n,si=s+t}else ii=1<<s|r<<i|n,si=t}function V0(t){t.return!==null&&(ws(t,1),KS(t,1,0))}function X0(t){for(;t===Ph;)Ph=Do[--Bo],Do[Bo]=null,Nh=Do[--Bo],Do[Bo]=null;for(;t===$s;)$s=zr[--Gr],zr[Gr]=null,si=zr[--Gr],zr[Gr]=null,ii=zr[--Gr],zr[Gr]=null}var Sr=null,xr=null,Ze=!1,un=null;function ZS(t,e){var r=$r(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function c1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,xr=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$s!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$r(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Sr=t,xr=null,!0):!1;default:return!1}}function hg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dg(t){if(Ze){var e=xr;if(e){var r=e;if(!c1(t,e)){if(hg(t))throw Error(K(418));e=Vi(r.nextSibling);var n=Sr;e&&c1(t,e)?ZS(n,r):(t.flags=t.flags&-4097|2,Ze=!1,Sr=t)}}else{if(hg(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ze=!1,Sr=t}}}function h1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function pc(t){if(t!==Sr)return!1;if(!Ze)return h1(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ag(t.type,t.memoizedProps)),e&&(e=xr)){if(hg(t))throw JS(),Error(K(418));for(;e;)ZS(t,e),e=Vi(e.nextSibling)}if(h1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xr=Vi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=Sr?Vi(t.stateNode.nextSibling):null;return!0}function JS(){for(var t=xr;t;)t=Vi(t.nextSibling)}function la(){xr=Sr=null,Ze=!1}function Y0(t){un===null?un=[t]:un.push(t)}var kI=vi.ReactCurrentBatchConfig;function Qa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function mc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d1(t){var e=t._init;return e(t._payload)}function eE(t){function e(S,E){if(t){var w=S.deletions;w===null?(S.deletions=[E],S.flags|=16):w.push(E)}}function r(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=qi(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags|=2,E):w):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,E,w,A){return E===null||E.tag!==6?(E=Up(w,S.mode,A),E.return=S,E):(E=i(E,w),E.return=S,E)}function c(S,E,w,A){var k=w.type;return k===No?f(S,E,w.props.children,A,w.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&d1(k)===E.type)?(A=i(E,w.props),A.ref=Qa(S,E,w),A.return=S,A):(A=nh(w.type,w.key,w.props,null,S.mode,A),A.ref=Qa(S,E,w),A.return=S,A)}function h(S,E,w,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=zp(w,S.mode,A),E.return=S,E):(E=i(E,w.children||[]),E.return=S,E)}function f(S,E,w,A,k){return E===null||E.tag!==7?(E=Bs(w,S.mode,A,k),E.return=S,E):(E=i(E,w),E.return=S,E)}function g(S,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Up(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ic:return w=nh(E.type,E.key,E.props,null,S.mode,w),w.ref=Qa(S,null,E),w.return=S,w;case Po:return E=zp(E,S.mode,w),E.return=S,E;case Mi:var A=E._init;return g(S,A(E._payload),w)}if(sl(E)||Ha(E))return E=Bs(E,S.mode,w,null),E.return=S,E;mc(S,E)}return null}function m(S,E,w,A){var k=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:u(S,E,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ic:return w.key===k?c(S,E,w,A):null;case Po:return w.key===k?h(S,E,w,A):null;case Mi:return k=w._init,m(S,E,k(w._payload),A)}if(sl(w)||Ha(w))return k!==null?null:f(S,E,w,A,null);mc(S,w)}return null}function v(S,E,w,A,k){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(w)||null,u(E,S,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ic:return S=S.get(A.key===null?w:A.key)||null,c(E,S,A,k);case Po:return S=S.get(A.key===null?w:A.key)||null,h(E,S,A,k);case Mi:var D=A._init;return v(S,E,w,D(A._payload),k)}if(sl(A)||Ha(A))return S=S.get(w)||null,f(E,S,A,k,null);mc(E,A)}return null}function _(S,E,w,A){for(var k=null,D=null,R=E,P=E=0,U=null;R!==null&&P<w.length;P++){R.index>P?(U=R,R=null):U=R.sibling;var B=m(S,R,w[P],A);if(B===null){R===null&&(R=U);break}t&&R&&B.alternate===null&&e(S,R),E=s(B,E,P),D===null?k=B:D.sibling=B,D=B,R=U}if(P===w.length)return r(S,R),Ze&&ws(S,P),k;if(R===null){for(;P<w.length;P++)R=g(S,w[P],A),R!==null&&(E=s(R,E,P),D===null?k=R:D.sibling=R,D=R);return Ze&&ws(S,P),k}for(R=n(S,R);P<w.length;P++)U=v(R,S,P,w[P],A),U!==null&&(t&&U.alternate!==null&&R.delete(U.key===null?P:U.key),E=s(U,E,P),D===null?k=U:D.sibling=U,D=U);return t&&R.forEach(function(Q){return e(S,Q)}),Ze&&ws(S,P),k}function b(S,E,w,A){var k=Ha(w);if(typeof k!="function")throw Error(K(150));if(w=k.call(w),w==null)throw Error(K(151));for(var D=k=null,R=E,P=E=0,U=null,B=w.next();R!==null&&!B.done;P++,B=w.next()){R.index>P?(U=R,R=null):U=R.sibling;var Q=m(S,R,B.value,A);if(Q===null){R===null&&(R=U);break}t&&R&&Q.alternate===null&&e(S,R),E=s(Q,E,P),D===null?k=Q:D.sibling=Q,D=Q,R=U}if(B.done)return r(S,R),Ze&&ws(S,P),k;if(R===null){for(;!B.done;P++,B=w.next())B=g(S,B.value,A),B!==null&&(E=s(B,E,P),D===null?k=B:D.sibling=B,D=B);return Ze&&ws(S,P),k}for(R=n(S,R);!B.done;P++,B=w.next())B=v(R,S,P,B.value,A),B!==null&&(t&&B.alternate!==null&&R.delete(B.key===null?P:B.key),E=s(B,E,P),D===null?k=B:D.sibling=B,D=B);return t&&R.forEach(function(j){return e(S,j)}),Ze&&ws(S,P),k}function T(S,E,w,A){if(typeof w=="object"&&w!==null&&w.type===No&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ic:e:{for(var k=w.key,D=E;D!==null;){if(D.key===k){if(k=w.type,k===No){if(D.tag===7){r(S,D.sibling),E=i(D,w.props.children),E.return=S,S=E;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&d1(k)===D.type){r(S,D.sibling),E=i(D,w.props),E.ref=Qa(S,D,w),E.return=S,S=E;break e}r(S,D);break}else e(S,D);D=D.sibling}w.type===No?(E=Bs(w.props.children,S.mode,A,w.key),E.return=S,S=E):(A=nh(w.type,w.key,w.props,null,S.mode,A),A.ref=Qa(S,E,w),A.return=S,S=A)}return o(S);case Po:e:{for(D=w.key;E!==null;){if(E.key===D)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(S,E.sibling),E=i(E,w.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else e(S,E);E=E.sibling}E=zp(w,S.mode,A),E.return=S,S=E}return o(S);case Mi:return D=w._init,T(S,E,D(w._payload),A)}if(sl(w))return _(S,E,w,A);if(Ha(w))return b(S,E,w,A);mc(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,w),E.return=S,S=E):(r(S,E),E=Up(w,S.mode,A),E.return=S,S=E),o(S)):r(S,E)}return T}var ua=eE(!0),tE=eE(!1),kh=ns(null),Oh=null,Uo=null,Q0=null;function q0(){Q0=Uo=Oh=null}function K0(t){var e=kh.current;Xe(kh),t._currentValue=e}function fg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zo(t,e){Oh=t,Q0=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ur=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(Q0!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(Oh===null)throw Error(K(308));Uo=t,Oh.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Fs=null;function Z0(t){Fs===null?Fs=[t]:Fs.push(t)}function rE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Z0(e)):(r.next=i.next,i.next=r),e.interleaved=r,pi(t,n)}function pi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Fi=!1;function J0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,pi(t,r)}return i=n.interleaved,i===null?(e.next=e,Z0(n)):(e.next=i.next,i.next=e),n.interleaved=e,pi(t,r)}function Kc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,B0(t,r)}}function f1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mh(t,e,r,n){var i=t.updateQueue;Fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,f=h=c=null,u=s;do{var m=u.lane,v=u.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=t,b=u;switch(m=e,v=r,b.tag){case 1:if(_=b.payload,typeof _=="function"){g=_.call(v,g,m);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,m=typeof _=="function"?_.call(v,g,m):_,m==null)break e;g=st({},g,m);break e;case 2:Fi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,c=g):f=f.next=v,o|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=g),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hs|=o,t.lanes=o,t.memoizedState=g}}function p1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var cu={},$n=ns(cu),$l=ns(cu),jl=ns(cu);function Ls(t){if(t===cu)throw Error(K(174));return t}function ey(t,e){switch(je(jl,e),je($l,t),je($n,cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}Xe($n),je($n,e)}function ca(){Xe($n),Xe($l),Xe(jl)}function iE(t){Ls(jl.current);var e=Ls($n.current),r=Xm(e,t.type);e!==r&&(je($l,t),je($n,r))}function ty(t){$l.current===t&&(Xe($n),Xe($l))}var tt=ns(0);function Fh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function ry(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var Zc=vi.ReactCurrentDispatcher,Mp=vi.ReactCurrentBatchConfig,js=0,nt=null,St=null,Pt=null,Lh=!1,wl=!1,Hl=0,OI=0;function Ht(){throw Error(K(321))}function ny(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function iy(t,e,r,n,i,s){if(js=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zc.current=t===null||t.memoizedState===null?DI:BI,t=r(n,i),wl){s=0;do{if(wl=!1,Hl=0,25<=s)throw Error(K(301));s+=1,Pt=St=null,e.updateQueue=null,Zc.current=UI,t=r(n,i)}while(wl)}if(Zc.current=Dh,e=St!==null&&St.next!==null,js=0,Pt=St=nt=null,Lh=!1,e)throw Error(K(300));return t}function sy(){var t=Hl!==0;return Hl=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function qr(){if(St===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Pt===null?nt.memoizedState:Pt.next;if(e!==null)Pt=e,St=t;else{if(t===null)throw Error(K(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?nt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Wl(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=qr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=St,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,c=null,h=s;do{var f=h.lane;if((js&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=g,o=n):c=c.next=g,nt.lanes|=f,Hs|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=u,yn(n,e.memoizedState)||(ur=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,nt.lanes|=s,Hs|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Lp(t){var e=qr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function sE(){}function oE(t,e){var r=nt,n=qr(),i=e(),s=!yn(n.memoizedState,i);if(s&&(n.memoizedState=i,ur=!0),n=n.queue,oy(uE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(r.flags|=2048,Vl(9,lE.bind(null,r,n,i,e),void 0,null),kt===null)throw Error(K(349));js&30||aE(r,e,i)}return i}function aE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lE(t,e,r,n){e.value=r,e.getSnapshot=n,cE(e)&&hE(t)}function uE(t,e,r){return r(function(){cE(e)&&hE(t)})}function cE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function hE(t){var e=pi(t,1);e!==null&&pn(e,t,1,-1)}function m1(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=LI.bind(null,nt,t),[e.memoizedState,t]}function Vl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dE(){return qr().memoizedState}function Jc(t,e,r,n){var i=Ln();nt.flags|=t,i.memoizedState=Vl(1|e,r,void 0,n===void 0?null:n)}function wd(t,e,r,n){var i=qr();n=n===void 0?null:n;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,n!==null&&ny(n,o.deps)){i.memoizedState=Vl(e,r,s,n);return}}nt.flags|=t,i.memoizedState=Vl(1|e,r,s,n)}function g1(t,e){return Jc(8390656,8,t,e)}function oy(t,e){return wd(2048,8,t,e)}function fE(t,e){return wd(4,2,t,e)}function pE(t,e){return wd(4,4,t,e)}function mE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gE(t,e,r){return r=r!=null?r.concat([t]):null,wd(4,4,mE.bind(null,e,t),r)}function ay(){}function yE(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ny(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vE(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ny(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _E(t,e,r){return js&21?(yn(r,e)||(r=bS(),nt.lanes|=r,Hs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ur=!0),t.memoizedState=r)}function MI(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var n=Mp.transition;Mp.transition={};try{t(!1),e()}finally{Ge=r,Mp.transition=n}}function xE(){return qr().memoizedState}function FI(t,e,r){var n=Qi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wE(t))SE(e,r);else if(r=rE(t,e,r,n),r!==null){var i=Zt();pn(r,t,n,i),EE(r,e,n)}}function LI(t,e,r){var n=Qi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wE(t))SE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,yn(u,o)){var c=e.interleaved;c===null?(i.next=i,Z0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=rE(t,e,i,n),r!==null&&(i=Zt(),pn(r,t,n,i),EE(r,e,n))}}function wE(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function SE(t,e){wl=Lh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,B0(t,r)}}var Dh={readContext:Qr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},DI={readContext:Qr,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:g1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jc(4194308,4,mE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var r=Ln();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ln();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=FI.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:m1,useDebugValue:ay,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=m1(!1),e=t[0];return t=MI.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,i=Ln();if(Ze){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),kt===null)throw Error(K(349));js&30||aE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,g1(uE.bind(null,n,s,t),[t]),n.flags|=2048,Vl(9,lE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ln(),e=kt.identifierPrefix;if(Ze){var r=si,n=ii;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=OI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BI={readContext:Qr,useCallback:yE,useContext:Qr,useEffect:oy,useImperativeHandle:gE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:Fp,useRef:dE,useState:function(){return Fp(Wl)},useDebugValue:ay,useDeferredValue:function(t){var e=qr();return _E(e,St.memoizedState,t)},useTransition:function(){var t=Fp(Wl)[0],e=qr().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:oE,useId:xE,unstable_isNewReconciler:!1},UI={readContext:Qr,useCallback:yE,useContext:Qr,useEffect:oy,useImperativeHandle:gE,useInsertionEffect:fE,useLayoutEffect:pE,useMemo:vE,useReducer:Lp,useRef:dE,useState:function(){return Lp(Wl)},useDebugValue:ay,useDeferredValue:function(t){var e=qr();return St===null?e.memoizedState=t:_E(e,St.memoizedState,t)},useTransition:function(){var t=Lp(Wl)[0],e=qr().memoizedState;return[t,e]},useMutableSource:sE,useSyncExternalStore:oE,useId:xE,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sd={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Zt(),i=Qi(t),s=ui(n,i);s.payload=e,r!=null&&(s.callback=r),e=Xi(t,s,i),e!==null&&(pn(e,t,i,n),Kc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Zt(),i=Qi(t),s=ui(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Xi(t,s,i),e!==null&&(pn(e,t,i,n),Kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Zt(),n=Qi(t),i=ui(r,n);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,n),e!==null&&(pn(e,t,n,r),Kc(e,t,n))}};function y1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(r,n)||!Bl(i,s):!0}function bE(t,e,r){var n=!1,i=Ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Qr(s):(i=hr(e)?Gs:Yt.current,n=e.contextTypes,s=(n=n!=null)?aa(t,i):Ji),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function mg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},J0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qr(s):(s=hr(e)?Gs:Yt.current,i.context=aa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sd.enqueueReplaceState(i,i.state,null),Mh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,e){try{var r="",n=e;do r+=fR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zI=typeof WeakMap=="function"?WeakMap:Map;function TE(t,e,r){r=ui(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uh||(Uh=!0,Ag=n),gg(t,e)},r}function AE(t,e,r){r=ui(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){gg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gg(t,e),typeof n!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function _1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=eP.bind(null,t,e,r),e.then(t,t))}function x1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ui(-1,1),e.tag=2,Xi(r,e,1))),r.lanes|=1),t)}var GI=vi.ReactCurrentOwner,ur=!1;function Kt(t,e,r,n){e.child=t===null?tE(e,null,r,n):ua(e,t.child,r,n)}function S1(t,e,r,n,i){r=r.render;var s=e.ref;return Zo(e,i),n=iy(t,e,r,n,s,i),r=sy(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Ze&&r&&V0(e),e.flags|=1,Kt(t,e,n,i),e.child)}function E1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!my(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,CE(t,e,s,n,i)):(t=nh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(o,n)&&t.ref===e.ref)return mi(t,e,i)}return e.flags|=1,t=qi(s,n),t.ref=e.ref,t.return=e,e.child=t}function CE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Bl(s,n)&&t.ref===e.ref)if(ur=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ur=!0);else return e.lanes=t.lanes,mi(t,e,i)}return yg(t,e,r,n,i)}function RE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Go,_r),_r|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Go,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,je(Go,_r),_r|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,je(Go,_r),_r|=n;return Kt(t,e,i,r),e.child}function IE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,r,n,i){var s=hr(r)?Gs:Yt.current;return s=aa(e,s),Zo(e,i),r=iy(t,e,r,n,s,i),n=sy(),t!==null&&!ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mi(t,e,i)):(Ze&&n&&V0(e),e.flags|=1,Kt(t,e,r,i),e.child)}function b1(t,e,r,n,i){if(hr(r)){var s=!0;Ih(e)}else s=!1;if(Zo(e,i),e.stateNode===null)eh(t,e),bE(e,r,n),mg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Qr(h):(h=hr(r)?Gs:Yt.current,h=aa(e,h));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||c!==h)&&v1(e,o,n,h),Fi=!1;var m=e.memoizedState;o.state=m,Mh(e,n,o,i),c=e.memoizedState,u!==n||m!==c||cr.current||Fi?(typeof f=="function"&&(pg(e,r,f,n),c=e.memoizedState),(u=Fi||y1(e,r,u,n,m,c,h))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,nE(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:an(e.type,u),o.props=h,g=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qr(c):(c=hr(r)?Gs:Yt.current,c=aa(e,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==g||m!==c)&&v1(e,o,n,c),Fi=!1,m=e.memoizedState,o.state=m,Mh(e,n,o,i);var _=e.memoizedState;u!==g||m!==_||cr.current||Fi?(typeof v=="function"&&(pg(e,r,v,n),_=e.memoizedState),(h=Fi||y1(e,r,h,n,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return vg(t,e,r,n,s,i)}function vg(t,e,r,n,i,s){IE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&u1(e,r,!1),mi(t,e,s);n=e.stateNode,GI.current=e;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ua(e,t.child,null,s),e.child=ua(e,null,u,s)):Kt(t,e,u,s),e.memoizedState=n.state,i&&u1(e,r,!0),e.child}function PE(t){var e=t.stateNode;e.pendingContext?l1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l1(t,e.context,!1),ey(t,e.containerInfo)}function T1(t,e,r,n,i){return la(),Y0(i),e.flags|=256,Kt(t,e,r,n),e.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function NE(t,e,r){var n=e.pendingProps,i=tt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(tt,i&1),t===null)return dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Td(o,n,0,null),t=Bs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xg(r),e.memoizedState=_g,t):ly(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return $I(t,e,o,n,u,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=qi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=qi(u,s):(s=Bs(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?xg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=_g,n}return s=t.child,t=s.sibling,n=qi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ly(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gc(t,e,r,n){return n!==null&&Y0(n),ua(e,t.child,null,r),t=ly(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $I(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Dp(Error(K(422))),gc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Td({mode:"visible",children:n.children},i,0,null),s=Bs(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ua(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=_g,s);if(!(e.mode&1))return gc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(K(419)),n=Dp(s,n,void 0),gc(t,e,o,n)}if(u=(o&t.childLanes)!==0,ur||u){if(n=kt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(t,i),pn(n,t,i,-1))}return py(),n=Dp(Error(K(421))),gc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xr=Vi(i.nextSibling),Sr=e,Ze=!0,un=null,t!==null&&(zr[Gr++]=ii,zr[Gr++]=si,zr[Gr++]=$s,ii=t.id,si=t.overflow,$s=e),e=ly(e,n.children),e.flags|=4096,e)}function A1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fg(t.return,e,r)}function Bp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Kt(t,e,n.children,r),n=tt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A1(t,r,e);else if(t.tag===19)A1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(tt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Fh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Bp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Bp(e,!0,r,null,s);break;case"together":Bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=qi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jI(t,e,r){switch(e.tag){case 3:PE(e),la();break;case 5:iE(e);break;case 1:hr(e.type)&&Ih(e);break;case 4:ey(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;je(kh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(tt,tt.current&1),e.flags|=128,null):r&e.child.childLanes?NE(t,e,r):(je(tt,tt.current&1),t=mi(t,e,r),t!==null?t.sibling:null);je(tt,tt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(tt,tt.current),n)break;return null;case 22:case 23:return e.lanes=0,RE(t,e,r)}return mi(t,e,r)}var OE,wg,ME,FE;OE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wg=function(){};ME=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ls($n.current);var s=null;switch(r){case"input":i=jm(t,i),n=jm(t,n),s=[];break;case"select":i=st({},i,{value:void 0}),n=st({},n,{value:void 0}),s=[];break;case"textarea":i=Vm(t,i),n=Vm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ch)}Ym(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Nl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&We("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};FE=function(t,e,r,n){r!==n&&(e.flags|=4)};function qa(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HI(t,e,r){var n=e.pendingProps;switch(X0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return hr(e.type)&&Rh(),Wt(e),null;case 3:return n=e.stateNode,ca(),Xe(cr),Xe(Yt),ry(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Ig(un),un=null))),wg(t,e),Wt(e),null;case 5:ty(e);var i=Ls(jl.current);if(r=e.type,t!==null&&e.stateNode!=null)ME(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return Wt(e),null}if(t=Ls($n.current),pc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Un]=e,n[Gl]=s,t=(e.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<al.length;i++)We(al[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":F_(n,s),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},We("invalid",n);break;case"textarea":D_(n,s),We("invalid",n)}Ym(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&fc(n.textContent,u,t),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&fc(n.textContent,u,t),i=["children",""+u]):Nl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":sc(n),L_(n,s,!0);break;case"textarea":sc(n),B_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ch)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Un]=e,t[Gl]=n,OE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qm(r,n),r){case"dialog":We("cancel",t),We("close",t),i=n;break;case"iframe":case"object":case"embed":We("load",t),i=n;break;case"video":case"audio":for(i=0;i<al.length;i++)We(al[i],t);i=n;break;case"source":We("error",t),i=n;break;case"img":case"image":case"link":We("error",t),We("load",t),i=n;break;case"details":We("toggle",t),i=n;break;case"input":F_(t,n),i=jm(t,n),We("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=st({},n,{value:void 0}),We("invalid",t);break;case"textarea":D_(t,n),i=Vm(t,n),We("invalid",t);break;default:i=n}Ym(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?dS(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cS(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kl(t,c):typeof c=="number"&&kl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&We("scroll",t):c!=null&&k0(t,s,c,o))}switch(r){case"input":sc(t),L_(t,n,!1);break;case"textarea":sc(t),B_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zi(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Yo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Yo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ch)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)FE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=Ls(jl.current),Ls($n.current),pc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Un]=e,(s=n.nodeValue!==r)&&(t=Sr,t!==null))switch(t.tag){case 3:fc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n}return Wt(e),null;case 13:if(Xe(tt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&xr!==null&&e.mode&1&&!(e.flags&128))JS(),la(),e.flags|=98560,s=!1;else if(s=pc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Un]=e}else la(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else un!==null&&(Ig(un),un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Et===0&&(Et=3):py())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ca(),wg(t,e),t===null&&Ul(e.stateNode.containerInfo),Wt(e),null;case 10:return K0(e.type._context),Wt(e),null;case 17:return hr(e.type)&&Rh(),Wt(e),null;case 19:if(Xe(tt),s=e.memoizedState,s===null)return Wt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)qa(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fh(t),o!==null){for(e.flags|=128,qa(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(tt,tt.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>da&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304)}else{if(!n)if(t=Fh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return Wt(e),null}else 2*mt()-s.renderingStartTime>da&&r!==1073741824&&(e.flags|=128,n=!0,qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,r=tt.current,je(tt,n?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return fy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_r&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function WI(t,e){switch(X0(e),e.tag){case 1:return hr(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ca(),Xe(cr),Xe(Yt),ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ty(e),null;case 13:if(Xe(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));la()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(tt),null;case 4:return ca(),null;case 10:return K0(e.type._context),null;case 22:case 23:return fy(),null;case 24:return null;default:return null}}var yc=!1,Vt=!1,VI=typeof WeakSet=="function"?WeakSet:Set,ae=null;function zo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ut(t,e,n)}else r.current=null}function Sg(t,e,r){try{r()}catch(n){ut(t,e,n)}}var C1=!1;function XI(t,e){if(sg=bh,t=zS(),W0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,u=-1,c=-1,h=0,f=0,g=t,m=null;t:for(;;){for(var v;g!==r||i!==0&&g.nodeType!==3||(u=o+i),g!==s||n!==0&&g.nodeType!==3||(c=o+n),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===t)break t;if(m===r&&++h===i&&(u=o),m===s&&++f===n&&(c=o),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(og={focusedElem:t,selectionRange:r},bh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,T=_.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:an(e.type,b),T);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(A){ut(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return _=C1,C1=!1,_}function Sl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sg(e,r,s)}i=i.next}while(i!==n)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Eg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function LE(t){var e=t.alternate;e!==null&&(t.alternate=null,LE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Gl],delete e[ug],delete e[II],delete e[PI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DE(t){return t.tag===5||t.tag===3||t.tag===4}function R1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ch));else if(n!==4&&(t=t.child,t!==null))for(bg(t,e,r),t=t.sibling;t!==null;)bg(t,e,r),t=t.sibling}function Tg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Tg(t,e,r),t=t.sibling;t!==null;)Tg(t,e,r),t=t.sibling}var Lt=null,ln=!1;function Pi(t,e,r){for(r=r.child;r!==null;)BE(t,e,r),r=r.sibling}function BE(t,e,r){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(md,r)}catch{}switch(r.tag){case 5:Vt||zo(r,e);case 6:var n=Lt,i=ln;Lt=null,Pi(t,e,r),Lt=n,ln=i,Lt!==null&&(ln?(t=Lt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lt.removeChild(r.stateNode));break;case 18:Lt!==null&&(ln?(t=Lt,r=r.stateNode,t.nodeType===8?Np(t.parentNode,r):t.nodeType===1&&Np(t,r),Ll(t)):Np(Lt,r.stateNode));break;case 4:n=Lt,i=ln,Lt=r.stateNode.containerInfo,ln=!0,Pi(t,e,r),Lt=n,ln=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sg(r,e,o),i=i.next}while(i!==n)}Pi(t,e,r);break;case 1:if(!Vt&&(zo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){ut(r,e,u)}Pi(t,e,r);break;case 21:Pi(t,e,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Pi(t,e,r),Vt=n):Pi(t,e,r);break;default:Pi(t,e,r)}}function I1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new VI),e.forEach(function(n){var i=rP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function rn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Lt=u.stateNode,ln=!1;break e;case 3:Lt=u.stateNode.containerInfo,ln=!0;break e;case 4:Lt=u.stateNode.containerInfo,ln=!0;break e}u=u.return}if(Lt===null)throw Error(K(160));BE(s,o,i),Lt=null,ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ut(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UE(e,t),e=e.sibling}function UE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),Pn(t),n&4){try{Sl(3,t,t.return),Ed(3,t)}catch(b){ut(t,t.return,b)}try{Sl(5,t,t.return)}catch(b){ut(t,t.return,b)}}break;case 1:rn(e,t),Pn(t),n&512&&r!==null&&zo(r,r.return);break;case 5:if(rn(e,t),Pn(t),n&512&&r!==null&&zo(r,r.return),t.flags&32){var i=t.stateNode;try{kl(i,"")}catch(b){ut(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&aS(i,s),Qm(u,o);var h=Qm(u,s);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?dS(i,g):f==="dangerouslySetInnerHTML"?cS(i,g):f==="children"?kl(i,g):k0(i,f,g,h)}switch(u){case"input":Hm(i,s);break;case"textarea":lS(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Yo(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Yo(i,!!s.multiple,s.defaultValue,!0):Yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gl]=s}catch(b){ut(t,t.return,b)}}break;case 6:if(rn(e,t),Pn(t),n&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ut(t,t.return,b)}}break;case 3:if(rn(e,t),Pn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(b){ut(t,t.return,b)}break;case 4:rn(e,t),Pn(t);break;case 13:rn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(hy=mt())),n&4&&I1(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(h=Vt)||f,rn(e,t),Vt=h):rn(e,t),Pn(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ae=t,f=t.child;f!==null;){for(g=ae=f;ae!==null;){switch(m=ae,v=m.child,m.tag){case 0:case 11:case 14:case 15:Sl(4,m,m.return);break;case 1:zo(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){ut(n,r,b)}}break;case 5:zo(m,m.return);break;case 22:if(m.memoizedState!==null){N1(g);continue}}v!==null?(v.return=m,ae=v):N1(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=hS("display",o))}catch(b){ut(t,t.return,b)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(b){ut(t,t.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:rn(e,t),Pn(t),n&4&&I1(t);break;case 21:break;default:rn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(DE(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(kl(i,""),n.flags&=-33);var s=R1(t);Tg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=R1(t);bg(t,u,o);break;default:throw Error(K(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YI(t,e,r){ae=t,zE(t)}function zE(t,e,r){for(var n=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||yc;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Vt;u=yc;var h=Vt;if(yc=o,(Vt=c)&&!h)for(ae=i;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?k1(i):c!==null?(c.return=o,ae=c):k1(i);for(;s!==null;)ae=s,zE(s),s=s.sibling;ae=i,yc=u,Vt=h}P1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):P1(t)}}function P1(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Ed(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:an(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}p1(e,o,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Ll(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Vt||e.flags&512&&Eg(e)}catch(m){ut(e,e.return,m)}}if(e===t){ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}}function N1(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ae=r;break}ae=e.return}}function k1(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ed(4,e)}catch(c){ut(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){ut(e,i,c)}}var s=e.return;try{Eg(e)}catch(c){ut(e,s,c)}break;case 5:var o=e.return;try{Eg(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){ae=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ae=u;break}ae=e.return}}var QI=Math.ceil,Bh=vi.ReactCurrentDispatcher,uy=vi.ReactCurrentOwner,Xr=vi.ReactCurrentBatchConfig,Ne=0,kt=null,vt=null,Bt=0,_r=0,Go=ns(0),Et=0,Xl=null,Hs=0,bd=0,cy=0,El=null,lr=null,hy=0,da=1/0,ti=null,Uh=!1,Ag=null,Yi=null,vc=!1,Ui=null,zh=0,bl=0,Cg=null,th=-1,rh=0;function Zt(){return Ne&6?mt():th!==-1?th:th=mt()}function Qi(t){return t.mode&1?Ne&2&&Bt!==0?Bt&-Bt:kI.transition!==null?(rh===0&&(rh=bS()),rh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:NS(t.type)),t):1}function pn(t,e,r,n){if(50<bl)throw bl=0,Cg=null,Error(K(185));au(t,r,n),(!(Ne&2)||t!==kt)&&(t===kt&&(!(Ne&2)&&(bd|=r),Et===4&&Di(t,Bt)),dr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(da=mt()+500,xd&&is()))}function dr(t,e){var r=t.callbackNode;kR(t,e);var n=Eh(t,t===kt?Bt:0);if(n===0)r!==null&&G_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&G_(r),e===1)t.tag===0?NI(O1.bind(null,t)):qS(O1.bind(null,t)),CI(function(){!(Ne&6)&&is()}),r=null;else{switch(TS(n)){case 1:r=D0;break;case 4:r=SS;break;case 16:r=Sh;break;case 536870912:r=ES;break;default:r=Sh}r=YE(r,GE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function GE(t,e){if(th=-1,rh=0,Ne&6)throw Error(K(327));var r=t.callbackNode;if(Jo()&&t.callbackNode!==r)return null;var n=Eh(t,t===kt?Bt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gh(t,n);else{e=n;var i=Ne;Ne|=2;var s=jE();(kt!==t||Bt!==e)&&(ti=null,da=mt()+500,Ds(t,e));do try{ZI();break}catch(u){$E(t,u)}while(1);q0(),Bh.current=s,Ne=i,vt!==null?e=0:(kt=null,Bt=0,e=Et)}if(e!==0){if(e===2&&(i=eg(t),i!==0&&(n=i,e=Rg(t,i))),e===1)throw r=Xl,Ds(t,0),Di(t,n),dr(t,mt()),r;if(e===6)Di(t,n);else{if(i=t.current.alternate,!(n&30)&&!qI(i)&&(e=Gh(t,n),e===2&&(s=eg(t),s!==0&&(n=s,e=Rg(t,s))),e===1))throw r=Xl,Ds(t,0),Di(t,n),dr(t,mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:Ss(t,lr,ti);break;case 3:if(Di(t,n),(n&130023424)===n&&(e=hy+500-mt(),10<e)){if(Eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lg(Ss.bind(null,t,lr,ti),e);break}Ss(t,lr,ti);break;case 4:if(Di(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-fn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QI(n/1960))-n,10<n){t.timeoutHandle=lg(Ss.bind(null,t,lr,ti),n);break}Ss(t,lr,ti);break;case 5:Ss(t,lr,ti);break;default:throw Error(K(329))}}}return dr(t,mt()),t.callbackNode===r?GE.bind(null,t):null}function Rg(t,e){var r=El;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Gh(t,e),t!==2&&(e=lr,lr=r,e!==null&&Ig(e)),t}function Ig(t){lr===null?lr=t:lr.push.apply(lr,t)}function qI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~cy,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fn(e),n=1<<r;t[r]=-1,e&=~n}}function O1(t){if(Ne&6)throw Error(K(327));Jo();var e=Eh(t,0);if(!(e&1))return dr(t,mt()),null;var r=Gh(t,e);if(t.tag!==0&&r===2){var n=eg(t);n!==0&&(e=n,r=Rg(t,n))}if(r===1)throw r=Xl,Ds(t,0),Di(t,e),dr(t,mt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t,lr,ti),dr(t,mt()),null}function dy(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(da=mt()+500,xd&&is())}}function Ws(t){Ui!==null&&Ui.tag===0&&!(Ne&6)&&Jo();var e=Ne;Ne|=1;var r=Xr.transition,n=Ge;try{if(Xr.transition=null,Ge=1,t)return t()}finally{Ge=n,Xr.transition=r,Ne=e,!(Ne&6)&&is()}}function fy(){_r=Go.current,Xe(Go)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AI(r)),vt!==null)for(r=vt.return;r!==null;){var n=r;switch(X0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rh();break;case 3:ca(),Xe(cr),Xe(Yt),ry();break;case 5:ty(n);break;case 4:ca();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:K0(n.type._context);break;case 22:case 23:fy()}r=r.return}if(kt=t,vt=t=qi(t.current,null),Bt=_r=e,Et=0,Xl=null,cy=bd=Hs=0,lr=El=null,Fs!==null){for(e=0;e<Fs.length;e++)if(r=Fs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Fs=null}return t}function $E(t,e){do{var r=vt;try{if(q0(),Zc.current=Dh,Lh){for(var n=nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lh=!1}if(js=0,Pt=St=nt=null,wl=!1,Hl=0,uy.current=null,r===null||r.return===null){Et=1,Xl=e,vt=null;break}e:{var s=t,o=r.return,u=r,c=e;if(e=Bt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=x1(o);if(v!==null){v.flags&=-257,w1(v,o,u,s,e),v.mode&1&&_1(s,h,e),e=v,c=h;var _=e.updateQueue;if(_===null){var b=new Set;b.add(c),e.updateQueue=b}else _.add(c);break e}else{if(!(e&1)){_1(s,h,e),py();break e}c=Error(K(426))}}else if(Ze&&u.mode&1){var T=x1(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),w1(T,o,u,s,e),Y0(ha(c,u));break e}}s=c=ha(c,u),Et!==4&&(Et=2),El===null?El=[s]:El.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=TE(s,c,e);f1(s,S);break e;case 1:u=c;var E=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yi===null||!Yi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=AE(s,u,e);f1(s,A);break e}}s=s.return}while(s!==null)}WE(r)}catch(k){e=k,vt===r&&r!==null&&(vt=r=r.return);continue}break}while(1)}function jE(){var t=Bh.current;return Bh.current=Dh,t===null?Dh:t}function py(){(Et===0||Et===3||Et===2)&&(Et=4),kt===null||!(Hs&268435455)&&!(bd&268435455)||Di(kt,Bt)}function Gh(t,e){var r=Ne;Ne|=2;var n=jE();(kt!==t||Bt!==e)&&(ti=null,Ds(t,e));do try{KI();break}catch(i){$E(t,i)}while(1);if(q0(),Ne=r,Bh.current=n,vt!==null)throw Error(K(261));return kt=null,Bt=0,Et}function KI(){for(;vt!==null;)HE(vt)}function ZI(){for(;vt!==null&&!ER();)HE(vt)}function HE(t){var e=XE(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?WE(t):vt=e,uy.current=null}function WE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=WI(r,e),r!==null){r.flags&=32767,vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,vt=null;return}}else if(r=HI(r,e,_r),r!==null){vt=r;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Et===0&&(Et=5)}function Ss(t,e,r){var n=Ge,i=Xr.transition;try{Xr.transition=null,Ge=1,JI(t,e,r,n)}finally{Xr.transition=i,Ge=n}return null}function JI(t,e,r,n){do Jo();while(Ui!==null);if(Ne&6)throw Error(K(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(OR(t,s),t===kt&&(vt=kt=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vc||(vc=!0,YE(Sh,function(){return Jo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=Ge;Ge=1;var u=Ne;Ne|=4,uy.current=null,XI(t,r),UE(r,t),_I(og),bh=!!sg,og=sg=null,t.current=r,YI(r),bR(),Ne=u,Ge=o,Xr.transition=s}else t.current=r;if(vc&&(vc=!1,Ui=t,zh=i),s=t.pendingLanes,s===0&&(Yi=null),CR(r.stateNode),dr(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,t=Ag,Ag=null,t;return zh&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===Cg?bl++:(bl=0,Cg=t):bl=0,is(),null}function Jo(){if(Ui!==null){var t=TS(zh),e=Xr.transition,r=Ge;try{if(Xr.transition=null,Ge=16>t?16:t,Ui===null)var n=!1;else{if(t=Ui,Ui=null,zh=0,Ne&6)throw Error(K(331));var i=Ne;for(Ne|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(ae=h;ae!==null;){var f=ae;switch(f.tag){case 0:case 11:case 15:Sl(8,f,s)}var g=f.child;if(g!==null)g.return=f,ae=g;else for(;ae!==null;){f=ae;var m=f.sibling,v=f.return;if(LE(f),f===h){ae=null;break}if(m!==null){m.return=v,ae=m;break}ae=v}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ae=S;break e}ae=s.return}}var E=t.current;for(ae=E;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=E;ae!==null;){if(u=ae,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ed(9,u)}}catch(k){ut(u,u.return,k)}if(u===o){ae=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,ae=A;break e}ae=u.return}}if(Ne=i,is(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(md,t)}catch{}n=!0}return n}finally{Ge=r,Xr.transition=e}}return!1}function M1(t,e,r){e=ha(r,e),e=TE(t,e,1),t=Xi(t,e,1),e=Zt(),t!==null&&(au(t,1,e),dr(t,e))}function ut(t,e,r){if(t.tag===3)M1(t,t,r);else for(;e!==null;){if(e.tag===3){M1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yi===null||!Yi.has(n))){t=ha(r,t),t=AE(e,t,1),e=Xi(e,t,1),t=Zt(),e!==null&&(au(e,1,t),dr(e,t));break}}e=e.return}}function eP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&r,kt===t&&(Bt&r)===r&&(Et===4||Et===3&&(Bt&130023424)===Bt&&500>mt()-hy?Ds(t,0):cy|=r),dr(t,e)}function VE(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var r=Zt();t=pi(t,e),t!==null&&(au(t,e,r),dr(t,r))}function tP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),VE(t,r)}function rP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),VE(t,r)}var XE;XE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)ur=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ur=!1,jI(t,e,r);ur=!!(t.flags&131072)}else ur=!1,Ze&&e.flags&1048576&&KS(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;eh(t,e),t=e.pendingProps;var i=aa(e,Yt.current);Zo(e,r),i=iy(null,e,n,t,i,r);var s=sy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(n)?(s=!0,Ih(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J0(e),i.updater=Sd,e.stateNode=i,i._reactInternals=e,mg(e,n,t,r),e=vg(null,e,n,!0,s,r)):(e.tag=0,Ze&&s&&V0(e),Kt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(eh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=iP(n),t=an(n,t),i){case 0:e=yg(null,e,n,t,r);break e;case 1:e=b1(null,e,n,t,r);break e;case 11:e=S1(null,e,n,t,r);break e;case 14:e=E1(null,e,n,an(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),yg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),b1(t,e,n,i,r);case 3:e:{if(PE(e),t===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,nE(t,e),Mh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ha(Error(K(423)),e),e=T1(t,e,n,r,i);break e}else if(n!==i){i=ha(Error(K(424)),e),e=T1(t,e,n,r,i);break e}else for(xr=Vi(e.stateNode.containerInfo.firstChild),Sr=e,Ze=!0,un=null,r=tE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(la(),n===i){e=mi(t,e,r);break e}Kt(t,e,n,r)}e=e.child}return e;case 5:return iE(e),t===null&&dg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ag(n,i)?o=null:s!==null&&ag(n,s)&&(e.flags|=32),IE(t,e),Kt(t,e,o,r),e.child;case 6:return t===null&&dg(e),null;case 13:return NE(t,e,r);case 4:return ey(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ua(e,null,n,r):Kt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),S1(t,e,n,i,r);case 7:return Kt(t,e,e.pendingProps,r),e.child;case 8:return Kt(t,e,e.pendingProps.children,r),e.child;case 12:return Kt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(kh,n._currentValue),n._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!cr.current){e=mi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ui(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),fg(s.return,r,e),u.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),fg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Zo(e,r),i=Qr(i),n=n(i),e.flags|=1,Kt(t,e,n,r),e.child;case 14:return n=e.type,i=an(n,e.pendingProps),i=an(n.type,i),E1(t,e,n,i,r);case 15:return CE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:an(n,i),eh(t,e),e.tag=1,hr(n)?(t=!0,Ih(e)):t=!1,Zo(e,r),bE(e,n,i),mg(e,n,i,r),vg(null,e,n,!0,t,r);case 19:return kE(t,e,r);case 22:return RE(t,e,r)}throw Error(K(156,e.tag))};function YE(t,e){return wS(t,e)}function nP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,r,n){return new nP(t,e,r,n)}function my(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iP(t){if(typeof t=="function")return my(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M0)return 11;if(t===F0)return 14}return 2}function qi(t,e){var r=t.alternate;return r===null?(r=$r(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")my(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case No:return Bs(r.children,i,s,e);case O0:o=8,i|=8;break;case Um:return t=$r(12,r,e,i|2),t.elementType=Um,t.lanes=s,t;case zm:return t=$r(13,r,e,i),t.elementType=zm,t.lanes=s,t;case Gm:return t=$r(19,r,e,i),t.elementType=Gm,t.lanes=s,t;case iS:return Td(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rS:o=10;break e;case nS:o=9;break e;case M0:o=11;break e;case F0:o=14;break e;case Mi:o=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=$r(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Bs(t,e,r,n){return t=$r(7,t,n,e),t.lanes=r,t}function Td(t,e,r,n){return t=$r(22,t,n,e),t.elementType=iS,t.lanes=r,t.stateNode={isHidden:!1},t}function Up(t,e,r){return t=$r(6,t,null,e),t.lanes=r,t}function zp(t,e,r){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gy(t,e,r,n,i,s,o,u,c){return t=new sP(t,e,r,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},J0(s),t}function oP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function QE(t){if(!t)return Ji;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(hr(r))return QS(t,r,e)}return e}function qE(t,e,r,n,i,s,o,u,c){return t=gy(r,n,!0,t,i,s,o,u,c),t.context=QE(null),r=t.current,n=Zt(),i=Qi(r),s=ui(n,i),s.callback=e??null,Xi(r,s,i),t.current.lanes=i,au(t,i,n),dr(t,n),t}function Ad(t,e,r,n){var i=e.current,s=Zt(),o=Qi(i);return r=QE(r),e.context===null?e.context=r:e.pendingContext=r,e=ui(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xi(i,e,o),t!==null&&(pn(t,i,o,s),Kc(t,i,o)),o}function $h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function yy(t,e){F1(t,e),(t=t.alternate)&&F1(t,e)}function aP(){return null}var KE=typeof reportError=="function"?reportError:function(t){console.error(t)};function vy(t){this._internalRoot=t}Cd.prototype.render=vy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Ad(t,e,null,null)};Cd.prototype.unmount=vy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ws(function(){Ad(null,t,null,null)}),e[fi]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=RS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Li.length&&e!==0&&e<Li[r].priority;r++);Li.splice(r,0,t),r===0&&PS(t)}};function _y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L1(){}function lP(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=$h(o);s.call(h)}}var o=qE(e,n,t,0,null,!1,!1,"",L1);return t._reactRootContainer=o,t[fi]=o.current,Ul(t.nodeType===8?t.parentNode:t),Ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var h=$h(c);u.call(h)}}var c=gy(t,0,!1,null,null,!1,!1,"",L1);return t._reactRootContainer=c,t[fi]=c.current,Ul(t.nodeType===8?t.parentNode:t),Ws(function(){Ad(e,c,r,n)}),c}function Id(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=$h(o);u.call(c)}}Ad(e,o,t,i)}else o=lP(r,e,t,i,n);return $h(o)}AS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ol(e.pendingLanes);r!==0&&(B0(e,r|1),dr(e,mt()),!(Ne&6)&&(da=mt()+500,is()))}break;case 13:Ws(function(){var n=pi(t,1);if(n!==null){var i=Zt();pn(n,t,1,i)}}),yy(t,1)}};U0=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var r=Zt();pn(e,t,134217728,r)}yy(t,134217728)}};CS=function(t){if(t.tag===13){var e=Qi(t),r=pi(t,e);if(r!==null){var n=Zt();pn(r,t,e,n)}yy(t,e)}};RS=function(){return Ge};IS=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};Km=function(t,e,r){switch(e){case"input":if(Hm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_d(n);if(!i)throw Error(K(90));oS(n),Hm(n,i)}}}break;case"textarea":lS(t,r);break;case"select":e=r.value,e!=null&&Yo(t,!!r.multiple,e,!1)}};mS=dy;gS=Ws;var uP={usingClientEntryPoint:!1,Events:[uu,Fo,_d,fS,pS,dy]},Ka={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cP={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_S(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||aP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{md=_c.inject(cP),Gn=_c}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;Ar.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(e))throw Error(K(200));return oP(t,e,null,r)};Ar.createRoot=function(t,e){if(!_y(t))throw Error(K(299));var r=!1,n="",i=KE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gy(t,1,!1,null,null,r,!1,n,i),t[fi]=e.current,Ul(t.nodeType===8?t.parentNode:t),new vy(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=_S(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ws(t)};Ar.hydrate=function(t,e,r){if(!Rd(e))throw Error(K(200));return Id(null,t,e,!0,r)};Ar.hydrateRoot=function(t,e,r){if(!_y(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=KE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=qE(e,null,t,1,r??null,i,!1,s,o),t[fi]=e.current,Ul(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Cd(e)};Ar.render=function(t,e,r){if(!Rd(e))throw Error(K(200));return Id(null,t,e,!1,r)};Ar.unmountComponentAtNode=function(t){if(!Rd(t))throw Error(K(40));return t._reactRootContainer?(Ws(function(){Id(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Ar.unstable_batchedUpdates=dy;Ar.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Rd(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Id(t,e,r,!1,n)};Ar.version="18.3.1-next-f1338f8080-20240426";function ZE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZE)}catch(t){console.error(t)}}ZE(),Zw.exports=Ar;var hP=Zw.exports,D1=hP;Dm.createRoot=D1.createRoot,Dm.hydrateRoot=D1.hydrateRoot;const B1=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,U1=t=>"init"in t,z1=t=>!!t.write,G1=t=>"v"in t||"e"in t,xc=t=>{if("e"in t)throw t.e;return t.v},jh=new WeakMap,$1=t=>{var e;return Hh(t)&&!!((e=jh.get(t))!=null&&e[0])},dP=t=>{const e=jh.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))},JE=(t,e)=>{let r=jh.get(t);if(!r){r=[!0,new Set],jh.set(t,r);const n=()=>{r[0]=!1};t.then(n,n)}r[1].add(e)},Hh=t=>typeof(t==null?void 0:t.then)=="function",eb=(t,e,r)=>{r.p.has(t)||(r.p.add(t),e.then(()=>{r.p.delete(t)},()=>{r.p.delete(t)}))},Gp=(t,e,r)=>{const n=r(t),i="v"in n,s=n.v;if(Hh(e))for(const o of n.d.keys())eb(t,e,r(o));n.v=e,delete n.e,(!i||!Object.is(s,n.v))&&(++n.n,Hh(s)&&dP(s))},j1=(t,e,r)=>{var n;const i=new Set;for(const s of((n=r.get(t))==null?void 0:n.t)||[])r.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},fP=Symbol(),pP=(t=new WeakMap,e=new WeakMap,r=new WeakMap,n=new Set,i=new Set,s=new Set,o={},u=(m,...v)=>m.read(...v),c=(m,...v)=>m.write(...v),h=(m,v)=>{var _;return(_=m.unstable_onInit)==null?void 0:_.call(m,v)},f=(m,v)=>{var _;return(_=m.onMount)==null?void 0:_.call(m,v)},...g)=>{const m=g[0]||(R=>{let P=t.get(R);return P||(P={d:new Map,p:new Set,n:0},t.set(R,P),h==null||h(R,D)),P}),v=g[1]||(()=>{const R=[],P=U=>{try{U()}catch(B){R.push(B)}};do{o.f&&P(o.f);const U=new Set,B=U.add.bind(U);n.forEach(Q=>{var j;return(j=e.get(Q))==null?void 0:j.l.forEach(B)}),n.clear(),s.forEach(B),s.clear(),i.forEach(B),i.clear(),U.forEach(P),n.size&&_()}while(n.size||s.size||i.size);if(R.length)throw new AggregateError(R)}),_=g[2]||(()=>{const R=[],P=new WeakSet,U=new WeakSet,B=Array.from(n);for(;B.length;){const Q=B[B.length-1],j=m(Q);if(U.has(Q)){B.pop();continue}if(P.has(Q)){r.get(Q)===j.n&&R.push([Q,j]),U.add(Q),B.pop();continue}P.add(Q);for(const M of j1(Q,j,e))P.has(M)||B.push(M)}for(let Q=R.length-1;Q>=0;--Q){const[j,M]=R[Q];let H=!1;for(const J of M.d.keys())if(J!==j&&n.has(J)){H=!0;break}H&&(b(j),E(j)),r.delete(j)}}),b=g[3]||(R=>{var P;const U=m(R);if(G1(U)&&(e.has(R)&&r.get(R)!==U.n||Array.from(U.d).every(([ee,N])=>b(ee).n===N)))return U;U.d.clear();let B=!0;const Q=()=>{e.has(R)&&(E(R),_(),v())},j=ee=>{var N;if(B1(R,ee)){const F=m(ee);if(!G1(F))if(U1(ee))Gp(ee,ee.init,m);else throw new Error("no atom init");return xc(F)}const W=b(ee);try{return xc(W)}finally{U.d.set(ee,W.n),$1(U.v)&&eb(R,U.v,W),(N=e.get(ee))==null||N.t.add(R),B||Q()}};let M,H;const J={get signal(){return M||(M=new AbortController),M.signal},get setSelf(){return!H&&z1(R)&&(H=(...ee)=>{if(!B)try{return S(R,...ee)}finally{_(),v()}}),H}},ce=U.n;try{const ee=u(R,j,J);return Gp(R,ee,m),Hh(ee)&&(JE(ee,()=>M==null?void 0:M.abort()),ee.then(Q,Q)),U}catch(ee){return delete U.v,U.e=ee,++U.n,U}finally{B=!1,ce!==U.n&&r.get(R)===ce&&(r.set(R,U.n),n.add(R),(P=o.c)==null||P.call(o,R))}}),T=g[4]||(R=>{const P=[R];for(;P.length;){const U=P.pop(),B=m(U);for(const Q of j1(U,B,e)){const j=m(Q);r.set(Q,j.n),P.push(Q)}}}),S=g[5]||((R,...P)=>{let U=!0;const B=j=>xc(b(j)),Q=(j,...M)=>{var H;const J=m(j);try{if(B1(R,j)){if(!U1(j))throw new Error("atom not writable");const ce=J.n,ee=M[0];Gp(j,ee,m),E(j),ce!==J.n&&(n.add(j),(H=o.c)==null||H.call(o,j),T(j));return}else return S(j,...M)}finally{U||(_(),v())}};try{return c(R,B,Q,...P)}finally{U=!1}}),E=g[6]||(R=>{var P;const U=m(R),B=e.get(R);if(B&&!$1(U.v)){for(const[Q,j]of U.d)if(!B.d.has(Q)){const M=m(Q);w(Q).t.add(R),B.d.add(Q),j!==M.n&&(n.add(Q),(P=o.c)==null||P.call(o,Q),T(Q))}for(const Q of B.d||[])if(!U.d.has(Q)){B.d.delete(Q);const j=A(Q);j==null||j.t.delete(R)}}}),w=g[7]||(R=>{var P;const U=m(R);let B=e.get(R);if(!B){b(R);for(const Q of U.d.keys())w(Q).t.add(R);if(B={l:new Set,d:new Set(U.d.keys()),t:new Set},e.set(R,B),(P=o.m)==null||P.call(o,R),z1(R)){const Q=()=>{let j=!0;const M=(...H)=>{try{return S(R,...H)}finally{j||(_(),v())}};try{const H=f(R,M);H&&(B.u=()=>{j=!0;try{H()}finally{j=!1}})}finally{j=!1}};i.add(Q)}}return B}),A=g[8]||(R=>{var P;const U=m(R);let B=e.get(R);if(B&&!B.l.size&&!Array.from(B.t).some(Q=>{var j;return(j=e.get(Q))==null?void 0:j.d.has(R)})){B.u&&s.add(B.u),B=void 0,e.delete(R),(P=o.u)==null||P.call(o,R);for(const Q of U.d.keys()){const j=A(Q);j==null||j.t.delete(R)}return}return B}),k=[t,e,r,n,i,s,o,u,c,h,f,m,v,_,b,T,S,E,w,A],D={get:R=>xc(b(R)),set:(R,...P)=>{try{return S(R,...P)}finally{_(),v()}},sub:(R,P)=>{const B=w(R).l;return B.add(P),v(),()=>{B.delete(P),A(R),v()}}};return Object.defineProperty(D,fP,{value:k}),D},mP=pP,H1=JE;let gP=0;function _n(t,e){const r=`atom${++gP}`,n={toString(){return r}};return typeof t=="function"?n.read=t:(n.init=t,n.read=yP,n.write=vP),e&&(n.write=e),n}function yP(t){return t(this)}function vP(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}function tb(){return mP()}let $p;function _P(){return $p||($p=tb()),$p}const rb=_e.createContext(void 0);function nb(t){const e=_e.useContext(rb);return(t==null?void 0:t.store)||e||_P()}function xP({children:t,store:e}){const r=_e.useRef(void 0);return!e&&!r.current&&(r.current=tb()),_e.createElement(rb.Provider,{value:e||r.current},t)}const Pg=t=>typeof(t==null?void 0:t.then)=="function",Ng=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},wP=Vr.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(Ng(t),t)}),jp=new WeakMap,W1=(t,e)=>{let r=jp.get(t);return r||(r=new Promise((n,i)=>{let s=t;const o=h=>f=>{s===h&&n(f)},u=h=>f=>{s===h&&i(f)},c=()=>{try{const h=e();Pg(h)?(jp.set(h,r),s=h,h.then(o(h),u(h)),H1(h,c)):n(h)}catch(h){i(h)}};t.then(o(t),u(t)),H1(t,c)}),jp.set(t,r)),r};function oi(t,e){const{delay:r,unstable_promiseStatus:n=!Vr.use}=e||{},i=nb(e),[[s,o,u],c]=_e.useReducer(f=>{const g=i.get(t);return Object.is(f[0],g)&&f[1]===i&&f[2]===t?f:[g,i,t]},void 0,()=>[i.get(t),i,t]);let h=s;if((o!==i||u!==t)&&(c(),h=i.get(t)),_e.useEffect(()=>{const f=i.sub(t,()=>{if(n)try{const g=i.get(t);Pg(g)&&Ng(W1(g,()=>i.get(t)))}catch{}if(typeof r=="number"){setTimeout(c,r);return}c()});return c(),f},[i,t,r,n]),_e.useDebugValue(h),Pg(h)){const f=W1(h,()=>i.get(t));return n&&Ng(f),wP(f)}return h}function SP(t,e){const r=nb(e);return _e.useCallback((...i)=>r.set(t,...i),[r,t])}function nn(t,e){return[oi(t,e),SP(t,e)]}const xy=_n(null),EP=_n(null),ib=_n(null),sb=_n([]),ob=_n([]),ab=_n(!1),lb=_n(0),ub=_n(null),bP=_n(null),cb=_n(t=>{const e=t(xy);return e?e.is_game_initialized():!1}),hb=_n(t=>{const e=t(xy);return e?e.is_game_ended():!1});let ve;const db=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&db.decode();let ll=null;function ih(){return(ll===null||ll.byteLength===0)&&(ll=new Uint8Array(ve.memory.buffer)),ll}function ar(t,e){return t=t>>>0,db.decode(ih().subarray(t,t+e))}let Yl=0;const sh=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},TP=typeof sh.encodeInto=="function"?function(t,e){return sh.encodeInto(t,e)}:function(t,e){const r=sh.encode(t);return e.set(r),{read:t.length,written:r.length}};function kg(t,e,r){if(r===void 0){const u=sh.encode(t),c=e(u.length,1)>>>0;return ih().subarray(c,c+u.length).set(u),Yl=u.length,c}let n=t.length,i=e(n,1)>>>0;const s=ih();let o=0;for(;o<n;o++){const u=t.charCodeAt(o);if(u>127)break;s[i+o]=u}if(o!==n){o!==0&&(t=t.slice(o)),i=r(i,n,n=o+t.length*3,1)>>>0;const u=ih().subarray(i+o,i+n),c=TP(t,u);o+=c.written,i=r(i,n,o,1)>>>0}return Yl=o,i}let Es=null;function V1(){return(Es===null||Es.buffer.detached===!0||Es.buffer.detached===void 0&&Es.buffer!==ve.memory.buffer)&&(Es=new DataView(ve.memory.buffer)),Es}function Br(t){const e=ve.__wbindgen_export_3.get(t);return ve.__externref_table_dealloc(t),e}const X1=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>ve.__wbg_gamewrapper_free(t>>>0,1));class fb{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,X1.unregister(this),e}free(){const e=this.__destroy_into_raw();ve.__wbg_gamewrapper_free(e,0)}constructor(e){const r=kg(e,ve.__wbindgen_malloc,ve.__wbindgen_realloc),n=Yl,i=ve.gamewrapper_new(r,n);if(i[2])throw Br(i[1]);return this.__wbg_ptr=i[0]>>>0,X1.register(this,this.__wbg_ptr,this),this}get_config_json(){let e,r;try{const s=ve.gamewrapper_get_config_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}is_initialized(){return ve.gamewrapper_is_initialized(this.__wbg_ptr)!==0}static validate_config(e){let r,n;try{const o=kg(e,ve.__wbindgen_malloc,ve.__wbindgen_realloc),u=Yl,c=ve.gamewrapper_validate_config(o,u);var i=c[0],s=c[1];if(c[3])throw i=0,s=0,Br(c[2]);return r=i,n=s,ar(i,s)}finally{ve.__wbindgen_free(r,n,1)}}new_game(){const e=ve.gamewrapper_new_game(this.__wbg_ptr);if(e[1])throw Br(e[0])}is_game_initialized(){return ve.gamewrapper_is_game_initialized(this.__wbg_ptr)!==0}step_frame(){const e=ve.gamewrapper_step_frame(this.__wbg_ptr);if(e[1])throw Br(e[0])}get_frame(){return ve.gamewrapper_get_frame(this.__wbg_ptr)}get_frame_info_json(){let e,r;try{const s=ve.gamewrapper_get_frame_info_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}is_game_ended(){return ve.gamewrapper_is_game_ended(this.__wbg_ptr)!==0}get_game_status(){let e,r;try{const n=ve.gamewrapper_get_game_status(this.__wbg_ptr);return e=n[0],r=n[1],ar(n[0],n[1])}finally{ve.__wbindgen_free(e,r,1)}}get_state_json(){let e,r;try{const s=ve.gamewrapper_get_state_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}get_characters_json(){let e,r;try{const s=ve.gamewrapper_get_characters_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}get_spawns_json(){let e,r;try{const s=ve.gamewrapper_get_spawns_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}get_status_effects_json(){let e,r;try{const s=ve.gamewrapper_get_status_effects_json(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}get_last_error_details(){let e,r;try{const n=ve.gamewrapper_get_last_error_details(this.__wbg_ptr);return e=n[0],r=n[1],ar(n[0],n[1])}finally{ve.__wbindgen_free(e,r,1)}}is_stable(){return ve.gamewrapper_is_stable(this.__wbg_ptr)!==0}attempt_stabilization(){let e,r;try{const s=ve.gamewrapper_attempt_stabilization(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}get_health_info(){let e,r;try{const s=ve.gamewrapper_get_health_info(this.__wbg_ptr);var n=s[0],i=s[1];if(s[3])throw n=0,i=0,Br(s[2]);return e=n,r=i,ar(n,i)}finally{ve.__wbindgen_free(e,r,1)}}}async function AP(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(n){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const r=await t.arrayBuffer();return await WebAssembly.instantiate(r,e)}else{const r=await WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}}function CP(){const t={};return t.wbg={},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,r){let n,i;try{n=e,i=r,console.error(ar(e,r))}finally{ve.__wbindgen_free(n,i,1)}},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_now_807e54c39636c349=function(){return Date.now()},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,r){const n=r.stack,i=kg(n,ve.__wbindgen_malloc,ve.__wbindgen_realloc),s=Yl;V1().setInt32(e+4*1,s,!0),V1().setInt32(e+4*0,i,!0)},t.wbg.__wbindgen_init_externref_table=function(){const e=ve.__wbindgen_export_3,r=e.grow(4);e.set(0,void 0),e.set(r+0,void 0),e.set(r+1,null),e.set(r+2,!0),e.set(r+3,!1)},t.wbg.__wbindgen_string_new=function(e,r){return ar(e,r)},t.wbg.__wbindgen_throw=function(e,r){throw new Error(ar(e,r))},t}function RP(t,e){return ve=t.exports,pb.__wbindgen_wasm_module=e,Es=null,ll=null,ve.__wbindgen_start(),ve}async function pb(t){if(ve!==void 0)return ve;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/assets/wasm_wrapper_bg-4345d1ea.wasm",self.location));const e=CP();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:n}=await AP(await t,e);return RP(r,n)}let Wh=!1;const IP=async()=>{if(!Wh)try{await pb(),Wh=!0,console.log("WASM wrapper initialized successfully")}catch(t){throw console.error("Failed to initialize WASM wrapper:",t),new Error(`WASM initialization failed: ${t}`)}},PP=t=>{if(!Wh)throw new Error("WASM not initialized. Call initializeWasm() first.");try{const e=fb.validate_config(t);return e==="Configuration is valid"?{isValid:!0}:{isValid:!1,error:e}}catch(e){return{isValid:!1,error:`Validation error: ${e}`}}},NP=t=>{if(!Wh)throw new Error("WASM not initialized. Call initializeWasm() first.");try{const e=new fb(t);if(!e.is_initialized()){const r=e.get_last_error_details();throw new Error(`GameWrapper initialization failed: ${r}`)}return e}catch(e){throw new Error(`Failed to create GameWrapper: ${e}`)}},kP=t=>{try{if(t.new_game(),!t.is_game_initialized()){const e=t.get_last_error_details();throw new Error(`Game initialization failed: ${e}`)}}catch(e){throw new Error(`Failed to initialize game: ${e}`)}},OP=t=>{try{const e=t.get_state_json(),r=JSON.parse(e);return{frame:r.frame,status:r.status,characters:r.characters||[],spawns:r.spawns||[],status_effects:r.status_effects||[],tilemap:r.tilemap||[]}}catch(e){const r=t.get_last_error_details();throw new Error(`Failed to get game state: ${r||e}`)}},MP=t=>{try{const e=t.get_characters_json();return JSON.parse(e).map(n=>({id:n.id,position:{x:n.position[0][0]/n.position[0][1],y:n.position[1][0]/n.position[1][1]},size:{width:n.size[0],height:n.size[1]},health:n.health,energy:n.energy,facing:n.dir[0],velocity:{x:n.velocity[0][0]/n.velocity[0][1],y:n.velocity[1][0]/n.velocity[1][1]},collision:{top:n.collision[0],right:n.collision[1],bottom:n.collision[2],left:n.collision[3]}}))}catch(e){const r=t.get_last_error_details();throw new Error(`Failed to get characters: ${r||e}`)}},FP=t=>{try{const e=t.get_spawns_json();return JSON.parse(e).map(n=>({id:n.id,position:{x:n.position[0][0]/n.position[0][1],y:n.position[1][0]/n.position[1][1]},size:{width:n.size[0],height:n.size[1]},lifespan_remaining:n.life_span,properties:{spawn_id:n.spawn_id,owner_id:n.owner_id,owner_type:n.owner_type,health:n.health,health_cap:n.health_cap,element:n.element}}))}catch(e){const r=t.get_last_error_details();throw new Error(`Failed to get spawns: ${r||e}`)}},LP=t=>{try{t.step_frame()}catch(e){const r=t.get_last_error_details();console.error("=== STEP FRAME ERROR ==="),console.error("Original error:",e),console.error("WASM error details:",r),console.error("Game frame:",t.get_frame()),console.error("Game status:",t.get_game_status()),console.error("Is game initialized:",t.is_game_initialized()),console.error("Is game ended:",t.is_game_ended());try{const n=t.get_state_json(),i=JSON.parse(n);console.error("Current game state:",i)}catch(n){console.error("Could not get game state:",n)}throw console.error("========================"),new Error(`Failed to step frame: ${r||e}`)}},DP=t=>{try{const e=t.get_frame_info_json();return JSON.parse(e)}catch(e){const r=t.get_last_error_details();throw new Error(`Failed to get frame info: ${r||e}`)}};class BP{constructor(){pp(this,"wrapper",null);pp(this,"initialized",!1)}async initialize(){this.initialized||(this.initialized=!0,await IP())}loadConfiguration(e){try{this.wrapper&&(console.log("Cleaning up existing WASM wrapper before loading new configuration"),this.wrapper.free(),this.wrapper=null);const r=PP(e);return r.isValid?(this.wrapper=NP(e),kP(this.wrapper),{success:!0}):{success:!1,error:r.error}}catch(r){return{success:!1,error:r instanceof Error?r.message:String(r)}}}getWrapper(){return this.wrapper}isInitialized(){return this.wrapper!==null&&this.wrapper.is_initialized()}isGameInitialized(){return this.wrapper!==null}getCurrentGameState(){if(!this.wrapper)return null;try{return OP(this.wrapper)}catch(e){return console.error("Failed to get game state:",e),null}}getCurrentCharacters(){if(!this.wrapper)return[];try{return MP(this.wrapper)}catch(e){return console.error("Failed to get characters:",e),[]}}getCurrentSpawns(){if(!this.wrapper)return[];try{return FP(this.wrapper)}catch(e){return console.error("Failed to get spawns:",e),[]}}getCurrentFrameInfo(){if(!this.wrapper)return null;try{return DP(this.wrapper)}catch(e){return console.error("Failed to get frame info:",e),null}}stepGameFrame(){if(!this.wrapper)return{success:!1,error:"Game not initialized"};try{return LP(this.wrapper),{success:!0}}catch(e){return console.error("=== GAME STATE MANAGER ERROR ==="),console.error("Step frame failed in gameStateManager:",e),console.error("================================"),{success:!1,error:e instanceof Error?e.message:String(e)}}}getCurrentFrame(){if(!this.wrapper)return 0;try{return this.wrapper.get_frame()}catch(e){return console.error("Error getting frame:",e),0}}isGameEnded(){if(!this.wrapper)return!1;try{return this.wrapper.is_game_ended()}catch(e){return console.error("Error checking if game ended:",e),!1}}getGameStatus(){if(!this.wrapper)return"Not initialized";try{return this.wrapper.get_game_status()}catch(e){return console.error("Error getting game status:",e),"Error"}}getLastErrorDetails(){return this.wrapper?this.wrapper.get_last_error_details():"No wrapper available"}cleanup(){this.wrapper&&(this.wrapper.free(),this.wrapper=null),this.initialized=!1}}const sr=new BP;let oh=!1;const UP=t=>{window.robotMastersDebug={gameWrapper:t,dumpState:()=>{if(!t||!t.is_game_initialized()){console.warn("Game not initialized");return}try{const e=t.get_state_json(),r=JSON.parse(e);console.group(" Game State"),console.log("Raw JSON:",e),console.log("Parsed State:",r),console.log("Frame:",r.frame),console.log("Status:",r.status),console.log("Characters:",r.characters),console.log("Spawns:",r.spawns),console.groupEnd()}catch(e){console.error("Failed to dump state:",e)}},dumpCharacters:()=>{if(!t||!t.is_game_initialized()){console.warn("Game not initialized");return}try{const e=t.get_characters_json(),r=JSON.parse(e);console.group(" Characters"),console.log("Raw JSON:",e),console.log("Parsed Characters:",r),r.forEach((n,i)=>{console.log(`Character ${i}:`,{id:n.id,position:n.position,health:n.health,energy:n.energy,facing:n.facing,velocity:n.velocity})}),console.groupEnd()}catch(e){console.error("Failed to dump characters:",e)}},dumpSpawns:()=>{if(!t||!t.is_game_initialized()){console.warn("Game not initialized");return}try{const e=t.get_spawns_json(),r=JSON.parse(e);console.group(" Spawns"),console.log("Raw JSON:",e),console.log("Parsed Spawns:",r),console.groupEnd()}catch(e){console.error("Failed to dump spawns:",e)}},stepFrame:()=>{if(!t||!t.is_game_initialized()){console.warn("Game not initialized");return}try{const e=t.get_frame();t.step_frame();const r=t.get_frame();console.log(` Frame stepped: ${e}  ${r}`),oh&&window.robotMastersDebug.dumpState()}catch(e){console.error("Failed to step frame:",e);const r=t.get_last_error_details();console.error("Error details:",r)}},getHealthInfo:()=>{if(!t){console.warn("Game wrapper not available");return}try{const e=t.get_health_info();console.group(" WASM Health Info"),console.log("Health Info:",e),console.log("Is Stable:",t.is_stable()),console.log("Is Initialized:",t.is_initialized()),console.log("Is Game Initialized:",t.is_game_initialized()),console.log("Is Game Ended:",t.is_game_ended()),console.groupEnd()}catch(e){console.error("Failed to get health info:",e)}},enableVerboseLogging:()=>{oh=!0,console.log(" Verbose logging enabled")},disableVerboseLogging:()=>{oh=!1,console.log(" Verbose logging disabled")}},console.group(" Robot Masters Debug Tools Available"),console.log("Use window.robotMastersDebug to access these functions:"),console.log(" dumpState() - Dump complete game state"),console.log(" dumpCharacters() - Dump character data"),console.log(" dumpSpawns() - Dump spawn data"),console.log(" stepFrame() - Step one frame"),console.log(" getHealthInfo() - Get WASM health info"),console.log(" enableVerboseLogging() - Enable verbose frame stepping"),console.log(" disableVerboseLogging() - Disable verbose logging"),console.groupEnd()},zP=(t,e,r)=>{oh&&console.log(` State Update - Frame: ${t}, Characters: ${e}, Spawns: ${r}`)},wy=()=>{const[t,e]=nn(xy),[r,n]=nn(EP),[i,s]=nn(ib),[o,u]=nn(sb),[c,h]=nn(ob),[f,g]=nn(ab),[m,v]=nn(lb),[_,b]=nn(ub),[T,S]=nn(bP),[E]=nn(cb),[w]=nn(hb),[A,k]=_e.useState(!1);_e.useEffect(()=>{let M=!0;return(async()=>{try{await sr.initialize(),M&&(console.log("WASM initialized successfully"),k(!0))}catch(J){M&&(S(J instanceof Error?J.message:String(J)),k(!1))}})(),()=>{M=!1,console.log("Cleaning up WASM on component unmount"),sr.cleanup()}},[]);const D=_e.useCallback(()=>{if(sr.getWrapper())try{const M=sr.getCurrentGameState(),H=sr.getCurrentCharacters(),J=sr.getCurrentSpawns(),ce=sr.getCurrentFrameInfo();s(M),u(H),h(J),b(ce),v(sr.getCurrentFrame()),S(null),zP(sr.getCurrentFrame(),H.length,J.length)}catch(M){S(M instanceof Error?M.message:String(M))}},[s,u,h,b,v,S]),R=_e.useCallback(M=>{try{const H=JSON.parse(M),J=sr.loadConfiguration(M);if(J.success){const ce=sr.getWrapper();return e(ce),n(H),S(null),D(),UP(ce),{success:!0}}else return S(J.error||"Unknown configuration error"),{success:!1,error:J.error}}catch(H){const J=H instanceof Error?H.message:String(H);return S(J),{success:!1,error:J}}},[e,n,S,D]),P=_e.useCallback(()=>{const M=sr.stepGameFrame();return M.success?(D(),{success:!0}):(S(M.error||"Unknown step frame error"),{success:!1,error:M.error})},[D,S]),U=_e.useCallback(()=>{sr.getWrapper()&&g(!0)},[g]),B=_e.useCallback(()=>{g(!1)},[g]),Q=_e.useCallback(()=>{if(r){g(!1);const M=sr.loadConfiguration(JSON.stringify(r));M.success?(D(),S(null)):S(M.error||"Failed to reset game")}},[r,g,D,S]),j=_e.useCallback(()=>{S(null)},[S]);return{gameWrapper:t,gameConfig:r,gameState:i,characters:o,spawns:c,isPlaying:f,currentFrame:m,frameInfo:_,gameError:T,isGameInitialized:E,isGameEnded:w,isWasmInitialized:A,loadConfiguration:R,stepFrame:P,play:U,pause:B,resetGame:Q,clearError:j,updateGameState:D}},GP=()=>{const t=oi(ab),{stepFrame:e,pause:r}=wy(),n=_e.useRef(),i=_e.useRef(0),s=_e.useRef(0),o=_e.useRef(0),u=_e.useCallback(c=>{if(!e().success){r();return}i.current++,c-o.current>=1e3&&(s.current=i.current,i.current=0,o.current=c),t&&(n.current=requestAnimationFrame(u))},[t,e,r]);return _e.useEffect(()=>(t?(i.current=0,o.current=performance.now(),n.current=requestAnimationFrame(u)):n.current&&(cancelAnimationFrame(n.current),n.current=void 0),()=>{n.current&&cancelAnimationFrame(n.current)}),[t,u]),_e.useEffect(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[]),{currentFps:s.current,isRunning:t}},Ae={EXIT:0,EXIT_IF_NO_ENERGY:1,EXIT_IF_COOLDOWN:2,EXIT_IF_NOT_GROUNDED:3,EXIT_WITH_VAR:4,SKIP:10,GOTO:11,READ_PROP:15,WRITE_PROP:16,ASSIGN_BYTE:20,ASSIGN_FIXED:21,ASSIGN_RANDOM:22,TO_BYTE:23,TO_FIXED:24,ADD:30,SUB:31,MUL:32,DIV:33,NEGATE:34,ADD_BYTE:40,SUB_BYTE:41,MUL_BYTE:42,DIV_BYTE:43,MOD_BYTE:44,WRAPPING_ADD:45,EQUAL:50,NOT_EQUAL:51,LESS_THAN:52,LESS_THAN_OR_EQUAL:53,NOT:60,OR:61,AND:62,MIN:70,MAX:71,LOCK_ACTION:80,UNLOCK_ACTION:81,APPLY_ENERGY_COST:82,APPLY_DURATION:83,SPAWN:84,SPAWN_WITH_VARS:85,LOG_VARIABLE:90,READ_ARG:96,READ_SPAWN:97,WRITE_SPAWN:98,READ_ACTION_COOLDOWN:100,READ_ACTION_LAST_USED:101,WRITE_ACTION_LAST_USED:102,IS_ACTION_ON_COOLDOWN:103,READ_CHARACTER_PROPERTY:104,WRITE_CHARACTER_PROPERTY:105,READ_SPAWN_PROPERTY:106,WRITE_SPAWN_PROPERTY:107},or={GAME_SEED:1,GAME_FRAME:2,GAME_GRAVITY:3,CHARACTER_ID:16,CHARACTER_GROUP:17,CHARACTER_POS_X:18,CHARACTER_POS_Y:19,CHARACTER_VEL_X:20,CHARACTER_VEL_Y:21,CHARACTER_SIZE_W:22,CHARACTER_SIZE_H:23,CHARACTER_HEALTH:24,CHARACTER_HEALTH_CAP:25,CHARACTER_ENERGY:26,CHARACTER_ENERGY_CAP:27,CHARACTER_POWER:28,CHARACTER_WEIGHT:29,CHARACTER_JUMP_FORCE:30,CHARACTER_MOVE_SPEED:31,CHARACTER_ENERGY_REGEN:32,CHARACTER_ENERGY_REGEN_RATE:33,CHARACTER_ENERGY_CHARGE:34,CHARACTER_ENERGY_CHARGE_RATE:35,CHARACTER_LOCKED_ACTION_ID:36,CHARACTER_STATUS_EFFECT_COUNT:37,CHARACTER_COLLISION_TOP:38,CHARACTER_COLLISION_RIGHT:39,CHARACTER_COLLISION_BOTTOM:40,CHARACTER_COLLISION_LEFT:41,CHARACTER_ARMOR_PUNCT:42,CHARACTER_ARMOR_BLAST:43,CHARACTER_ARMOR_FORCE:44,CHARACTER_ARMOR_SEVER:45,CHARACTER_ARMOR_HEAT:46,CHARACTER_ARMOR_CRYO:47,CHARACTER_ARMOR_JOLT:48,CHARACTER_ARMOR_ACID:49,CHARACTER_ARMOR_VIRUS:50,ENTITY_DIR_HORIZONTAL:64,ENTITY_DIR_VERTICAL:65,ENTITY_ENMITY:66,ENTITY_TARGET_ID:67,ENTITY_TARGET_TYPE:68,SPAWN_DEF_DAMAGE_BASE:80,SPAWN_DEF_DAMAGE_RANGE:81,SPAWN_DEF_CRIT_CHANCE:82,SPAWN_DEF_CRIT_MULTIPLIER:83,SPAWN_DEF_CHANCE:84,SPAWN_DEF_HEALTH_CAP:85,SPAWN_DEF_DURATION:86,SPAWN_DEF_ELEMENT:87,SPAWN_DEF_ARG0:88,SPAWN_DEF_ARG1:89,SPAWN_DEF_ARG2:90,SPAWN_DEF_ARG3:91,SPAWN_CORE_ID:96,SPAWN_OWNER_ID:97,SPAWN_OWNER_TYPE:98,SPAWN_POS_X:99,SPAWN_POS_Y:100,SPAWN_VEL_X:101,SPAWN_VEL_Y:102,SPAWN_INST_HEALTH:103,SPAWN_INST_HEALTH_CAP:104,SPAWN_INST_ROTATION:105,SPAWN_INST_LIFE_SPAN:106,SPAWN_INST_ELEMENT:107,SPAWN_INST_VAR0:112,SPAWN_INST_VAR1:113,SPAWN_INST_VAR2:114,SPAWN_INST_VAR3:115,SPAWN_INST_FIXED0:116,SPAWN_INST_FIXED1:117,SPAWN_INST_FIXED2:118,SPAWN_INST_FIXED3:119,ACTION_DEF_ENERGY_COST:128,ACTION_DEF_COOLDOWN:129,ACTION_DEF_ARG0:130,ACTION_DEF_ARG1:131,ACTION_DEF_ARG2:132,ACTION_DEF_ARG3:133,ACTION_DEF_ARG4:134,ACTION_DEF_ARG5:135,ACTION_DEF_ARG6:136,ACTION_DEF_ARG7:137,ACTION_INST_VAR0:144,ACTION_INST_VAR1:145,ACTION_INST_VAR2:146,ACTION_INST_VAR3:147,ACTION_INST_FIXED0:148,ACTION_INST_FIXED1:149,ACTION_INST_FIXED2:150,ACTION_INST_FIXED3:151,ACTION_INST_COOLDOWN:152,ACTION_INST_LAST_USED_FRAME:153,CONDITION_DEF_ID:160,CONDITION_DEF_ENERGY_MUL:161,CONDITION_DEF_ARG0:162,CONDITION_DEF_ARG1:163,CONDITION_DEF_ARG2:164,CONDITION_DEF_ARG3:165,CONDITION_DEF_ARG4:166,CONDITION_DEF_ARG5:167,CONDITION_DEF_ARG6:168,CONDITION_DEF_ARG7:169,CONDITION_INST_VAR0:176,CONDITION_INST_VAR1:177,CONDITION_INST_VAR2:178,CONDITION_INST_VAR3:179,CONDITION_INST_FIXED0:180,CONDITION_INST_FIXED1:181,CONDITION_INST_FIXED2:182,CONDITION_INST_FIXED3:183,STATUS_EFFECT_DEF_DURATION:192,STATUS_EFFECT_DEF_STACK_LIMIT:193,STATUS_EFFECT_DEF_RESET_ON_STACK:194,STATUS_EFFECT_DEF_CHANCE:195,STATUS_EFFECT_DEF_ARG0:196,STATUS_EFFECT_DEF_ARG1:197,STATUS_EFFECT_DEF_ARG2:198,STATUS_EFFECT_INST_VAR0:208,STATUS_EFFECT_INST_VAR1:209,STATUS_EFFECT_INST_VAR2:210,STATUS_EFFECT_INST_VAR3:211,STATUS_EFFECT_INST_FIXED0:212,STATUS_EFFECT_INST_FIXED1:213,STATUS_EFFECT_INST_FIXED2:214,STATUS_EFFECT_INST_FIXED3:215,STATUS_EFFECT_INST_LIFE_SPAN:216,STATUS_EFFECT_INST_STACK_COUNT:217},wc={TURN_AROUND:[Ae.READ_PROP,0,or.ENTITY_DIR_HORIZONTAL,Ae.NEGATE,0,Ae.WRITE_PROP,or.ENTITY_DIR_HORIZONTAL,0,Ae.READ_PROP,1,or.CHARACTER_MOVE_SPEED,Ae.MUL,2,0,1,Ae.WRITE_PROP,or.CHARACTER_VEL_X,2,Ae.EXIT,1],RUN:[Ae.READ_PROP,0,or.ENTITY_DIR_HORIZONTAL,Ae.READ_PROP,1,or.CHARACTER_MOVE_SPEED,Ae.MUL,2,0,1,Ae.WRITE_PROP,or.CHARACTER_VEL_X,2,Ae.EXIT,1],JUMP:[Ae.EXIT_IF_NOT_GROUNDED,0,Ae.EXIT_IF_NO_ENERGY,0,Ae.READ_PROP,0,or.ENTITY_DIR_VERTICAL,Ae.READ_PROP,1,or.CHARACTER_JUMP_FORCE,Ae.MUL,1,1,0,Ae.NEGATE,1,Ae.WRITE_PROP,or.CHARACTER_VEL_Y,1,Ae.APPLY_ENERGY_COST,Ae.EXIT,1],WALL_JUMP:[],INVERT_GRAVITY:[Ae.READ_PROP,0,or.ENTITY_DIR_VERTICAL,Ae.NEGATE,0,Ae.WRITE_PROP,or.ENTITY_DIR_VERTICAL,0,Ae.EXIT,1]},Sc={ALWAYS:[Ae.ASSIGN_BYTE,0,1,Ae.EXIT_WITH_VAR,0],IS_WALL_LEANING:[Ae.READ_PROP,0,or.CHARACTER_COLLISION_RIGHT,Ae.READ_PROP,1,or.CHARACTER_COLLISION_LEFT,Ae.OR,2,0,1,Ae.EXIT_WITH_VAR,2],ONLY_ONCE:[Ae.ASSIGN_BYTE,1,1,Ae.EQUAL,2,0,1,Ae.NOT,3,2,Ae.ASSIGN_BYTE,0,1,Ae.EXIT_WITH_VAR,3],IS_GROUNDED:[Ae.EXIT_IF_NOT_GROUNDED,0,Ae.EXIT,1]},$P=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],Pd={id:1,position:[[32,1],[192,1]],group:1,size:[16,32],health:100,health_cap:100,energy:100,energy_cap:100,power:10,weight:5,jump_force:[160,32],move_speed:[2,1],armor:[0,0,0,0,0,0,0,0,0],energy_regen:1,energy_regen_rate:60,energy_charge:5,energy_charge_rate:30,dir:[2,2],enmity:0,target_id:null,target_type:0},jP=[{energy_mul:32,args:[0,0,0,0,0,0,0,0],script:[...Sc.ALWAYS]},{energy_mul:32,args:[0,0,0,0,0,0,0,0],script:[...Sc.IS_GROUNDED]},{energy_mul:32,args:[0,0,0,0,0,0,0,0],script:[...Sc.IS_WALL_LEANING]},{energy_mul:32,args:[0,0,0,0,0,0,0,0],script:[...Sc.ONLY_ONCE]}],HP=[{energy_cost:0,cooldown:0,args:[0,0,0,0,0,0,0,0],spawns:[0,0,0,0],script:[...wc.RUN]},{energy_cost:0,cooldown:0,args:[0,0,0,0,0,0,0,0],spawns:[0,0,0,0],script:[...wc.TURN_AROUND]},{energy_cost:10,cooldown:30,args:[0,0,0,0,0,0,0,0],spawns:[0,0,0,0],script:[...wc.JUMP]},{energy_cost:10,cooldown:30,args:[0,0,0,0,0,0,0,0],spawns:[0,0,0,0],script:[...wc.INVERT_GRAVITY]}],Nd={seed:12345,gravity:[32,64],tilemap:$P,actions:HP,conditions:jP,spawns:[],status_effects:[]},WP={...Nd,characters:[{...Pd,behaviors:[[2,1],[0,0]]}]},VP={...Nd,characters:[{...Pd,behaviors:[[2,1],[1,2],[0,0]]}]},XP={...Nd,characters:[{...Pd,behaviors:[[3,3],[2,1],[0,0]]}]},YP={...Nd,characters:[{...Pd,behaviors:[[3,3],[2,1],[1,2],[0,0]]}]},QP={RUN_AROUND:WP,RUN_AND_JUMP:VP,INVERTED_RUN:XP,INVERTED_RUN_AND_JUMP:YP};function Y1(t){return QP[t]}const qP=()=>{const[t,e]=_e.useState("RUN_AROUND"),[r,n]=_e.useState(""),[i,s]=_e.useState(!1),{loadConfiguration:o,isWasmInitialized:u}=wy();_e.useEffect(()=>{if(!i&&u){const h=Y1("RUN_AROUND"),f=JSON.stringify(h,null,2),g=o(f);g.success?(console.log(" Auto-loaded COMBINATION_1 configuration successfully"),n("")):(console.error(" Failed to auto-load COMBINATION_1:",g.error),n(g.error||"Failed to auto-load COMBINATION_1")),s(!0)}},[i,u,o]);const c=h=>{e(h),console.log(`Loading ${h} configuration...`);const f=Y1(h),g=JSON.stringify(f,null,2),m=o(g);m.success?(console.log(` Loaded ${h} configuration successfully`),n("")):(console.error(` Failed to load ${h}:`,m.error),n(m.error||`Failed to load ${h}`))};return te.jsxs("div",{className:"mb-4",children:[te.jsx("label",{className:"block text-sm font-medium mb-2",children:"Configuration:"}),te.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded",value:t,onChange:h=>c(h.target.value),disabled:!u,children:[te.jsx("option",{value:"RUN_AROUND",children:"Run Around"}),te.jsx("option",{value:"RUN_AND_JUMP",children:"Run & Jump"}),te.jsx("option",{value:"INVERTED_RUN",children:"Inverted Run Around"}),te.jsx("option",{value:"INVERTED_RUN_AND_JUMP",children:"Inverted Run & Jump"})]}),r&&te.jsx("div",{className:"text-red-600 text-sm mt-1",children:r}),!u&&te.jsx("div",{className:"text-gray-500 text-sm mt-1",children:"Loading WASM..."})]})};var kd={exports:{}},Ks=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Ks||{}),mb=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(mb||{}),Og=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Og||{}),ye=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ye||{}),hn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(hn||{}),ie=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ie||{}),ea=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ea||{}),we=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(we||{}),se=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(se||{}),ai=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ai||{}),ci=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ci||{}),es=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(es||{}),jr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(jr||{}),bs=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(bs||{}),Sy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Sy||{}),Hr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Hr||{}),wt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(wt||{}),yt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(yt||{}),jn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(jn||{});const KP={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},pe={ADAPTER:KP,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Hp=/iPhone/i,Q1=/iPod/i,q1=/iPad/i,K1=/\biOS-universal(?:.+)Mac\b/i,Wp=/\bAndroid(?:.+)Mobile\b/i,Z1=/Android/i,vo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ec=/Silk/i,Zn=/Windows Phone/i,J1=/\bWindows(?:.+)ARM\b/i,ex=/BlackBerry/i,tx=/BB10/i,rx=/Opera Mini/i,nx=/\b(CriOS|Chrome)(?:.+)Mobile/i,ix=/Mobile(?:.+)Firefox\b/i,sx=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function ZP(t){return function(e){return e.test(t)}}function ox(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=ZP(r),s={apple:{phone:i(Hp)&&!i(Zn),ipod:i(Q1),tablet:!i(Hp)&&(i(q1)||sx(e))&&!i(Zn),universal:i(K1),device:(i(Hp)||i(Q1)||i(q1)||i(K1)||sx(e))&&!i(Zn)},amazon:{phone:i(vo),tablet:!i(vo)&&i(Ec),device:i(vo)||i(Ec)},android:{phone:!i(Zn)&&i(vo)||!i(Zn)&&i(Wp),tablet:!i(Zn)&&!i(vo)&&!i(Wp)&&(i(Ec)||i(Z1)),device:!i(Zn)&&(i(vo)||i(Ec)||i(Wp)||i(Z1))||i(/\bokhttp\b/i)},windows:{phone:i(Zn),tablet:i(J1),device:i(Zn)||i(J1)},other:{blackberry:i(ex),blackberry10:i(tx),opera:i(rx),firefox:i(ix),chrome:i(nx),device:i(ex)||i(tx)||i(rx)||i(ix)||i(nx)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const JP=ox.default??ox,$o=JP(globalThis.navigator);pe.RETINA_PREFIX=/@([0-9\.]+)x/;pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var gb={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,g,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,g||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],v]:c._events[_].push(v):(c._events[_]=v,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,g;if(this._eventsCount===0)return h;for(g in f=this._events)e.call(f,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=r?r+h:h,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,v=g.length,_=new Array(v);m<v;m++)_[m]=g[m].fn;return _},u.prototype.listenerCount=function(h){var f=r?r+h:h,g=this._events[f];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,f,g,m,v,_){var b=r?r+h:h;if(!this._events[b])return!1;var T=this._events[b],S=arguments.length,E,w;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,g),!0;case 4:return T.fn.call(T.context,f,g,m),!0;case 5:return T.fn.call(T.context,f,g,m,v),!0;case 6:return T.fn.call(T.context,f,g,m,v,_),!0}for(w=1,E=new Array(S-1);w<S;w++)E[w-1]=arguments[w];T.fn.apply(T.context,E)}else{var A=T.length,k;for(w=0;w<A;w++)switch(T[w].once&&this.removeListener(h,T[w].fn,void 0,!0),S){case 1:T[w].fn.call(T[w].context);break;case 2:T[w].fn.call(T[w].context,f);break;case 3:T[w].fn.call(T[w].context,f,g);break;case 4:T[w].fn.call(T[w].context,f,g,m);break;default:if(!E)for(k=1,E=new Array(S-1);k<S;k++)E[k-1]=arguments[k];T[w].fn.apply(T[w].context,E)}}return!0},u.prototype.on=function(h,f,g){return s(this,h,f,g,!1)},u.prototype.once=function(h,f,g){return s(this,h,f,g,!0)},u.prototype.removeListener=function(h,f,g,m){var v=r?r+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!m||_.once)&&(!g||_.context===g)&&o(this,v);else{for(var b=0,T=[],S=_.length;b<S;b++)(_[b].fn!==f||m&&!_[b].once||g&&_[b].context!==g)&&T.push(_[b]);T.length?this._events[v]=T.length===1?T[0]:T:o(this,v)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(gb);var eN=gb.exports;const Od=fd(eN);var Ey={exports:{}};Ey.exports=Md;Ey.exports.default=Md;function Md(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=yb(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,c,h,f,g,m,v;if(n&&(s=sN(t,e,s,r)),t.length>80*r){u=h=t[0],c=f=t[1];for(var _=r;_<i;_+=r)g=t[_],m=t[_+1],g<u&&(u=g),m<c&&(c=m),g>h&&(h=g),m>f&&(f=m);v=Math.max(h-u,f-c),v=v!==0?32767/v:0}return Ql(s,o,r,u,c,v,0),o}function yb(t,e,r,n,i){var s,o;if(i===Lg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=ax(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=ax(s,t[s],t[s+1],o);return o&&Fd(o,o.next)&&(Kl(o),o=o.next),o}function Vs(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Fd(r,r.next)||rt(r.prev,r,r.next)===0)){if(Kl(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ql(t,e,r,n,i,s,o){if(t){!o&&s&&cN(t,n,i,s);for(var u=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?rN(t,n,i,s):tN(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),Kl(t),t=h.next,u=h.next;continue}if(t=h,t===u){o?o===1?(t=nN(Vs(t),e,r),Ql(t,e,r,n,i,s,2)):o===2&&iN(t,e,r,n,i,s):Ql(Vs(t),e,r,n,i,s,1);break}}}}function tN(t){var e=t.prev,r=t,n=t.next;if(rt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,u=e.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,g=u<c?u<h?u:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,v=u>c?u>h?u:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=g&&_.y<=v&&jo(i,u,s,c,o,h,_.x,_.y)&&rt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function rN(t,e,r,n){var i=t.prev,s=t,o=t.next;if(rt(i,s,o)>=0)return!1;for(var u=i.x,c=s.x,h=o.x,f=i.y,g=s.y,m=o.y,v=u<c?u<h?u:h:c<h?c:h,_=f<g?f<m?f:m:g<m?g:m,b=u>c?u>h?u:h:c>h?c:h,T=f>g?f>m?f:m:g>m?g:m,S=Mg(v,_,e,r,n),E=Mg(b,T,e,r,n),w=t.prevZ,A=t.nextZ;w&&w.z>=S&&A&&A.z<=E;){if(w.x>=v&&w.x<=b&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&jo(u,f,c,g,h,m,w.x,w.y)&&rt(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=v&&A.x<=b&&A.y>=_&&A.y<=T&&A!==i&&A!==o&&jo(u,f,c,g,h,m,A.x,A.y)&&rt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=S;){if(w.x>=v&&w.x<=b&&w.y>=_&&w.y<=T&&w!==i&&w!==o&&jo(u,f,c,g,h,m,w.x,w.y)&&rt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=E;){if(A.x>=v&&A.x<=b&&A.y>=_&&A.y<=T&&A!==i&&A!==o&&jo(u,f,c,g,h,m,A.x,A.y)&&rt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function nN(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Fd(i,s)&&vb(i,n,n.next,s)&&ql(i,s)&&ql(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Kl(n),Kl(n.next),n=t=s),n=n.next}while(n!==t);return Vs(n)}function iN(t,e,r,n,i,s){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&fN(o,u)){var c=_b(o,u);o=Vs(o,o.next),c=Vs(c,c.next),Ql(o,e,r,n,i,s,0),Ql(c,e,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==t)}function sN(t,e,r,n){var i=[],s,o,u,c,h;for(s=0,o=e.length;s<o;s++)u=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=yb(t,u,c,n,!1),h===h.next&&(h.steiner=!0),i.push(dN(h));for(i.sort(oN),s=0;s<i.length;s++)r=aN(i[s],r);return r}function oN(t,e){return t.x-e.x}function aN(t,e){var r=lN(t,e);if(!r)return e;var n=_b(r,t);return Vs(n,n.next),Vs(r,r.next)}function lN(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,f=o.y,g=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&jo(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),ql(r,t)&&(m<g||m===g&&(r.x>o.x||r.x===o.x&&uN(o,r)))&&(o=r,g=m)),r=r.next;while(r!==c);return o}function uN(t,e){return rt(t.prev,t,e.prev)<0&&rt(e.next,t,t.next)<0}function cN(t,e,r,n){var i=t;do i.z===0&&(i.z=Mg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hN(i)}function hN(t){var e,r,n,i,s,o,u,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,u=0,e=0;e<h&&(u++,n=n.nextZ,!!n);e++);for(c=h;u>0||c>0&&n;)u!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Mg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function dN(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function jo(t,e,r,n,i,s,o,u){return(i-o)*(e-u)>=(t-o)*(s-u)&&(t-o)*(n-u)>=(r-o)*(e-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function fN(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!pN(t,e)&&(ql(t,e)&&ql(e,t)&&mN(t,e)&&(rt(t.prev,t,e.prev)||rt(t,e.prev,e))||Fd(t,e)&&rt(t.prev,t,t.next)>0&&rt(e.prev,e,e.next)>0)}function rt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fd(t,e){return t.x===e.x&&t.y===e.y}function vb(t,e,r,n){var i=Tc(rt(t,e,r)),s=Tc(rt(t,e,n)),o=Tc(rt(r,n,t)),u=Tc(rt(r,n,e));return!!(i!==s&&o!==u||i===0&&bc(t,r,e)||s===0&&bc(t,n,e)||o===0&&bc(r,t,n)||u===0&&bc(r,e,n))}function bc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Tc(t){return t>0?1:t<0?-1:0}function pN(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&vb(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ql(t,e){return rt(t.prev,t,t.next)<0?rt(t,e,t.next)>=0&&rt(t,t.prev,e)>=0:rt(t,e,t.prev)<0||rt(t,t.next,e)<0}function mN(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function _b(t,e){var r=new Fg(t.i,t.x,t.y),n=new Fg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function ax(t,e,r,n){var i=new Fg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Kl(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Fg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Md.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Lg(t,0,s,r));if(i)for(var u=0,c=e.length;u<c;u++){var h=e[u]*r,f=u<c-1?e[u+1]*r:t.length;o-=Math.abs(Lg(t,h,f,r))}var g=0;for(u=0;u<n.length;u+=3){var m=n[u]*r,v=n[u+1]*r,_=n[u+2]*r;g+=Math.abs((t[m]-t[_])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[_+1]-t[m+1]))}return o===0&&g===0?0:Math.abs((g-o)/o)};function Lg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Md.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var gN=Ey.exports;const yN=fd(gN);var Vh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Vh.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ml=="object"&&ml;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,c=36,h=1,f=26,g=38,m=700,v=72,_=128,b="-",T=/^xn--/,S=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=c-h,k=Math.floor,D=String.fromCharCode,R;function P(F){throw new RangeError(w[F])}function U(F,$){for(var ne=F.length,Se=[];ne--;)Se[ne]=$(F[ne]);return Se}function B(F,$){var ne=F.split("@"),Se="";ne.length>1&&(Se=ne[0]+"@",F=ne[1]),F=F.replace(E,".");var xe=F.split("."),Be=U(xe,$).join(".");return Se+Be}function Q(F){for(var $=[],ne=0,Se=F.length,xe,Be;ne<Se;)xe=F.charCodeAt(ne++),xe>=55296&&xe<=56319&&ne<Se?(Be=F.charCodeAt(ne++),(Be&64512)==56320?$.push(((xe&1023)<<10)+(Be&1023)+65536):($.push(xe),ne--)):$.push(xe);return $}function j(F){return U(F,function($){var ne="";return $>65535&&($-=65536,ne+=D($>>>10&1023|55296),$=56320|$&1023),ne+=D($),ne}).join("")}function M(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:c}function H(F,$){return F+22+75*(F<26)-(($!=0)<<5)}function J(F,$,ne){var Se=0;for(F=ne?k(F/m):F>>1,F+=k(F/$);F>A*f>>1;Se+=c)F=k(F/A);return k(Se+(A+1)*F/(F+g))}function ce(F){var $=[],ne=F.length,Se,xe=0,Be=_,be=v,Le,bt,Ot,ot,Te,He,ke,Rr,Ir;for(Le=F.lastIndexOf(b),Le<0&&(Le=0),bt=0;bt<Le;++bt)F.charCodeAt(bt)>=128&&P("not-basic"),$.push(F.charCodeAt(bt));for(Ot=Le>0?Le+1:0;Ot<ne;){for(ot=xe,Te=1,He=c;Ot>=ne&&P("invalid-input"),ke=M(F.charCodeAt(Ot++)),(ke>=c||ke>k((u-xe)/Te))&&P("overflow"),xe+=ke*Te,Rr=He<=be?h:He>=be+f?f:He-be,!(ke<Rr);He+=c)Ir=c-Rr,Te>k(u/Ir)&&P("overflow"),Te*=Ir;Se=$.length+1,be=J(xe-ot,Se,ot==0),k(xe/Se)>u-Be&&P("overflow"),Be+=k(xe/Se),xe%=Se,$.splice(xe++,0,Be)}return j($)}function ee(F){var $,ne,Se,xe,Be,be,Le,bt,Ot,ot,Te,He=[],ke,Rr,Ir,ls;for(F=Q(F),ke=F.length,$=_,ne=0,Be=v,be=0;be<ke;++be)Te=F[be],Te<128&&He.push(D(Te));for(Se=xe=He.length,xe&&He.push(b);Se<ke;){for(Le=u,be=0;be<ke;++be)Te=F[be],Te>=$&&Te<Le&&(Le=Te);for(Rr=Se+1,Le-$>k((u-ne)/Rr)&&P("overflow"),ne+=(Le-$)*Rr,$=Le,be=0;be<ke;++be)if(Te=F[be],Te<$&&++ne>u&&P("overflow"),Te==$){for(bt=ne,Ot=c;ot=Ot<=Be?h:Ot>=Be+f?f:Ot-Be,!(bt<ot);Ot+=c)ls=bt-ot,Ir=c-ot,He.push(D(H(ot+ls%Ir,0))),bt=k(ls/Ir);He.push(D(H(bt,0))),Be=J(ne,Rr,Se==xe),ne=0,++Se}++ne,++$}return He.join("")}function N(F){return B(F,function($){return T.test($)?ce($.slice(4).toLowerCase()):$})}function W(F){return B(F,function($){return S.test($)?"xn--"+ee($):$})}if(o={version:"1.4.1",ucs2:{decode:Q,encode:j},decode:ce,encode:ee,toASCII:W,toUnicode:N},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(ml)})(Vh,Vh.exports);var vN=Vh.exports,xa=TypeError;const _N={},xN=Object.freeze(Object.defineProperty({__proto__:null,default:_N},Symbol.toStringTag,{value:"Module"})),wN=zw(xN);var by=typeof Map=="function"&&Map.prototype,Vp=Object.getOwnPropertyDescriptor&&by?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Xh=by&&Vp&&typeof Vp.get=="function"?Vp.get:null,lx=by&&Map.prototype.forEach,Ty=typeof Set=="function"&&Set.prototype,Xp=Object.getOwnPropertyDescriptor&&Ty?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Yh=Ty&&Xp&&typeof Xp.get=="function"?Xp.get:null,ux=Ty&&Set.prototype.forEach,SN=typeof WeakMap=="function"&&WeakMap.prototype,Tl=SN?WeakMap.prototype.has:null,EN=typeof WeakSet=="function"&&WeakSet.prototype,Al=EN?WeakSet.prototype.has:null,bN=typeof WeakRef=="function"&&WeakRef.prototype,cx=bN?WeakRef.prototype.deref:null,TN=Boolean.prototype.valueOf,AN=Object.prototype.toString,CN=Function.prototype.toString,RN=String.prototype.match,Ay=String.prototype.slice,zi=String.prototype.replace,IN=String.prototype.toUpperCase,hx=String.prototype.toLowerCase,xb=RegExp.prototype.test,dx=Array.prototype.concat,Bn=Array.prototype.join,PN=Array.prototype.slice,fx=Math.floor,Dg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yp=Object.getOwnPropertySymbols,Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Cl=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fa||"symbol")?Symbol.toStringTag:null,wb=Object.prototype.propertyIsEnumerable,px=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function mx(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xb.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-fx(-t):fx(t);if(n!==t){var i=String(n),s=Ay.call(e,i.length+1);return zi.call(i,r,"$&_")+"."+zi.call(zi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return zi.call(e,r,"$&_")}var Ug=wN,gx=Ug.custom,yx=bb(gx)?gx:null,Sb={__proto__:null,double:'"',single:"'"},NN={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Ld=function t(e,r,n,i){var s=r||{};if(ri(s,"quoteStyle")&&!ri(Sb,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ri(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ri(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ri(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ri(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ab(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return u?mx(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return u?mx(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return zg(e)?"[Array]":"[Object]";var g=QN(s,n);if(typeof i>"u")i=[];else if(Tb(i,e)>=0)return"[Circular]";function m(M,H,J){if(H&&(i=PN.call(i),i.push(H)),J){var ce={depth:s.depth};return ri(s,"quoteStyle")&&(ce.quoteStyle=s.quoteStyle),t(M,ce,n+1,i)}return t(M,s,n+1,i)}if(typeof e=="function"&&!vx(e)){var v=zN(e),_=Ac(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(_.length>0?" { "+Bn.call(_,", ")+" }":"")}if(bb(e)){var b=fa?zi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bg.call(e);return typeof e=="object"&&!fa?Za(b):b}if(VN(e)){for(var T="<"+hx.call(String(e.nodeName)),S=e.attributes||[],E=0;E<S.length;E++)T+=" "+S[E].name+"="+Eb(kN(S[E].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+hx.call(String(e.nodeName))+">",T}if(zg(e)){if(e.length===0)return"[]";var w=Ac(e,m);return g&&!YN(w)?"["+Gg(w,g)+"]":"[ "+Bn.call(w,", ")+" ]"}if(MN(e)){var A=Ac(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!wb.call(e,"cause")?"{ ["+String(e)+"] "+Bn.call(dx.call("[cause]: "+m(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Bn.call(A,", ")+" }"}if(typeof e=="object"&&o){if(yx&&typeof e[yx]=="function"&&Ug)return Ug(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(GN(e)){var k=[];return lx&&lx.call(e,function(M,H){k.push(m(H,e,!0)+" => "+m(M,e))}),_x("Map",Xh.call(e),k,g)}if(HN(e)){var D=[];return ux&&ux.call(e,function(M){D.push(m(M,e))}),_x("Set",Yh.call(e),D,g)}if($N(e))return Qp("WeakMap");if(WN(e))return Qp("WeakSet");if(jN(e))return Qp("WeakRef");if(LN(e))return Za(m(Number(e)));if(BN(e))return Za(m(Dg.call(e)));if(DN(e))return Za(TN.call(e));if(FN(e))return Za(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof ml<"u"&&e===ml)return"{ [object globalThis] }";if(!ON(e)&&!vx(e)){var R=Ac(e,m),P=px?px(e)===Object.prototype:e instanceof Object||e.constructor===Object,U=e instanceof Object?"":"null prototype",B=!P&&Cl&&Object(e)===e&&Cl in e?Ay.call(ss(e),8,-1):U?"Object":"",Q=P||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=Q+(B||U?"["+Bn.call(dx.call([],B||[],U||[]),": ")+"] ":"");return R.length===0?j+"{}":g?j+"{"+Gg(R,g)+"}":j+"{ "+Bn.call(R,", ")+" }"}return String(e)};function Eb(t,e,r){var n=r.quoteStyle||e,i=Sb[n];return i+t+i}function kN(t){return zi.call(String(t),/"/g,"&quot;")}function Zs(t){return!Cl||!(typeof t=="object"&&(Cl in t||typeof t[Cl]<"u"))}function zg(t){return ss(t)==="[object Array]"&&Zs(t)}function ON(t){return ss(t)==="[object Date]"&&Zs(t)}function vx(t){return ss(t)==="[object RegExp]"&&Zs(t)}function MN(t){return ss(t)==="[object Error]"&&Zs(t)}function FN(t){return ss(t)==="[object String]"&&Zs(t)}function LN(t){return ss(t)==="[object Number]"&&Zs(t)}function DN(t){return ss(t)==="[object Boolean]"&&Zs(t)}function bb(t){if(fa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Bg)return!1;try{return Bg.call(t),!0}catch{}return!1}function BN(t){if(!t||typeof t!="object"||!Dg)return!1;try{return Dg.call(t),!0}catch{}return!1}var UN=Object.prototype.hasOwnProperty||function(t){return t in this};function ri(t,e){return UN.call(t,e)}function ss(t){return AN.call(t)}function zN(t){if(t.name)return t.name;var e=RN.call(CN.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Tb(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function GN(t){if(!Xh||!t||typeof t!="object")return!1;try{Xh.call(t);try{Yh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function $N(t){if(!Tl||!t||typeof t!="object")return!1;try{Tl.call(t,Tl);try{Al.call(t,Al)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function jN(t){if(!cx||!t||typeof t!="object")return!1;try{return cx.call(t),!0}catch{}return!1}function HN(t){if(!Yh||!t||typeof t!="object")return!1;try{Yh.call(t);try{Xh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function WN(t){if(!Al||!t||typeof t!="object")return!1;try{Al.call(t,Al);try{Tl.call(t,Tl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function VN(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ab(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ab(Ay.call(t,0,e.maxStringLength),e)+n}var i=NN[e.quoteStyle||"single"];i.lastIndex=0;var s=zi.call(zi.call(t,i,"\\$1"),/[\x00-\x1f]/g,XN);return Eb(s,"single",e)}function XN(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+IN.call(e.toString(16))}function Za(t){return"Object("+t+")"}function Qp(t){return t+" { ? }"}function _x(t,e,r,n){var i=n?Gg(r,n):Bn.call(r,", ");return t+" ("+e+") {"+i+"}"}function YN(t){for(var e=0;e<t.length;e++)if(Tb(t[e],`
`)>=0)return!1;return!0}function QN(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Bn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Bn.call(Array(e+1),r)}}function Gg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Bn.call(t,","+r)+`
`+e.prev}function Ac(t,e){var r=zg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ri(t,i)?e(t[i],t):""}var s=typeof Yp=="function"?Yp(t):[],o;if(fa){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var c in t)ri(t,c)&&(r&&String(Number(c))===c&&c<t.length||fa&&o["$"+c]instanceof Symbol||(xb.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Yp=="function")for(var h=0;h<s.length;h++)wb.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var qN=Ld,KN=xa,Dd=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},ZN=function(t,e){if(t){var r=Dd(t,e);return r&&r.value}},JN=function(t,e,r){var n=Dd(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},e2=function(t,e){return t?!!Dd(t,e):!1},t2=function(t,e){if(t)return Dd(t,e,!0)},r2=function(){var e,r={assert:function(n){if(!r.has(n))throw new KN("Side channel does not contain "+qN(n))},delete:function(n){var i=e&&e.next,s=t2(e,n);return s&&i&&i===s&&(e=void 0),!!s},get:function(n){return ZN(e,n)},has:function(n){return e2(e,n)},set:function(n,i){e||(e={next:void 0}),JN(e,n,i)}};return r},Cb=Object,n2=Error,i2=EvalError,s2=RangeError,o2=ReferenceError,a2=SyntaxError,l2=URIError,u2=Math.abs,c2=Math.floor,h2=Math.max,d2=Math.min,f2=Math.pow,p2=Math.round,m2=Number.isNaN||function(e){return e!==e},g2=m2,y2=function(e){return g2(e)||e===0?e:e<0?-1:1},v2=Object.getOwnPropertyDescriptor,ah=v2;if(ah)try{ah([],"length")}catch{ah=null}var Rb=ah,lh=Object.defineProperty||!1;if(lh)try{lh({},"a",{value:1})}catch{lh=!1}var _2=lh,qp,xx;function x2(){return xx||(xx=1,qp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),qp}var Kp,wx;function w2(){if(wx)return Kp;wx=1;var t=typeof Symbol<"u"&&Symbol,e=x2();return Kp=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Kp}var Zp,Sx;function Ib(){return Sx||(Sx=1,Zp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Zp}var Jp,Ex;function Pb(){if(Ex)return Jp;Ex=1;var t=Cb;return Jp=t.getPrototypeOf||null,Jp}var S2="Function.prototype.bind called on incompatible ",E2=Object.prototype.toString,b2=Math.max,T2="[object Function]",bx=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},A2=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},C2=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},R2=function(e){var r=this;if(typeof r!="function"||E2.apply(r)!==T2)throw new TypeError(S2+r);for(var n=A2(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,bx(n,arguments));return Object(f)===f?f:this}return r.apply(e,bx(n,arguments))},o=b2(0,r.length-n.length),u=[],c=0;c<o;c++)u[c]="$"+c;if(i=Function("binder","return function ("+C2(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},I2=R2,Bd=Function.prototype.bind||I2,Cy=Function.prototype.call,em,Tx;function Nb(){return Tx||(Tx=1,em=Function.prototype.apply),em}var P2=typeof Reflect<"u"&&Reflect&&Reflect.apply,N2=Bd,k2=Nb(),O2=Cy,M2=P2,F2=M2||N2.call(O2,k2),L2=Bd,D2=xa,B2=Cy,U2=F2,kb=function(e){if(e.length<1||typeof e[0]!="function")throw new D2("a function is required");return U2(L2,B2,e)},tm,Ax;function z2(){if(Ax)return tm;Ax=1;var t=kb,e=Rb,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return tm=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(u){return s(u==null?u:i(u))}:!1,tm}var rm,Cx;function G2(){if(Cx)return rm;Cx=1;var t=Ib(),e=Pb(),r=z2();return rm=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,rm}var nm,Rx;function $2(){if(Rx)return nm;Rx=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Bd;return nm=r.call(t,e),nm}var Ce,j2=Cb,H2=n2,W2=i2,V2=s2,X2=o2,pa=a2,ta=xa,Y2=l2,Q2=u2,q2=c2,K2=h2,Z2=d2,J2=f2,ek=p2,tk=y2,Ob=Function,im=function(t){try{return Ob('"use strict"; return ('+t+").constructor;")()}catch{}},Zl=Rb,rk=_2,sm=function(){throw new ta},nk=Zl?function(){try{return arguments.callee,sm}catch{try{return Zl(arguments,"callee").get}catch{return sm}}}():sm,_o=w2()(),It=G2(),ik=Pb(),sk=Ib(),Mb=Nb(),hu=Cy,Ao={},ok=typeof Uint8Array>"u"||!It?Ce:It(Uint8Array),Us={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ce:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ce:ArrayBuffer,"%ArrayIteratorPrototype%":_o&&It?It([][Symbol.iterator]()):Ce,"%AsyncFromSyncIteratorPrototype%":Ce,"%AsyncFunction%":Ao,"%AsyncGenerator%":Ao,"%AsyncGeneratorFunction%":Ao,"%AsyncIteratorPrototype%":Ao,"%Atomics%":typeof Atomics>"u"?Ce:Atomics,"%BigInt%":typeof BigInt>"u"?Ce:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ce:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ce:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ce:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":H2,"%eval%":eval,"%EvalError%":W2,"%Float16Array%":typeof Float16Array>"u"?Ce:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Ce:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ce:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ce:FinalizationRegistry,"%Function%":Ob,"%GeneratorFunction%":Ao,"%Int8Array%":typeof Int8Array>"u"?Ce:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ce:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ce:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_o&&It?It(It([][Symbol.iterator]())):Ce,"%JSON%":typeof JSON=="object"?JSON:Ce,"%Map%":typeof Map>"u"?Ce:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_o||!It?Ce:It(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":j2,"%Object.getOwnPropertyDescriptor%":Zl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ce:Promise,"%Proxy%":typeof Proxy>"u"?Ce:Proxy,"%RangeError%":V2,"%ReferenceError%":X2,"%Reflect%":typeof Reflect>"u"?Ce:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ce:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_o||!It?Ce:It(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ce:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_o&&It?It(""[Symbol.iterator]()):Ce,"%Symbol%":_o?Symbol:Ce,"%SyntaxError%":pa,"%ThrowTypeError%":nk,"%TypedArray%":ok,"%TypeError%":ta,"%Uint8Array%":typeof Uint8Array>"u"?Ce:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ce:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ce:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ce:Uint32Array,"%URIError%":Y2,"%WeakMap%":typeof WeakMap>"u"?Ce:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ce:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ce:WeakSet,"%Function.prototype.call%":hu,"%Function.prototype.apply%":Mb,"%Object.defineProperty%":rk,"%Object.getPrototypeOf%":ik,"%Math.abs%":Q2,"%Math.floor%":q2,"%Math.max%":K2,"%Math.min%":Z2,"%Math.pow%":J2,"%Math.round%":ek,"%Math.sign%":tk,"%Reflect.getPrototypeOf%":sk};if(It)try{null.error}catch(t){var ak=It(It(t));Us["%Error.prototype%"]=ak}var lk=function t(e){var r;if(e==="%AsyncFunction%")r=im("async function () {}");else if(e==="%GeneratorFunction%")r=im("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=im("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&It&&(r=It(i.prototype))}return Us[e]=r,r},Ix={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},du=Bd,Qh=$2(),uk=du.call(hu,Array.prototype.concat),ck=du.call(Mb,Array.prototype.splice),Px=du.call(hu,String.prototype.replace),qh=du.call(hu,String.prototype.slice),hk=du.call(hu,RegExp.prototype.exec),dk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,fk=/\\(\\)?/g,pk=function(e){var r=qh(e,0,1),n=qh(e,-1);if(r==="%"&&n!=="%")throw new pa("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new pa("invalid intrinsic syntax, expected opening `%`");var i=[];return Px(e,dk,function(s,o,u,c){i[i.length]=u?Px(c,fk,"$1"):o||s}),i},mk=function(e,r){var n=e,i;if(Qh(Ix,n)&&(i=Ix[n],n="%"+i[0]+"%"),Qh(Us,n)){var s=Us[n];if(s===Ao&&(s=lk(n)),typeof s>"u"&&!r)throw new ta("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new pa("intrinsic "+e+" does not exist!")},Ry=function(e,r){if(typeof e!="string"||e.length===0)throw new ta("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ta('"allowMissing" argument must be a boolean');if(hk(/^%?[^%]*%?$/,e)===null)throw new pa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=pk(e),i=n.length>0?n[0]:"",s=mk("%"+i+"%",r),o=s.name,u=s.value,c=!1,h=s.alias;h&&(i=h[0],ck(n,uk([0,1],h)));for(var f=1,g=!0;f<n.length;f+=1){var m=n[f],v=qh(m,0,1),_=qh(m,-1);if((v==='"'||v==="'"||v==="`"||_==='"'||_==="'"||_==="`")&&v!==_)throw new pa("property names with quotes must have matching quotes");if((m==="constructor"||!g)&&(c=!0),i+="."+m,o="%"+i+"%",Qh(Us,o))u=Us[o];else if(u!=null){if(!(m in u)){if(!r)throw new ta("base intrinsic for "+e+" exists, but the property is not available.");return}if(Zl&&f+1>=n.length){var b=Zl(u,m);g=!!b,g&&"get"in b&&!("originalValue"in b.get)?u=b.get:u=u[m]}else g=Qh(u,m),u=u[m];g&&!c&&(Us[o]=u)}}return u},Fb=Ry,Lb=kb,gk=Lb([Fb("%String.prototype.indexOf%")]),Db=function(e,r){var n=Fb(e,!!r);return typeof n=="function"&&gk(e,".prototype.")>-1?Lb([n]):n},yk=Ry,fu=Db,vk=Ld,_k=xa,Nx=yk("%Map%",!0),xk=fu("Map.prototype.get",!0),wk=fu("Map.prototype.set",!0),Sk=fu("Map.prototype.has",!0),Ek=fu("Map.prototype.delete",!0),bk=fu("Map.prototype.size",!0),Bb=!!Nx&&function(){var e,r={assert:function(n){if(!r.has(n))throw new _k("Side channel does not contain "+vk(n))},delete:function(n){if(e){var i=Ek(e,n);return bk(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return xk(e,n)},has:function(n){return e?Sk(e,n):!1},set:function(n,i){e||(e=new Nx),wk(e,n,i)}};return r},Tk=Ry,Ud=Db,Ak=Ld,Cc=Bb,Ck=xa,xo=Tk("%WeakMap%",!0),Rk=Ud("WeakMap.prototype.get",!0),Ik=Ud("WeakMap.prototype.set",!0),Pk=Ud("WeakMap.prototype.has",!0),Nk=Ud("WeakMap.prototype.delete",!0),kk=xo?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new Ck("Side channel does not contain "+Ak(i))},delete:function(i){if(xo&&i&&(typeof i=="object"||typeof i=="function")){if(e)return Nk(e,i)}else if(Cc&&r)return r.delete(i);return!1},get:function(i){return xo&&i&&(typeof i=="object"||typeof i=="function")&&e?Rk(e,i):r&&r.get(i)},has:function(i){return xo&&i&&(typeof i=="object"||typeof i=="function")&&e?Pk(e,i):!!r&&r.has(i)},set:function(i,s){xo&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new xo),Ik(e,i,s)):Cc&&(r||(r=Cc()),r.set(i,s))}};return n}:Cc,Ok=xa,Mk=Ld,Fk=r2,Lk=Bb,Dk=kk,Bk=Dk||Lk||Fk,Uk=function(){var e,r={assert:function(n){if(!r.has(n))throw new Ok("Side channel does not contain "+Mk(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=Bk()),e.set(n,i)}};return r},zk=String.prototype.replace,Gk=/%20/g,om={RFC1738:"RFC1738",RFC3986:"RFC3986"},Iy={default:om.RFC3986,formatters:{RFC1738:function(t){return zk.call(t,Gk,"+")},RFC3986:function(t){return String(t)}},RFC1738:om.RFC1738,RFC3986:om.RFC3986},$k=Iy,am=Object.prototype.hasOwnProperty,ks=Array.isArray,Nn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),jk=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ks(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Ub=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Hk=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ks(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!am.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ks(e)&&!ks(r)&&(i=Ub(e,n)),ks(e)&&ks(r)?(r.forEach(function(s,o){if(am.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return am.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},Wk=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Vk=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},lm=1024,Xk=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var u="",c=0;c<o.length;c+=lm){for(var h=o.length>=lm?o.slice(c,c+lm):o,f=[],g=0;g<h.length;++g){var m=h.charCodeAt(g);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===$k.RFC1738&&(m===40||m===41)){f[f.length]=h.charAt(g);continue}if(m<128){f[f.length]=Nn[m];continue}if(m<2048){f[f.length]=Nn[192|m>>6]+Nn[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=Nn[224|m>>12]+Nn[128|m>>6&63]+Nn[128|m&63];continue}g+=1,m=65536+((m&1023)<<10|h.charCodeAt(g)&1023),f[f.length]=Nn[240|m>>18]+Nn[128|m>>12&63]+Nn[128|m>>6&63]+Nn[128|m&63]}u+=f.join("")}return u},Yk=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),c=0;c<u.length;++c){var h=u[c],f=o[h];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:h}),n.push(f))}return jk(r),e},Qk=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},qk=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Kk=function(e,r){return[].concat(e,r)},Zk=function(e,r){if(ks(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},zb={arrayToObject:Ub,assign:Wk,combine:Kk,compact:Yk,decode:Vk,encode:Xk,isBuffer:qk,isRegExp:Qk,maybeMap:Zk,merge:Hk},Gb=Uk,uh=zb,Rl=Iy,Jk=Object.prototype.hasOwnProperty,$b={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dn=Array.isArray,eO=Array.prototype.push,jb=function(t,e){eO.apply(t,Dn(e)?e:[e])},tO=Date.prototype.toISOString,kx=Rl.default,xt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:uh.encode,encodeValuesOnly:!1,filter:void 0,format:kx,formatter:Rl.formatters[kx],indices:!1,serializeDate:function(e){return tO.call(e)},skipNulls:!1,strictNullHandling:!1},rO=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},um={},nO=function t(e,r,n,i,s,o,u,c,h,f,g,m,v,_,b,T,S,E){for(var w=e,A=E,k=0,D=!1;(A=A.get(um))!==void 0&&!D;){var R=A.get(e);if(k+=1,typeof R<"u"){if(R===k)throw new RangeError("Cyclic object value");D=!0}typeof A.get(um)>"u"&&(k=0)}if(typeof f=="function"?w=f(r,w):w instanceof Date?w=v(w):n==="comma"&&Dn(w)&&(w=uh.maybeMap(w,function(F){return F instanceof Date?v(F):F})),w===null){if(o)return h&&!T?h(r,xt.encoder,S,"key",_):r;w=""}if(rO(w)||uh.isBuffer(w)){if(h){var P=T?r:h(r,xt.encoder,S,"key",_);return[b(P)+"="+b(h(w,xt.encoder,S,"value",_))]}return[b(r)+"="+b(String(w))]}var U=[];if(typeof w>"u")return U;var B;if(n==="comma"&&Dn(w))T&&h&&(w=uh.maybeMap(w,h)),B=[{value:w.length>0?w.join(",")||null:void 0}];else if(Dn(f))B=f;else{var Q=Object.keys(w);B=g?Q.sort(g):Q}var j=c?String(r).replace(/\./g,"%2E"):String(r),M=i&&Dn(w)&&w.length===1?j+"[]":j;if(s&&Dn(w)&&w.length===0)return M+"[]";for(var H=0;H<B.length;++H){var J=B[H],ce=typeof J=="object"&&J&&typeof J.value<"u"?J.value:w[J];if(!(u&&ce===null)){var ee=m&&c?String(J).replace(/\./g,"%2E"):String(J),N=Dn(w)?typeof n=="function"?n(M,ee):M:M+(m?"."+ee:"["+ee+"]");E.set(e,k);var W=Gb();W.set(um,E),jb(U,t(ce,N,n,i,s,o,u,c,n==="comma"&&T&&Dn(w)?null:h,f,g,m,v,_,b,T,S,W))}}return U},iO=function(e){if(!e)return xt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||xt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Rl.default;if(typeof e.format<"u"){if(!Jk.call(Rl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Rl.formatters[n],s=xt.filter;(typeof e.filter=="function"||Dn(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in $b?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=xt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:xt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:xt.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:xt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:xt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?xt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:xt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:xt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:xt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:xt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:xt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:xt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:xt.strictNullHandling}},sO=function(t,e){var r=t,n=iO(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Dn(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u=$b[n.arrayFormat],c=u==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=Gb(),f=0;f<i.length;++f){var g=i[f],m=r[g];n.skipNulls&&m===null||jb(o,nO(m,g,u,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var v=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""},Xs=zb,$g=Object.prototype.hasOwnProperty,Ox=Array.isArray,lt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Xs.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},oO=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Hb=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},aO="utf8=%26%2310003%3B",lO="utf8=%E2%9C%93",uO=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&o.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var u=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===lO?h="utf-8":o[c]===aO&&(h="iso-8859-1"),u=c,c=o.length);for(c=0;c<o.length;++c)if(c!==u){var f=o[c],g=f.indexOf("]="),m=g===-1?f.indexOf("="):g+1,v,_;m===-1?(v=r.decoder(f,lt.decoder,h,"key"),_=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,m),lt.decoder,h,"key"),_=Xs.maybeMap(Hb(f.slice(m+1),r,Ox(n[v])?n[v].length:0),function(T){return r.decoder(T,lt.decoder,h,"value")})),_&&r.interpretNumericEntities&&h==="iso-8859-1"&&(_=oO(String(_))),f.indexOf("[]=")>-1&&(_=Ox(_)?[_]:_);var b=$g.call(n,v);b&&r.duplicates==="combine"?n[v]=Xs.combine(n[v],_):(!b||r.duplicates==="last")&&(n[v]=_)}return n},cO=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var o=n?e:Hb(e,r,i),u=t.length-1;u>=0;--u){var c,h=t[u];if(h==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Xs.combine([],o);else{c=r.plainObjects?{__proto__:null}:{};var f=h.charAt(0)==="["&&h.charAt(h.length-1)==="]"?h.slice(1,-1):h,g=r.decodeDotInKeys?f.replace(/%2E/g,"."):f,m=parseInt(g,10);!r.parseArrays&&g===""?c={0:o}:!isNaN(m)&&h!==g&&String(m)===g&&m>=0&&r.parseArrays&&m<=r.arrayLimit?(c=[],c[m]=o):g!=="__proto__"&&(c[g]=o)}o=c}return o},hO=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,f=[];if(h){if(!n.plainObjects&&$g.call(Object.prototype,h)&&!n.allowPrototypes)return;f.push(h)}for(var g=0;n.depth>0&&(c=u.exec(s))!==null&&g<n.depth;){if(g+=1,!n.plainObjects&&$g.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}if(c){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(c.index)+"]")}return cO(f,r,n,i)}},dO=function(e){if(!e)return lt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?lt.charset:e.charset,n=typeof e.duplicates>"u"?lt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:lt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:lt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:lt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:lt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:lt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:lt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:lt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:lt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:lt.decoder,delimiter:typeof e.delimiter=="string"||Xs.isRegExp(e.delimiter)?e.delimiter:lt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:lt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:lt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:lt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:lt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:lt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:lt.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},fO=function(t,e){var r=dO(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?uO(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],c=hO(u,n[u],r,typeof t=="string");i=Xs.merge(i,c,r)}return r.allowSparse===!0?i:Xs.compact(i)},pO=sO,mO=fO,gO=Iy,yO={formats:gO,parse:mO,stringify:pO},vO=vN;function hi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _O=/^([a-z0-9.+-]+:)/i,xO=/:[0-9]*$/,wO=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,SO=["<",">",'"',"`"," ","\r",`
`,"	"],EO=["{","}","|","\\","^","`"].concat(SO),jg=["'"].concat(EO),Mx=["%","/","?",";","#"].concat(jg),Fx=["/","?","#"],bO=255,Lx=/^[+a-z0-9A-Z_-]{0,63}$/,TO=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,AO={javascript:!0,"javascript:":!0},Hg={javascript:!0,"javascript:":!0},ra={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Wg=yO;function CO(t,e,r){if(t&&typeof t=="object"&&t instanceof hi)return t;var n=new hi;return n.parse(t,e,r),n}hi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var u=t;if(u=u.trim(),!r&&t.split("#").length===1){var c=wO.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Wg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=_O.exec(u);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@/]+@[^@/]+/)){var g=u.substr(0,2)==="//";g&&!(h&&Hg[h])&&(u=u.substr(2),this.slashes=!0)}if(!Hg[h]&&(g||h&&!ra[h])){for(var m=-1,v=0;v<Fx.length;v++){var _=u.indexOf(Fx[v]);_!==-1&&(m===-1||_<m)&&(m=_)}var b,T;m===-1?T=u.lastIndexOf("@"):T=u.lastIndexOf("@",m),T!==-1&&(b=u.slice(0,T),u=u.slice(T+1),this.auth=decodeURIComponent(b)),m=-1;for(var v=0;v<Mx.length;v++){var _=u.indexOf(Mx[v]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=u.length),this.host=u.slice(0,m),u=u.slice(m),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var E=this.hostname.split(/\./),v=0,w=E.length;v<w;v++){var A=E[v];if(A&&!A.match(Lx)){for(var k="",D=0,R=A.length;D<R;D++)A.charCodeAt(D)>127?k+="x":k+=A[D];if(!k.match(Lx)){var P=E.slice(0,v),U=E.slice(v+1),B=A.match(TO);B&&(P.push(B[1]),U.unshift(B[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=P.join(".");break}}}this.hostname.length>bO?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=vO.toASCII(this.hostname));var Q=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+Q,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!AO[f])for(var v=0,w=jg.length;v<w;v++){var M=jg[v];if(u.indexOf(M)!==-1){var H=encodeURIComponent(M);H===M&&(H=escape(M)),u=u.split(M).join(H)}}var J=u.indexOf("#");J!==-1&&(this.hash=u.substr(J),u=u.slice(0,J));var ce=u.indexOf("?");if(ce!==-1?(this.search=u.substr(ce),this.query=u.substr(ce+1),e&&(this.query=Wg.parse(this.query)),u=u.slice(0,ce)):e&&(this.search="",this.query={}),u&&(this.pathname=u),ra[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",ee=this.search||"";this.path=Q+ee}return this.href=this.format(),this};hi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Wg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ra[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),e+i+r+o+n};hi.prototype.resolve=function(t){return this.resolveObject(CO(t,!1,!0)).format()};hi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new hi;e.parse(t,!1,!0),t=e}for(var r=new hi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),u=0;u<o.length;u++){var c=o[u];c!=="protocol"&&(r[c]=t[c])}return ra[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ra[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var g=h[f];r[g]=t[g]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Hg[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=b||_||r.host&&t.pathname,S=T,E=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!ra[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),T=T&&(w[0]===""||E[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=w;else if(w.length)E||(E=[]),E.pop(),E=E.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(A){r.host=E.shift(),r.hostname=r.host;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var D=E.slice(-1)[0],R=(r.host||t.host||E.length>1)&&(D==="."||D==="..")||D==="",P=0,U=E.length;U>=0;U--)D=E[U],D==="."?E.splice(U,1):D===".."?(E.splice(U,1),P++):P&&(E.splice(U,1),P--);if(!T&&!S)for(;P--;P)E.unshift("..");T&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),R&&E.join("/").substr(-1)!=="/"&&E.push("");var B=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(A){r.hostname=B?"":E.length?E.shift():"",r.host=r.hostname;var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.hostname=k.shift(),r.host=r.hostname)}return T=T||r.host&&E.length,T&&!B&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};hi.prototype.parseHost=function(){var t=this.host,e=xO.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Dx={};function Fe(t,e,r=3){if(Dx[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Dx[e]=!0}function sn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ja(t){return t.split("?")[0].split("#")[0]}function RO(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function IO(t,e,r){return t.replace(new RegExp(RO(e),"g"),r)}function PO(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,u)}`:r=t.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Yr={toPosix(t){return IO(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){sn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(sn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Ja(this.toPosix(e??pe.ADAPTER.getBaseUrl())),i=Ja(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Yr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(sn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=PO(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return sn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(sn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(sn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){sn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){sn(t),e&&sn(e),t=Ja(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){sn(t),t=Ja(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){sn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ja(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,c=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}u===-1&&(c=!1,u=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let cm;async function NO(){return cm??(cm=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return jr.UNPACK;const e=await new Promise(o=>{const u=document.createElement("video");u.onloadeddata=()=>o(u),u.onerror=()=>o(null),u.autoplay=!1,u.crossOrigin="anonymous",u.preload="auto",u.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",u.load()});if(!e)return jr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?jr.PMA:jr.UNPACK})()),cm}let hm;function kO(){return typeof hm>"u"&&(hm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!pe.ADAPTER.getWebGLRenderingContext())return!1;const r=pe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),hm}var OO={grad:.9,turn:360,rad:360/(2*Math.PI)},Jn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Nt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Wr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Wb=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Bx=function(t){return{r:Wr(t.r,0,255),g:Wr(t.g,0,255),b:Wr(t.b,0,255),a:Wr(t.a)}},dm=function(t){return{r:Nt(t.r),g:Nt(t.g),b:Nt(t.b),a:Nt(t.a,3)}},MO=/^#([0-9a-f]{3,8})$/i,Rc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Vb=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),u=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},Xb=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),u=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,u,o,o,c,n][h],g:255*[c,n,n,u,o,o][h],b:255*[o,o,c,n,n,u][h],a:i}},Ux=function(t){return{h:Wb(t.h),s:Wr(t.s,0,100),l:Wr(t.l,0,100),a:Wr(t.a)}},zx=function(t){return{h:Nt(t.h),s:Nt(t.s),l:Nt(t.l),a:Nt(t.a,3)}},Gx=function(t){return Xb((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Il=function(t){return{h:(e=Vb(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},FO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,LO=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BO=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vg={string:[[function(t){var e=MO.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Nt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Nt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=DO.exec(t)||BO.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Bx({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=FO.exec(t)||LO.exec(t);if(!e)return null;var r,n,i=Ux({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(OO[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Gx(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Jn(e)&&Jn(r)&&Jn(n)?Bx({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Jn(e)||!Jn(r)||!Jn(n))return null;var o=Ux({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return Gx(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Jn(e)||!Jn(r)||!Jn(n))return null;var o=function(u){return{h:Wb(u.h),s:Wr(u.s,0,100),v:Wr(u.v,0,100),a:Wr(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return Xb(o)},"hsv"]]},$x=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},UO=function(t){return typeof t=="string"?$x(t.trim(),Vg.string):typeof t=="object"&&t!==null?$x(t,Vg.object):[null,void 0]},fm=function(t,e){var r=Il(t);return{h:r.h,s:Wr(r.s+100*e,0,100),l:r.l,a:r.a}},pm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},jx=function(t,e){var r=Il(t);return{h:r.h,s:r.s,l:Wr(r.l+100*e,0,100),a:r.a}},Xg=function(){function t(e){this.parsed=UO(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Nt(pm(this.rgba),2)},t.prototype.isDark=function(){return pm(this.rgba)<.5},t.prototype.isLight=function(){return pm(this.rgba)>=.5},t.prototype.toHex=function(){return e=dm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Rc(Nt(255*s)):"","#"+Rc(r)+Rc(n)+Rc(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return dm(this.rgba)},t.prototype.toRgbString=function(){return e=dm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return zx(Il(this.rgba))},t.prototype.toHslString=function(){return e=zx(Il(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=Vb(this.rgba),{h:Nt(e.h),s:Nt(e.s),v:Nt(e.v),a:Nt(e.a,3)};var e},t.prototype.invert=function(){return kn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),kn(fm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),kn(fm(this.rgba,-e))},t.prototype.grayscale=function(){return kn(fm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),kn(jx(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),kn(jx(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?kn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Nt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Il(this.rgba);return typeof e=="number"?kn({h:e,s:r.s,l:r.l,a:r.a}):Nt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===kn(e).toHex()},t}(),kn=function(t){return t instanceof Xg?t:new Xg(t)},Hx=[],zO=function(t){t.forEach(function(e){Hx.indexOf(e)<0&&(e(Xg,Vg),Hx.push(e))})};function GO(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),g=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var _ in r){var b=(u=f,c=s[_],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));b<g&&(g=b,m=_)}return m}},e.string.push([function(o){var u=o.toLowerCase(),c=u==="transparent"?"#0000":r[u];return c?new t(c).toRgb():null},"name"])}zO([GO]);const Co=class ch{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof ch)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=ch.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=ch.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const o=kn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Co.shared=new Co,Co.temp=new Co,Co.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ct=Co;function $O(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ye.NORMAL_NPM]=ye.NORMAL,t[ye.ADD_NPM]=ye.ADD,t[ye.SCREEN_NPM]=ye.SCREEN,e[ye.NORMAL]=ye.NORMAL_NPM,e[ye.ADD]=ye.ADD_NPM,e[ye.SCREEN]=ye.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Yb=$O();function Qb(t,e){return Yb[e?1:0][t]}function jO(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function qb(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Kh(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Wx(t){return!(t&t-1)&&!!t}function Vx(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Pl(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ho(t){return t===0?0:t<0?-1:1}let HO=0;function Jl(){return++HO}const Yg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Yg.EMPTY=new Yg(0,0,0,0);let Xx=Yg;const Yx={},On=Object.create(null),Ni=Object.create(null);function Qx(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function qx(t,e,r,n,i){const s=4*e;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function WO(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,u=e-1,c=r-1;for(;o<r&&Qx(i,e,o);)++o;if(o===r)return Xx.EMPTY;for(;Qx(i,e,c);)--c;for(;qx(i,e,s,o,c);)++s;for(;qx(i,e,u,o,c);)--u;return++u,++c,new Xx(s,o,u,c)}function VO(t){const e=WO(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function XO(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ma(t,e=1){var n;const r=(n=pe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ue=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ue||{});const Qg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Kx=(t,e)=>Qg(t).priority??e,ge={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Qg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Qg).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(u=>e(u)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Kx(s,r)-Kx(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class YO{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const QO=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function qO(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function KO(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=QO.replace(/%forloop%/gi,qO(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const mm=0,gm=1,ym=2,vm=3,_m=4,xm=5;class Xn{constructor(){this.data=0,this.blendMode=ye.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<mm)}set blend(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get offsets(){return!!(this.data&1<<gm)}set offsets(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get culling(){return!!(this.data&1<<ym)}set culling(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get depthTest(){return!!(this.data&1<<vm)}set depthTest(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get depthMask(){return!!(this.data&1<<xm)}set depthMask(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get clockwiseFrontFace(){return!!(this.data&1<<_m)}set clockwiseFrontFace(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ye.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Xn;return e.depthTest=!1,e.blend=!0,e}}Xn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const qg=[];function Kb(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=qg.length-1;n>=0;--n){const i=qg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class mn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,u,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let g=0,m=f.length;g<m;g++)f[g][h](e,r,n,i,s,o,u,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(mn.prototype,{dispatch:{value:mn.prototype.emit},run:{value:mn.prototype.emit}});class eu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new mn("setRealSize"),this.onUpdate=new mn("update"),this.onError=new mn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Zb extends eu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===jr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const ZO={scaleMode:ai.NEAREST,alphaMode:jr.NPM},Kg=class Ro extends Od{constructor(e=null,r=null){super(),r=Object.assign({},Ro.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:u,height:c,wrapMode:h,format:f,type:g,target:m,resolution:v,resourceOptions:_}=r;e&&!(e instanceof eu)&&(e=Kb(e,_),e.internal=!0),this.resolution=v||pe.RESOLUTION,this.width=Math.round((u||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=f,this.type=g,this.target=m,this.alphaMode=n,this.uid=Jl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=u>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Wx(this.realWidth)&&Wx(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ni[this.cacheId],delete On[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ro.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Jl()}`}s=e._pixiId}let o=Ni[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Ro(e,r),o.cacheId=s,Ro.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Zb(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,u;return e instanceof Float32Array?(o=ie.RGBA,u=we.FLOAT):e instanceof Int32Array?(o=ie.RGBA_INTEGER,u=we.INT):e instanceof Uint32Array?(o=ie.RGBA_INTEGER,u=we.UNSIGNED_INT):e instanceof Int16Array?(o=ie.RGBA_INTEGER,u=we.SHORT):e instanceof Uint16Array?(o=ie.RGBA_INTEGER,u=we.UNSIGNED_SHORT):e instanceof Int8Array?(o=ie.RGBA,u=we.BYTE):(o=ie.RGBA,u=we.UNSIGNED_BYTE),s.internal=!0,new Ro(s,Object.assign({},ZO,{type:u,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Ni[r]&&Ni[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Ni[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Ni[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Ni[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Ni[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Kg.defaultOptions={mipmap:es.POW2,anisotropicLevel:0,scaleMode:ai.LINEAR,wrapMode:ci.CLAMP,alphaMode:jr.UNPACK,target:ea.TEXTURE_2D,format:ie.RGBA,type:we.UNSIGNED_BYTE},Kg._globalBatch=0;let Pe=Kg;class Zg{constructor(){this.texArray=null,this.blend=0,this.type=hn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let JO=0;class pt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=JO++,this.disposeRunner=new mn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?jn.ELEMENT_ARRAY_BUFFER:jn.ARRAY_BUFFER}get index(){return this.type===jn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pt(e)}}class Zh{constructor(e,r=0,n=!1,i=we.FLOAT,s,o,u,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Zh(e,r,n,i,s)}}const eM={Float32Array,Uint32Array,Int32Array,Uint8Array};function tM(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let c=0;c<t.length;c++){const h=e[c],f=t[c],g=qb(f);i[g]||(i[g]=new eM[g](s)),o=i[g];for(let m=0;m<f.length;m++){const v=(m/h|0)*n+u,_=m%h;o[v+_]=f[m]}u+=h}return new Float32Array(s)}const Zx={5126:4,5123:2,5121:1};let rM=0;const nM={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ts{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=rM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,u,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof pt||(r instanceof Array&&(r=new Float32Array(r)),r=new pt(r));const h=e.split("|");if(h.length>1){for(let g=0;g<h.length;g++)this.addAttribute(h[g],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new Zh(f,n,i,s,o,u,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pt||(e instanceof Array&&(e=new Uint16Array(e)),e=new pt(e)),e.type=jn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new pt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*Zx[s.type]/4),s.buffer=0}for(n.data=tM(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ts;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new pt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Zh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=jn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ts,n=[],i=[],s=[];let o;for(let u=0;u<e.length;u++){o=e[u];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new nM[qb(o.buffers[u].data)](i[u]),r.buffers[u]=new pt(n[u]);for(let u=0;u<e.length;u++){o=e[u];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=jn.ELEMENT_ARRAY_BUFFER;let u=0,c=0,h=0,f=0;for(let g=0;g<o.buffers.length;g++)if(o.buffers[g]!==o.indexBuffer){f=g;break}for(const g in o.attributes){const m=o.attributes[g];(m.buffer|0)===f&&(c+=m.size*Zx[m.type]/4)}for(let g=0;g<e.length;g++){const m=e[g].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+h]+=u;u+=e[g].buffers[f].data.length/c,h+=m.length}}return r}}class Jb extends ts{constructor(e=!1){super(),this._buffer=new pt(null,e,!1),this._indexBuffer=new pt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,we.FLOAT).addAttribute("aColor",this._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,we.FLOAT).addIndex(this._indexBuffer)}}const Jh=Math.PI*2,iM=180/Math.PI,sM=Math.PI/180;var Dt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Dt||{});class Ye{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ye(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Ye.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ic=[new Ye,new Ye,new Ye,new Ye];let De=class Jg{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Dt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Jg(0,0,0,0)}clone(){return new Jg(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const P=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=P)return!1;const U=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>U}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=Ic[0].set(e.left,e.top),c=Ic[1].set(e.left,e.bottom),h=Ic[2].set(e.right,e.top),f=Ic[3].set(e.right,e.bottom);if(h.x<=u.x||c.y<=u.y)return!1;const g=Math.sign(r.a*r.d-r.b*r.c);if(g===0||(r.apply(u,u),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(u.x,c.x,h.x,f.x)<=n||Math.min(u.x,c.x,h.x,f.x)>=i||Math.max(u.y,c.y,h.y,f.y)<=s||Math.min(u.y,c.y,h.y,f.y)>=o))return!1;const m=g*(c.y-u.y),v=g*(u.x-c.x),_=m*n+v*s,b=m*i+v*s,T=m*n+v*o,S=m*i+v*o;if(Math.max(_,b,T,S)<=m*u.x+v*u.y||Math.min(_,b,T,S)>=m*f.x+v*f.y)return!1;const E=g*(u.y-h.y),w=g*(h.x-u.x),A=E*n+w*s,k=E*i+w*s,D=E*n+w*o,R=E*i+w*o;return!(Math.max(A,k,D,R)<=E*u.x+w*u.y||Math.min(A,k,D,R)>=E*f.x+w*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}};De.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class zd{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Dt.CIRC}clone(){return new zd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new De(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}zd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Gd{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Dt.ELIP}clone(){return new Gd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new De(this.x-this.width,this.y-this.height,this.width,this.height)}}Gd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class zs{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Dt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new zs(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(h-u)*((r-c)/(f-c))+u&&(n=!n)}return n}}zs.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class $d{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Dt.RREC}clone(){return new $d(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}$d.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class it{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ye;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ye;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,u,c,h){return this.a=Math.cos(u+h)*s,this.b=Math.sin(u+h)*s,this.c=-Math.sin(u-c)*o,this.d=Math.cos(u-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(u+c);return h<1e-5||Math.abs(Jh-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new it;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new it}static get TEMP_MATRIX(){return new it}}it.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ts=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],As=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Cs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Rs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],e0=[],eT=[],Pc=Math.sign;function oM(){for(let t=0;t<16;t++){const e=[];e0.push(e);for(let r=0;r<16;r++){const n=Pc(Ts[t]*Ts[r]+Cs[t]*As[r]),i=Pc(As[t]*Ts[r]+Rs[t]*As[r]),s=Pc(Ts[t]*Cs[r]+Cs[t]*Rs[r]),o=Pc(As[t]*Cs[r]+Rs[t]*Rs[r]);for(let u=0;u<16;u++)if(Ts[u]===n&&As[u]===i&&Cs[u]===s&&Rs[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new it;e.set(Ts[t],As[t],Cs[t],Rs[t],0,0),eT.push(e)}}oM();const et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ts[t],uY:t=>As[t],vX:t=>Cs[t],vY:t=>Rs[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>e0[t][e],sub:(t,e)=>e0[t][et.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?et.S:et.N:Math.abs(e)*2<=Math.abs(t)?t>0?et.E:et.W:e>0?t>0?et.SE:et.SW:t>0?et.NE:et.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=eT[et.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class zn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new zn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}zn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const t0=class{constructor(){this.worldTransform=new it,this.localTransform=new it,this.position=new zn(this.onChange,this,0,0),this.scale=new zn(this.onChange,this,1,1),this.pivot=new zn(this.onChange,this,0,0),this.skew=new zn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};t0.IDENTITY=new t0;let jd=t0;jd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var aM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,lM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Jx(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function wm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function tT(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return wm(2*e);case"bvec3":return wm(3*e);case"bvec4":return wm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const na=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],uM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},cM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function hM(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let u=!1;for(let c=0;c<na.length;c++)if(na[c].test(s,o)){r.push(na[c].code(i,o)),u=!0;break}if(!u){const c=(s.size===1&&!s.isArray?uM:cM)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const rT={};let wo=rT;function dM(){if(wo===rT||wo!=null&&wo.isContextLost()){const t=pe.ADAPTER.createCanvas();let e;pe.PREFER_ENV>=Ks.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),wo=e}return wo}let Nc;function fM(){if(!Nc){Nc=Hr.MEDIUM;const t=dM();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Nc=e.precision?Hr.HIGH:Hr.MEDIUM)}}return Nc}function ew(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),u=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);u[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function pM(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||ew(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||ew(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const mM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function nT(t){return mM[t]}let kc=null;const tw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function iT(t,e){if(!kc){const r=Object.keys(tw);kc={};for(let n=0;n<r.length;++n){const i=r[n];kc[t[i]]=tw[i]}}return kc[e]}function rw(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Hr.HIGH&&r!==Hr.HIGH&&(n=Hr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Hr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let el;function gM(){if(typeof el=="boolean")return el;try{el=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{el=!1}return el}let yM=0;const Oc={},r0=class Io{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=yM++,this.vertexSrc=e||Io.defaultVertexSrc,this.fragmentSrc=r||Io.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Oc[n]?(Oc[n]++,n+=`-${Oc[n]}`):Oc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=rw(this.vertexSrc,Io.defaultVertexPrecision,Hr.HIGH),this.fragmentSrc=rw(this.fragmentSrc,Io.defaultFragmentPrecision,fM())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return lM}static get defaultFragmentSrc(){return aM}static from(e,r,n){const i=e+r;let s=Yx[i];return s||(Yx[i]=s=new Io(e,r,n)),s}};r0.defaultVertexPrecision=Hr.HIGH,r0.defaultFragmentPrecision=$o.apple.device?Hr.HIGH:Hr.MEDIUM;let li=r0,vM=0;class gn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=vM++,this.static=!!r,this.ubo=!!n,e instanceof pt?(this.buffer=e,this.buffer.type=jn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pt(new Float32Array(1)),this.buffer.type=jn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new gn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new gn(e,r,n)}static uboFrom(e,r){return new gn(e,r??!0,!0)}}class Hn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof gn?this.uniformGroup=r:this.uniformGroup=new gn(r):this.uniformGroup=new gn({}),this.disposeRunner=new mn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=li.from(e,r);return new Hn(i,n)}}class _M{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=gn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new li(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new it,default:this.defaultGroupCache[e]};return new Hn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class n0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function xM(){return!$o.apple.device}function wM(t){let e=!0;const r=pe.ADAPTER.getNavigator();if($o.tablet||$o.phone){if($o.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if($o.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Hd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var SM=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,EM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ul=class on extends Hd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Jb,this.vertexSize=6,this.state=Xn.for2d(),this.size=on.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??wM(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??xM(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Fe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return EM}static get defaultFragmentTemplate(){return SM}setShaderGenerator({vertex:e=on.defaultVertexSrc,fragment:r=on.defaultFragmentTemplate}={}){this.shaderGenerator=new _M(e,r)}contextChange(){const e=this.renderer.gl;pe.PREFER_ENV===Ks.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),on.defaultMaxTextures),this.maxTextures=KO(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=on,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Zg);for(;r.length<i;)r.push(new n0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=on._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let u=++Pe._globalBatch,c=0,h=n[0],f=0;i.copyBoundTextures(s,r);for(let g=0;g<this._bufferSize;++g){const m=e[g];e[g]=null,m._batchEnabled!==u&&(h.count>=r&&(i.boundArray(h,s,u,r),this.buildDrawCalls(h,f,g),f=g,h=n[++c],++u),m._batchEnabled=u,m.touched=o,h.elements[h.count++]=m)}h.count>0&&(i.boundArray(h,s,u,r),this.buildDrawCalls(h,f,this._bufferSize),++c,++u);for(let g=0;g<s.length;g++)s[g]=null;Pe._globalBatch=u}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:u}=this,c=on._drawCallPool;let h=this._dcIndex,f=this._aIndex,g=this._iIndex,m=c[h];m.start=this._iIndex,m.texArray=e;for(let v=r;v<n;++v){const _=i[v],b=_._texture.baseTexture,T=Yb[b.alphaMode?1:0][_.blendMode];i[v]=null,r<v&&m.blend!==T&&(m.size=g-m.start,r=v,m=c[++h],m.texArray=e,m.start=g),this.packInterleavedGeometry(_,s,o,f,g),f+=_.vertexData.length/2*u,g+=_.indices.length,m.blend=T}r<n&&(m.size=g-m.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=g}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;on.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=on._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:u,type:c,size:h,start:f,blend:g}=i[o];s!==u&&(s=u,this.bindAndClearTexArray(u)),this.state.blendMode=g,n.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),on.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Kh(Math.ceil(e/8)),n=Vx(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new YO(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Kh(Math.ceil(e/12)),n=Vx(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:u}=r,c=i/this.vertexSize,h=e.uvs,f=e.indices,g=e.vertexData,m=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),_=ct.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let b=0;b<g.length;b+=2)u[i++]=g[b],u[i++]=g[b+1],u[i++]=h[b],u[i++]=h[b+1],o[i++]=_,u[i++]=m;for(let b=0;b<f.length;b++)n[s++]=c+f[b]}};ul.defaultBatchSize=4096,ul.extension={name:"batch",type:ue.RendererPlugin},ul._drawCallPool=[],ul._textureArrayPool=[];let Is=ul;ge.add(Is);var bM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,TM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const i0=class cl extends Hn{constructor(e,r,n){const i=li.from(e||cl.defaultVertexSrc,r||cl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=cl.defaultResolution,this.multisample=cl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Xn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return TM}static get defaultFragmentSrc(){return bM}};i0.defaultResolution=1,i0.defaultMultisample=yt.NONE;let Wo=i0;class ed{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ct(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}ed.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},ed.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"background"};ge.add(ed);class sT{constructor(e){this.renderer=e,this.emptyRenderer=new Hd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:u}=e;let c=0;for(let h=0;h<u;h++){const f=s[h],g=f._batchLocation;if(g>=0&&g<i&&r[g]===f){o[h]=g;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}sT.extension={type:ue.RendererSystem,name:"batch"};ge.add(sT);let nw=0;class td{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=nw++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=nw++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(pe.PREFER_ENV>=Ks.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}td.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},td.extension={type:ue.RendererSystem,name:"context"};ge.add(td);class s0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mn("disposeFramebuffer"),this.multisample=yt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Pe(null,{scaleMode:ai.NEAREST,resolution:1,mipmap:es.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Pe(null,{scaleMode:ai.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:es.OFF,format:ie.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class oT extends Pe{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yt.NONE),super(null,e),this.mipmap=es.OFF,this.valid=!0,this._clear=new ct([0,0,0,0]),this.framebuffer=new s0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class gi extends eu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=XO(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===jr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class aT extends gi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;gi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??pe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===jr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Py{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,u=e.height/2/s,c=e.x/i+o,h=e.y/s+u;n=et.add(n,et.NW),this.x0=c+o*et.uX(n),this.y0=h+u*et.uY(n),n=et.add(n,2),this.x1=c+o*et.uX(n),this.y1=h+u*et.uY(n),n=et.add(n,2),this.x2=c+o*et.uX(n),this.y2=h+u*et.uY(n),n=et.add(n,2),this.x3=c+o*et.uX(n),this.y3=h+u*et.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Py.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const iw=new Py;function Mc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class le extends Od{constructor(e,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new De(0,0,1,1)),e instanceof le&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=iw,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ye(o.x,o.y):new Ye(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&On[r.url]&&le.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,le.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new le(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===iw&&(this._uvs=new Py),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=pe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Pe){if(!e.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${u}-${Jl()}`,Pe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${u}_${Jl()}`}s=e._pixiId}let o=On[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Pe)?(r.resolution||(r.resolution=ma(e)),o=new le(new Pe(e,r)),o.baseTexture.cacheId=s,Pe.addToCache(o.baseTexture,s),le.addToCache(o,s)):!o&&e instanceof Pe&&(o=new le(e),le.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=le.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new le(Pe.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Pe(e,Object.assign({scaleMode:Pe.defaultOptions.scaleMode,resolution:ma(r)},i)),{resource:o}=s;o instanceof aT&&(o.url=r);const u=new le(s);return n||(n=r),Pe.addToCache(u.baseTexture,n),le.addToCache(u,n),n!==r&&(Pe.addToCache(u.baseTexture,r),le.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(c=>{u.baseTexture.once("loaded",()=>c(u))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),On[r]&&On[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),On[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=On[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete On[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)On[e.textureCacheIds[r]]===e&&delete On[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const c=o&&u?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return le._EMPTY||(le._EMPTY=new le(new Pe),Mc(le._EMPTY),Mc(le._EMPTY.baseTexture)),le._EMPTY}static get WHITE(){if(!le._WHITE){const e=pe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),le._WHITE=new le(Pe.from(e)),Mc(le._WHITE),Mc(le._WHITE.baseTexture)}return le._WHITE}}class Wd extends le{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Wd(new oT(e))}}class lT{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=yt.NONE){const i=new oT(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Wd(i)}getOptimalTexture(e,r,n=1,i=yt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Kh(e),r=Kh(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}lT.SCREEN_KEY=-1;class AM extends ts{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class uT extends ts{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pt(this.vertices),this.uvBuffer=new pt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class CM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yt.NONE,this.sourceFrame=new De,this.destinationFrame=new De,this.bindingSourceFrame=new De,this.bindingDestinationFrame=new De,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Fc=[new Ye,new Ye,new Ye,new Ye],Sm=new it;class cT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new lT,this.statePool=[],this.quad=new AM,this.quadUv=new uT,this.tempRect=new De,this.activeState={},this.globalUniforms=new gn({outputFrame:new De,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new CM,o=n.renderTexture;let u,c;if(o.current){const T=o.current;u=T.resolution,c=T.multisample}else u=n.resolution,c=n.multisample;let h=r[0].resolution||u,f=r[0].multisample??c,g=r[0].padding,m=r[0].autoFit,v=r[0].legacy??!0;for(let T=1;T<r.length;T++){const S=r[T];h=Math.min(h,S.resolution||u),f=Math.min(f,S.multisample??c),g=this.useMaxPadding?Math.max(g,S.padding):g+S.padding,m=m&&S.autoFit,v=v||(S.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=h,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(g);const _=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Sm.copyFrom(n.projection.transform).invert(),_),m?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=s.sourceFrame.width,b.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,bs.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let g=0;for(g=0;g<n.length-1;++g){g===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[g].apply(this,h,f,bs.CLEAR,r);const m=h;h=f,f=m}n[g].apply(this,h,c.renderTexture,bs.BLEND,r),g>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=bs.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===bs.CLEAR||r===bs.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(hn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(hn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(it.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=yt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||yt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Fc[0],i=Fc[1],s=Fc[2],o=Fc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=c,r.width=h-u,r.height=f-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c,d:h}=s;if((Math.abs(u)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Sm.copyFrom(s):Sm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}cT.extension={type:ue.RendererSystem,name:"filter"};ge.add(cT);class RM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const IM=new De;class hT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new s0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new De,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;pe.PREFER_ENV===Ks.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const u=e.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,u=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,u)}else{const o=e.width>>n,u=e.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Og.COLOR|Og.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new RM(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+c))}if(u.length>1&&n.drawBuffers(u),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,h;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,h=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,h=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,h,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=yt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=yt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[u];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new s0(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=IM,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let u,c;this.renderer.context.webGLVersion===1?(u=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(u=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(u=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,u,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new De}destroy(){this.renderer=null}}hT.extension={type:ue.RendererSystem,name:"framebuffer"};ge.add(hT);const Em={5126:4,5123:2,5121:1};class dT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;pe.PREFER_ENV===Ks.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,u,c)=>n.drawElementsInstancedANGLE(i,s,o,u,c),e.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,u);const c=this.getSignature(e,u),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[u.id]=f,f;const g=e.buffers,m=e.attributes,v={},_={};for(const b in g)v[b]=0,_[b]=0;for(const b in m)!m[b].size&&u.attributeData[b]?m[b].size=u.attributeData[b].size:m[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[b].buffer]+=m[b].size*Em[m[b].type];for(const b in m){const T=m[b],S=T.size;T.stride===void 0&&(v[T.buffer]===S*Em[T.type]?T.stride=0:T.stride=v[T.buffer]),T.start===void 0&&(T.start=_[T.buffer],_[T.buffer]+=S*Em[T.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let b=0;b<g.length;b++){const T=g[b];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,u),h[u.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(jn.ARRAY_BUFFER),f}disposeGeometry(e,r){var u;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,u=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in u){const f=u[h],g=o[f.buffer],m=g._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(g),c=m);const v=r.attributeData[h].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,c=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*u,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}dT.extension={type:ue.RendererSystem,name:"geometry"};ge.add(dT);const sw=new it;class Ny{constructor(e,r){this._texture=e,this.mapCoord=new it,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(sw.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(sw));const o=r.baseTexture,u=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return u[0]=(r._frame.x+c+h)/o.width,u[1]=(r._frame.y+c+h)/o.height,u[2]=(r._frame.x+r._frame.width-c+h)/o.width,u[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var PM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,NM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class kM extends Wo{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||NM,r||PM,n),this.maskSprite=i,this.maskMatrix=new it}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ny(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class OM{constructor(e=null){this.type=wt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Wo.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=wt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class fT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new OM;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==wt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case wt.SCISSOR:this.renderer.scissor.push(n);break;case wt.STENCIL:this.renderer.stencil.push(n);break;case wt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case wt.COLOR:this.pushColorMask(n);break}n.type===wt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case wt.SCISSOR:this.renderer.scissor.pop(r);break;case wt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case wt.SPRITE:this.popSpriteMask(r);break;case wt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===wt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=wt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=wt.SCISSOR:e.type=wt.STENCIL:e.type=wt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new kM])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}fT.extension={type:ue.RendererSystem,name:"mask"};ge.add(fT);class pT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const ow=new it,aw=[],mT=class hh extends pT{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,aw.pop()??new De);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||hh.isMatrixRotated(r.worldTransform)||hh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){hh.isMatrixRotated(s)||(s=s?ow.copyFrom(s):ow.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&aw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};mT.extension={type:ue.RendererSystem,name:"scissor"};let MM=mT;ge.add(MM);class gT extends pT{constructor(e){super(e),this.glConst=pe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}gT.extension={type:ue.RendererSystem,name:"stencil"};ge.add(gT);class yT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}yT.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_plugin"};ge.add(yT);class vT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new it,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}vT.extension={type:ue.RendererSystem,name:"projection"};ge.add(vT);const FM=new jd,lw=new De;class _T{constructor(e){this.renderer=e,this._tempMatrix=new it}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(lw))||e.getLocalBounds(lw,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const u=Wd.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=FM,this.renderer.render(e,{renderTexture:u,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,u}destroy(){}}_T.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"textureGenerator"};ge.add(_T);const vs=new De,tl=new De;class xT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new De,this.destinationFrame=new De,this.viewportFrame=new De}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,u;e?(s=e.baseTexture,u=s.resolution,r||(vs.width=e.frame.width,vs.height=e.frame.height,r=vs),n||(tl.x=e.frame.x,tl.y=e.frame.y,tl.width=r.width,tl.height=r.height,n=tl),o=s.framebuffer):(u=i.resolution,r||(vs.width=i._view.screen.width,vs.height=i._view.screen.height,r=vs),n||(n=vs,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*u,c.y=n.y*u,c.width=n.width*u,c.height=n.height*u,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,u,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=ct.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:c,y:h,width:f,height:g}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,g)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}xT.extension={type:ue.RendererSystem,name:"renderTexture"};ge.add(xT);class LM{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function DM(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=iT(e,s.type),u={type:o,name:s.name,size:nT(o),location:e.getAttribLocation(t,s.name)};r[s.name]=u}return r}function BM(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=iT(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:u,value:tT(c,s.size)}}return r}function UM(t,e){var u;const r=Jx(t,t.VERTEX_SHADER,e.vertexSrc),n=Jx(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||pM(t,i,r,n),e.attributeData=DM(i,t),e.uniformData=BM(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:tT(h.type,h.size)}}return new LM(i,o)}function zM(t,e,r,n,i){r.buffer.update(i)}const GM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},wT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function $M(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=wT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function jM(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function HM(t,e){if(!t.autoManage)return{size:0,syncFunc:zM};const r=jM(t.uniforms,e),{uboElements:n,size:i}=$M(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],c=t.uniforms[u.data.name],h=u.data.name;let f=!1;for(let g=0;g<na.length;g++){const m=na[g];if(m.codeUbo&&m.test(u.data,c)){s.push(`offset = ${u.offset/4};`,na[g].codeUbo(u.data.name,c)),f=!0;break}}if(!f)if(u.data.size>1){const g=nT(u.data.type),m=Math.max(wT[u.data.type]/16,1),v=g/m,_=(4-v%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const g=GM[u.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};
                ${g};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let WM=0;const Lc={textureCount:0,uboCount:0};class ST{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=WM++}systemCheck(){if(!gM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Lc.textureCount=0,Lc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Lc)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=hM(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Lc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=HM(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(u.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=u.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=UM(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ST.extension={type:ue.RendererSystem,name:"shader"};ge.add(ST);class rd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.3 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}rd.defaultOptions={hello:!1},rd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"startup"};ge.add(rd);function VM(t,e=[]){return e[ye.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.ADD]=[t.ONE,t.ONE],e[ye.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.NONE]=[0,0],e[ye.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ye.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ye.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ye.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ye.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ye.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ye.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ye.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ye.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ye.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const XM=0,YM=1,QM=2,qM=3,KM=4,ZM=5,ET=class o0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ye.NONE,this._blendEq=!1,this.map=[],this.map[XM]=this.setBlend,this.map[YM]=this.setOffset,this.map[QM]=this.setCullFace,this.map[qM]=this.setDepthTest,this.map[KM]=this.setFrontFace,this.map[ZM]=this.setDepthMask,this.checks=[],this.defaultState=new Xn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=VM(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(o0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(o0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};ET.extension={type:ue.RendererSystem,name:"state"};let JM=ET;ge.add(JM);class eF extends Od{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new mn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hl=class dh{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=dh.defaultMaxIdle,this.checkCountMax=dh.defaultCheckCountMax,this.mode=dh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Sy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};hl.defaultMode=Sy.AUTO,hl.defaultMaxIdle=60*60,hl.defaultCheckCountMax=60*10,hl.extension={type:ue.RendererSystem,name:"textureGC"};let Ps=hl;ge.add(Ps);class bm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=ie.RGBA,this.samplerType=0}}function tF(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.R8]:se.FLOAT,[t.R8_SNORM]:se.FLOAT,[t.RG8]:se.FLOAT,[t.RG8_SNORM]:se.FLOAT,[t.RGB8]:se.FLOAT,[t.RGB8_SNORM]:se.FLOAT,[t.RGB565]:se.FLOAT,[t.RGBA4]:se.FLOAT,[t.RGB5_A1]:se.FLOAT,[t.RGBA8]:se.FLOAT,[t.RGBA8_SNORM]:se.FLOAT,[t.RGB10_A2]:se.FLOAT,[t.RGB10_A2UI]:se.FLOAT,[t.SRGB8]:se.FLOAT,[t.SRGB8_ALPHA8]:se.FLOAT,[t.R16F]:se.FLOAT,[t.RG16F]:se.FLOAT,[t.RGB16F]:se.FLOAT,[t.RGBA16F]:se.FLOAT,[t.R32F]:se.FLOAT,[t.RG32F]:se.FLOAT,[t.RGB32F]:se.FLOAT,[t.RGBA32F]:se.FLOAT,[t.R11F_G11F_B10F]:se.FLOAT,[t.RGB9_E5]:se.FLOAT,[t.R8I]:se.INT,[t.R8UI]:se.UINT,[t.R16I]:se.INT,[t.R16UI]:se.UINT,[t.R32I]:se.INT,[t.R32UI]:se.UINT,[t.RG8I]:se.INT,[t.RG8UI]:se.UINT,[t.RG16I]:se.INT,[t.RG16UI]:se.UINT,[t.RG32I]:se.INT,[t.RG32UI]:se.UINT,[t.RGB8I]:se.INT,[t.RGB8UI]:se.UINT,[t.RGB16I]:se.INT,[t.RGB16UI]:se.UINT,[t.RGB32I]:se.INT,[t.RGB32UI]:se.UINT,[t.RGBA8I]:se.INT,[t.RGBA8UI]:se.UINT,[t.RGBA16I]:se.INT,[t.RGBA16UI]:se.UINT,[t.RGBA32I]:se.INT,[t.RGBA32UI]:se.UINT,[t.DEPTH_COMPONENT16]:se.FLOAT,[t.DEPTH_COMPONENT24]:se.FLOAT,[t.DEPTH_COMPONENT32F]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT,[t.DEPTH24_STENCIL8]:se.FLOAT,[t.DEPTH32F_STENCIL8]:se.FLOAT}:e={[t.RGB]:se.FLOAT,[t.RGBA]:se.FLOAT,[t.ALPHA]:se.FLOAT,[t.LUMINANCE]:se.FLOAT,[t.LUMINANCE_ALPHA]:se.FLOAT,[t.DEPTH_STENCIL]:se.FLOAT},e}function rF(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:t.RGBA8,[ie.RGB]:t.RGB8,[ie.RG]:t.RG8,[ie.RED]:t.R8,[ie.RGBA_INTEGER]:t.RGBA8UI,[ie.RGB_INTEGER]:t.RGB8UI,[ie.RG_INTEGER]:t.RG8UI,[ie.RED_INTEGER]:t.R8UI,[ie.ALPHA]:t.ALPHA,[ie.LUMINANCE]:t.LUMINANCE,[ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.BYTE]:{[ie.RGBA]:t.RGBA8_SNORM,[ie.RGB]:t.RGB8_SNORM,[ie.RG]:t.RG8_SNORM,[ie.RED]:t.R8_SNORM,[ie.RGBA_INTEGER]:t.RGBA8I,[ie.RGB_INTEGER]:t.RGB8I,[ie.RG_INTEGER]:t.RG8I,[ie.RED_INTEGER]:t.R8I},[we.UNSIGNED_SHORT]:{[ie.RGBA_INTEGER]:t.RGBA16UI,[ie.RGB_INTEGER]:t.RGB16UI,[ie.RG_INTEGER]:t.RG16UI,[ie.RED_INTEGER]:t.R16UI,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[we.SHORT]:{[ie.RGBA_INTEGER]:t.RGBA16I,[ie.RGB_INTEGER]:t.RGB16I,[ie.RG_INTEGER]:t.RG16I,[ie.RED_INTEGER]:t.R16I},[we.UNSIGNED_INT]:{[ie.RGBA_INTEGER]:t.RGBA32UI,[ie.RGB_INTEGER]:t.RGB32UI,[ie.RG_INTEGER]:t.RG32UI,[ie.RED_INTEGER]:t.R32UI,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[we.INT]:{[ie.RGBA_INTEGER]:t.RGBA32I,[ie.RGB_INTEGER]:t.RGB32I,[ie.RG_INTEGER]:t.RG32I,[ie.RED_INTEGER]:t.R32I},[we.FLOAT]:{[ie.RGBA]:t.RGBA32F,[ie.RGB]:t.RGB32F,[ie.RG]:t.RG32F,[ie.RED]:t.R32F,[ie.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[we.HALF_FLOAT]:{[ie.RGBA]:t.RGBA16F,[ie.RGB]:t.RGB16F,[ie.RG]:t.RG16F,[ie.RED]:t.R16F},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:t.RGB565},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:t.RGBA4},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:t.RGB5_A1},[we.UNSIGNED_INT_2_10_10_10_REV]:{[ie.RGBA]:t.RGB10_A2,[ie.RGBA_INTEGER]:t.RGB10_A2UI},[we.UNSIGNED_INT_10F_11F_11F_REV]:{[ie.RGB]:t.R11F_G11F_B10F},[we.UNSIGNED_INT_5_9_9_9_REV]:{[ie.RGB]:t.RGB9_E5},[we.UNSIGNED_INT_24_8]:{[ie.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[we.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ie.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:t.RGBA,[ie.RGB]:t.RGB,[ie.ALPHA]:t.ALPHA,[ie.LUMINANCE]:t.LUMINANCE,[ie.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:t.RGB},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:t.RGBA},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:t.RGBA}},e}class bT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Pe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=rF(e),this.samplerTypes=tF(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new bm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new bm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==se.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new bm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??se.FLOAT,this.webGLVersion===2&&e.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==se.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Pl(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===es.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ci.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==es.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ai.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ai.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ai.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ai.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}bT.extension={type:ue.RendererSystem,name:"texture"};ge.add(bT);class TT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];u&&(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const u=e.buffers[o];if(!u)continue;const c=u._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(u,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TT.extension={type:ue.RendererSystem,name:"transformFeedback"};ge.add(TT);class nd{constructor(e){this.renderer=e}init(e){this.screen=new De(0,0,e.width,e.height),this.element=e.view||pe.ADAPTER.createCanvas(),this.resolution=e.resolution||pe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}nd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},nd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_view"};ge.add(nd);pe.PREFER_ENV=Ks.WEBGL2;pe.STRICT_TEXTURE_CACHE=!1;pe.RENDER_OPTIONS={...td.defaultOptions,...ed.defaultOptions,...nd.defaultOptions,...rd.defaultOptions};Object.defineProperties(pe,{WRAP_MODE:{get(){return Pe.defaultOptions.wrapMode},set(t){Fe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Pe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Pe.defaultOptions.scaleMode},set(t){Fe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Pe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Pe.defaultOptions.mipmap},set(t){Fe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Pe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Pe.defaultOptions.anisotropicLevel},set(t){Fe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Pe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Fe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Wo.defaultResolution},set(t){Wo.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Fe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Wo.defaultMultisample},set(t){Wo.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Is.defaultMaxTextures},set(t){Fe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Is.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Is.defaultBatchSize},set(t){Fe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Is.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Is.canUploadSameBuffer},set(t){Fe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Is.canUploadSameBuffer=t}},GC_MODE:{get(){return Ps.defaultMode},set(t){Fe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ps.defaultMode=t}},GC_MAX_IDLE:{get(){return Ps.defaultMaxIdle},set(t){Fe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ps.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Ps.defaultCheckCountMax},set(t){Fe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ps.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return li.defaultVertexPrecision},set(t){Fe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),li.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return li.defaultFragmentPrecision},set(t){Fe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),li.defaultFragmentPrecision=t}}});var tu=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(tu||{});class Tm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const AT=class vr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Tm(null,null,1/0),this.deltaMS=1/vr.targetFPMS,this.elapsedMS=1/vr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=tu.NORMAL){return this._addListener(new Tm(e,r,n))}addOnce(e,r,n=tu.NORMAL){return this._addListener(new Tm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*vr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,vr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!vr._shared){const e=vr._shared=new vr;e.autoStart=!0,e._protected=!0}return vr._shared}static get system(){if(!vr._system){const e=vr._system=new vr;e.autoStart=!0,e._protected=!0}return vr._system}};AT.targetFPMS=.06;let wr=AT;Object.defineProperties(pe,{TARGET_FPMS:{get(){return wr.targetFPMS},set(t){Fe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),wr.targetFPMS=t}}});class CT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,tu.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?wr.shared:new wr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}CT.extension=ue.Application;ge.add(CT);const RT=[];ge.handleByList(ue.Renderer,RT);function nF(t){for(const e of RT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class IT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=yt.HIGH?this.multisample=yt.HIGH:r>=yt.MEDIUM?this.multisample=yt.MEDIUM:r>=yt.LOW?this.multisample=yt.LOW:this.multisample=yt.NONE}destroy(){}}IT.extension={type:ue.RendererSystem,name:"_multisample"};ge.add(IT);class iF{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class PT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new iF(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}PT.extension={type:ue.RendererSystem,name:"buffer"};ge.add(PT);class NT{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!u){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}NT.extension={type:ue.RendererSystem,name:"objectRenderer"};ge.add(NT);const fh=class a0 extends eF{constructor(e){super(),this.type=mb.WEBGL,e=Object.assign({},pe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new gn({projectionMatrix:new it},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:a0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Fe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=a0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:kO()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Fe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Fe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Fe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Fe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};fh.extension={type:ue.Renderer,priority:1},fh.__plugins={},fh.__systems={};let ky=fh;ge.handleByMap(ue.RendererPlugin,ky.__plugins);ge.handleByMap(ue.RendererSystem,ky.__systems);ge.add(ky);class kT extends eu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Pe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof eu?this.addResourceAt(e[n],n):this.addResourceAt(Kb(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class sF extends kT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ea.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=e;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class oF extends gi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const OT=class dl extends kT{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==dl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let u=0;u<dl.SIDES;u++)this.items[u].target=ea.TEXTURE_CUBE_MAP_POSITIVE_X+u;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ea.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ea.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<dl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===dl.SIDES}};OT.SIDES=6;let aF=OT;class Vo extends gi{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Vo.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await pe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===jr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Vo._EMPTY=Vo._EMPTY??pe.ADAPTER.createCanvas(0,0),Vo._EMPTY}}const l0=class ph extends gi{constructor(e,r){r=r||{},super(pe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},ph.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;gi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Jl()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=ph.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&ph.SVG_XML.test(e)}};l0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,l0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let u0=l0;class lF extends gi{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const c0=class h0 extends gi{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];gi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:u,mime:c}=e[s];if(u=u||e[s],u.startsWith("data:"))c=u.slice(5,u.indexOf(";"));else if(!u.startsWith("blob:")){const h=u.split("?").shift().toLowerCase(),f=h.slice(h.lastIndexOf(".")+1);c=c||h0.MIME_TYPES[f]||`video/${f}`}o.src=u,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=wr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(wr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(wr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(wr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||h0.TYPES.includes(r)}};c0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],c0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let MT=c0;qg.push(Vo,aT,oF,MT,lF,u0,Zb,aF,sF);class id{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?De.EMPTY:(e=e||new De(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:u,ty:c}=e,h=n*r.x+s*r.y+u,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],u=e[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[2],u=e[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[4],u=e[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=e[6],u=e[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,u=e.b,c=e.c,h=e.d,f=e.tx,g=e.ty;let m=this.minX,v=this.minY,_=this.maxX,b=this.maxY,T=o*r+c*n+f,S=u*r+h*n+g;m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*i+c*n+f,S=u*i+h*n+g,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*r+c*s+f,S=u*r+h*s+g,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,T=o*i+c*s+f,S=u*i+h*s+g,m=T<m?T:m,v=S<v?S:v,_=T>_?T:_,b=S>b?S:b,this.minX=m,this.minY=v,this.maxX=_,this.maxY=b}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],f=e[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const u=e.a,c=e.b,h=e.c,f=e.d,g=e.tx,m=e.ty;let v=this.minX,_=this.minY,b=this.maxX,T=this.maxY;for(let S=n;S<i;S+=2){const E=r[S],w=r[S+1],A=u*E+h*w+g,k=f*w+c*E+m;v=Math.min(v,A-s),b=Math.max(b,A+s),_=Math.min(_,k-o),T=Math.max(T,k+o)}this.minX=v,this.minY=_,this.maxX=b,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Ys extends Od{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new jd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new id,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Ys.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new De),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._localBounds||(this._localBounds=new id);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,u=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new uF),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*iM}set angle(e){this.transform.rotation=e*sM}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class uF extends Ys{constructor(){super(...arguments),this.sortDirty=null}}Ys.prototype.displayObjectUpdateTransform=Ys.prototype.updateTransform;const cF=new it;function hF(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const FT=class d0 extends Ys{constructor(){super(),this.children=[],this.sortableChildren=d0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Pl(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Pl(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Pl(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(hF),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==d0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=cF.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,u=this.children.length;o<u;++o){const c=this.children[o],h=c.cullable;c.cullable=h||!this.cullArea,c.render(e),c.cullable=h}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,u;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==wt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,h=this.children.length;c<h;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((u=this._enabledFilters)!=null&&u.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};FT.defaultSortableChildren=!1;let Tr=FT;Tr.prototype.containerUpdateTransform=Tr.prototype.updateTransform;Object.defineProperties(pe,{SORTABLE_CHILDREN:{get(){return Tr.defaultSortableChildren},set(t){Fe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Tr.defaultSortableChildren=t}}});var Vd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Vd||{});const rl=new Ye,dF=new Uint16Array([0,1,2,0,2,3]);class Js extends Tr{constructor(e){super(),this._anchor=new zn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ct(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ye.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||le.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=dF,this.pluginName="batch",this.isSprite=!0,this._roundPixels=pe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ho(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ho(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,c=r.ty,h=this.vertexData,f=e.trim,g=e.orig,m=this._anchor;let v=0,_=0,b=0,T=0;if(f?(_=f.x-m._x*g.width,v=_+f.width,T=f.y-m._y*g.height,b=T+f.height):(_=-m._x*g.width,v=_+g.width,T=-m._y*g.height,b=T+g.height),h[0]=n*_+s*T+u,h[1]=o*T+i*_+c,h[2]=n*v+s*T+u,h[3]=o*T+i*v+c,h[4]=n*v+s*b+u,h[5]=o*b+i*v+c,h[6]=n*_+s*b+u,h[7]=o*b+i*_+c,this._roundPixels){const S=pe.RESOLUTION;for(let E=0;E<h.length;++E)h[E]=Math.round(h[E]*S)/S}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,c=s.c,h=s.d,f=s.tx,g=s.ty,m=-i._x*n.width,v=m+n.width,_=-i._y*n.height,b=_+n.height;if(r[0]=o*m+c*_+f,r[1]=h*_+u*m+g,r[2]=o*v+c*_+f,r[3]=h*_+u*v+g,r[4]=o*v+c*b+f,r[5]=h*b+u*v+g,r[6]=o*m+c*b+f,r[7]=h*b+u*m+g,this._roundPixels){const T=pe.RESOLUTION;for(let S=0;S<r.length;++S)r[S]=Math.round(r[S]*T)/T}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new id),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,rl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return rl.x>=i&&rl.x<i+r&&(s=-n*this.anchor.y,rl.y>=s&&rl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof le?e:le.from(e,r);return new Js(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ho(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ho(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||le.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Dc={willReadFrequently:!0},Mn=class fe{static get experimentalLetterSpacingSupported(){let e=fe._experimentalLetterSpacingSupported;if(e!==void 0){const r=pe.ADAPTER.getCanvasRenderingContext2D().prototype;e=fe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,u,c,h){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=c,this.fontProperties=h}static measureText(e,r,n,i=fe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=fe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const u=i.getContext("2d",Dc);u.font=s;const c=(n?fe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const b=fe._measureText(c[_],r.letterSpacing,u);h[_]=b,f=Math.max(f,b)}let g=f+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let v=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new fe(e,r,g,v,c,h,m+r.leading,f,o)}static _measureText(e,r,n){let i=!1;fe.experimentalLetterSpacingSupported&&(fe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(fe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=fe._canvas){const i=n.getContext("2d",Dc);let s=0,o="",u="";const c=Object.create(null),{letterSpacing:h,whiteSpace:f}=r,g=fe.collapseSpaces(f),m=fe.collapseNewlines(f);let v=!g;const _=r.wordWrapWidth+h,b=fe.tokenize(e);for(let T=0;T<b.length;T++){let S=b[T];if(fe.isNewline(S)){if(!m){u+=fe.addLine(o),v=!g,o="",s=0;continue}S=" "}if(g){const w=fe.isBreakingSpace(S),A=fe.isBreakingSpace(o[o.length-1]);if(w&&A)continue}const E=fe.getFromCache(S,h,c,i);if(E>_)if(o!==""&&(u+=fe.addLine(o),o="",s=0),fe.canBreakWords(S,r.breakWords)){const w=fe.wordWrapSplit(S);for(let A=0;A<w.length;A++){let k=w[A],D=k,R=1;for(;w[A+R];){const U=w[A+R];if(!fe.canBreakChars(D,U,S,A,r.breakWords))k+=U;else break;D=U,R++}A+=R-1;const P=fe.getFromCache(k,h,c,i);P+s>_&&(u+=fe.addLine(o),v=!1,o="",s=0),o+=k,s+=P}}else{o.length>0&&(u+=fe.addLine(o),o="",s=0);const w=T===b.length-1;u+=fe.addLine(S,!w),v=!1,o="",s=0}else E+s>_&&(v=!1,u+=fe.addLine(o),o="",s=0),(o.length>0||!fe.isBreakingSpace(S)||v)&&(o+=S,s+=E)}return u+=fe.addLine(o,!1),u}static addLine(e,r=!0){return e=fe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=fe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!fe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:fe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:fe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(fe.isBreakingSpace(s,o)||fe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return fe.graphemeSegmenter(e)}static measureFont(e){if(fe._fonts[e])return fe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=fe._canvas,i=fe._context;i.font=e;const s=fe.METRICS_STRING+fe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let u=Math.ceil(i.measureText(fe.BASELINE_SYMBOL).width);const c=Math.ceil(fe.HEIGHT_MULTIPLIER*u);if(u=u*fe.BASELINE_MULTIPLIER|0,o===0||c===0)return fe._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,u);const h=i.getImageData(0,0,o,c).data,f=h.length,g=o*4;let m=0,v=0,_=!1;for(m=0;m<u;++m){for(let b=0;b<g;b+=4)if(h[v+b]!==255){_=!0;break}if(!_)v+=g;else break}for(r.ascent=u-m,v=f-g,_=!1,m=c;m>u;--m){for(let b=0;b<g;b+=4)if(h[v+b]!==255){_=!0;break}if(!_)v-=g;else break}return r.descent=m-u,r.fontSize=r.ascent+r.descent,fe._fonts[e]=r,r}static clearMetrics(e=""){e?delete fe._fonts[e]:fe._fonts={}}static get _canvas(){var e;if(!fe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Dc))!=null&&e.measureText)return fe.__canvas=n,n;r=pe.ADAPTER.createCanvas()}catch{r=pe.ADAPTER.createCanvas()}r.width=r.height=10,fe.__canvas=r}return fe.__canvas}static get _context(){return fe.__context||(fe.__context=fe._canvas.getContext("2d",Dc)),fe.__context}};Mn.METRICS_STRING="|q",Mn.BASELINE_SYMBOL="M",Mn.BASELINE_MULTIPLIER=1.4,Mn.HEIGHT_MULTIPLIER=2,Mn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Mn.experimentalLetterSpacing=!1,Mn._fonts={},Mn._newlines=[10,13],Mn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ns=Mn;const fF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],LT=class fl{constructor(e){this.styleID=0,this.reset(),Cm(this,e,e)}clone(){const e={};return Cm(e,this,fl.defaultStyle),new fl(e)}reset(){Cm(this,fl.defaultStyle,fl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Am(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Am(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){pF(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Am(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!fF.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};LT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Vd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let sd=LT;function Am(t){const e=ct.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function pF(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Cm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const mF={texture:!0,children:!1,baseTexture:!0},DT=class f0 extends Js{constructor(e,r,n){let i=!1;n||(n=pe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=le.from(n);s.orig=new De,s.trim=new De,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=f0.defaultResolution??pe.RESOLUTION,this._autoResolution=f0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Ns.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Fe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Ns.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Ns.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,u=i.lines,c=i.lineHeight,h=i.lineWidths,f=i.maxLineWidth,g=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,v;const _=r.dropShadow?2:1;for(let b=0;b<_;++b){const T=r.dropShadow&&b===0,S=T?Math.ceil(Math.max(1,o)+r.padding*2):0,E=S*this._resolution;if(T){n.fillStyle="black",n.strokeStyle="black";const A=r.dropShadowColor,k=r.dropShadowBlur*this._resolution,D=r.dropShadowDistance*this._resolution;n.shadowColor=ct.shared.setValue(A).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=k,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*D,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*D+E}else n.fillStyle=this._generateFillStyle(r,u,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let w=(c-g.fontSize)/2;c-g.fontSize<0&&(w=0);for(let A=0;A<u.length;A++)m=r.strokeThickness/2,v=r.strokeThickness/2+A*c+g.ascent+w,r.align==="right"?m+=f-h[A]:r.align==="center"&&(m+=(f-h[A])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(u[A],m+r.padding,v+r.padding-S,!0),r.fill&&this.drawLetterSpacing(u[A],m+r.padding,v+r.padding-S)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Ns.experimentalLetterSpacingSupported&&(Ns.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let u=r;const c=Ns.graphemeSegmenter(e);let h=this.context.measureText(e).width,f=0;for(let g=0;g<c.length;++g){const m=c[g];i?this.context.strokeText(m,u,n):this.context.fillText(m,u,n);let v="";for(let _=g+1;_<c.length;++_)v+=c[_];f=this.context.measureText(v).width,u+=h-f+s,h=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=VO(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,c=this.canvas.width/this._resolution-o-u*2,h=this.canvas.height/this._resolution-o-u*2,f=i.slice(),g=e.fillGradientStops.slice();if(!g.length){const m=f.length+1;for(let v=1;v<m;++v)g.push(v/m)}if(f.unshift(i[0]),g.unshift(0),f.push(i[i.length-1]),g.push(1),e.fillGradientType===Vd.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,u,c/2,h+u);const m=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const _=n.lineHeight*(v-1)+m,b=n.lineHeight*v;let T=b;v>0&&_>b&&(T=(b+_)/2);const S=b+m,E=n.lineHeight*(v+1);let w=S;v+1<r.length&&E<S&&(w=(S+E)/2);const A=(w-T)/h;for(let k=0;k<f.length;k++){let D=0;typeof g[k]=="number"?D=g[k]:D=k/f.length;let R=Math.min(1,Math.max(0,T/h+D*A));R=Number(R.toFixed(5)),s.addColorStop(R,f[k])}}}else{s=this.context.createLinearGradient(u,h/2,c+u,h/2);const m=f.length+1;let v=1;for(let _=0;_<f.length;_++){let b;typeof g[_]=="number"?b=g[_]:b=v/m,s.addColorStop(b,f[_]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},mF,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Ho(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Ho(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof sd?this._style=e:this._style=new sd(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};DT.defaultAutoResolution=!0;let gF=DT;class od{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class mh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in u){const f=u[h].split("="),g=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),_=isNaN(v)?m:v;c[g]=_}n[o].push(c)}const i=new od;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class p0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new od,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),u=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<u.length;h++)r.kerning.push({first:parseInt(u[h].getAttribute("first"),10),second:parseInt(u[h].getAttribute("second"),10),amount:parseInt(u[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class m0{static test(e){return typeof e=="string"&&e.includes("<font>")?p0.test(pe.ADAPTER.parseXML(e)):!1}static parse(e){return p0.parse(pe.ADAPTER.parseXML(e))}}const Rm=[mh,p0,m0];function yF(t){for(let e=0;e<Rm.length;e++)if(Rm[e].test(t))return Rm[e];return null}function vF(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-c-h*2,g=t.height/n-c-h*2,m=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const _=m.length+1;for(let b=1;b<_;++b)v.push(b/_)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),r.fillGradientType===Vd.LINEAR_VERTICAL){u=e.createLinearGradient(f/2,h,f/2,g+h);let _=0;const b=(s.fontProperties.fontSize+r.strokeThickness)/g;for(let T=0;T<i.length;T++){const S=s.lineHeight*T;for(let E=0;E<m.length;E++){let w=0;typeof v[E]=="number"?w=v[E]:w=E/m.length;const A=S/g+w*b;let k=Math.max(_,A);k=Math.min(k,1),u.addColorStop(k,m[E]),_=k}}}else{u=e.createLinearGradient(h,g/2,f+h,g/2);const _=m.length+1;let b=1;for(let T=0;T<m.length;T++){let S;typeof v[T]=="number"?S=v[T]:S=b/_,u.addColorStop(S,m[T]),b++}}return u}function _F(t,e,r,n,i,s,o){const u=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=vF(t,e,o,s,[u],r),e.strokeStyle=o.stroke,o.dropShadow){const g=o.dropShadowColor,m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=ct.shared.setValue(g).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(u,h,f+r.lineHeight-c.descent),o.fill&&e.fillText(u,h,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function gh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function BT(t){return Array.from?Array.from(t):t.split("")}function xF(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=o;u<=c;u++)e.push(String.fromCharCode(u))}else e.push(...BT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ki=class Fn{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[u]=e.distanceField,c=ma(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=h;for(let g=0;g<e.page.length;g++){const{id:m,file:v}=e.page[g];h[m]=r instanceof Array?r[g]:r[v],u!=null&&u.fieldType&&u.fieldType!=="none"&&(h[m].baseTexture.alphaMode=jr.NO_PREMULTIPLIED_ALPHA,h[m].baseTexture.mipmap=es.OFF)}for(let g=0;g<e.char.length;g++){const{id:m,page:v}=e.char[g];let{x:_,y:b,width:T,height:S,xoffset:E,yoffset:w,xadvance:A}=e.char[g];_/=c,b/=c,T/=c,S/=c,E/=c,w/=c,A/=c;const k=new De(_+h[v].frame.x/c,b+h[v].frame.y/c,T,S);this.chars[m]={xOffset:E,yOffset:w,xAdvance:A,kerning:{},texture:new le(h[v].baseTexture,k),page:v}}for(let g=0;g<e.kerning.length;g++){let{first:m,second:v,amount:_}=e.kerning[g];m/=c,v/=c,_/=c,this.chars[v]&&(this.chars[v].kerning[m]=_)}this.distanceFieldRange=u==null?void 0:u.distanceRange,this.distanceFieldType=((f=u==null?void 0:u.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof od)i=e;else{const o=yF(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof le&&(r=[r]);const s=new Fn(i,r,n);return Fn.available[s.font]=s,s}static uninstall(e){const r=Fn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Fn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:u,textureHeight:c,...h}=Object.assign({},Fn.defaultOptions,n),f=xF(i),g=r instanceof sd?r:new sd(r),m=u,v=new od;v.info[0]={face:g.fontFamily,size:g.fontSize},v.common[0]={lineHeight:g.fontSize};let _=0,b=0,T,S,E,w=0;const A=[];for(let D=0;D<f.length;D++){T||(T=pe.ADAPTER.createCanvas(),T.width=u,T.height=c,S=T.getContext("2d"),E=new Pe(T,{resolution:o,...h}),A.push(new le(E)),v.page.push({id:A.length-1,file:""}));const R=f[D],P=Ns.measureText(R,g,!1,T),U=P.width,B=Math.ceil(P.height),Q=Math.ceil((g.fontStyle==="italic"?2:1)*U);if(b>=c-B*o){if(b===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${R}')`);--D,T=null,S=null,E=null,b=0,_=0,w=0;continue}if(w=Math.max(B+P.fontProperties.descent,w),Q*o+_>=m){if(_===0)throw new Error(`[BitmapFont] textureWidth ${u}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${R}')`);--D,b+=w*o,b=Math.ceil(b),_=0,w=0;continue}_F(T,S,P,_,b,o,g);const j=gh(P.text);v.char.push({id:j,page:A.length-1,x:_/o,y:b/o,width:Q,height:B,xoffset:0,yoffset:0,xadvance:U-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),_+=(Q+2*s)*o,_=Math.ceil(_)}if(!(n!=null&&n.skipKerning))for(let D=0,R=f.length;D<R;D++){const P=f[D];for(let U=0;U<R;U++){const B=f[U],Q=S.measureText(P).width,j=S.measureText(B).width,M=S.measureText(P+B).width-(Q+j);M&&v.kerning.push({first:gh(P),second:gh(B),amount:M})}}const k=new Fn(v,A,!0);return Fn.available[e]!==void 0&&Fn.uninstall(e),Fn.available[e]=k,k}};ki.ALPHA=[["a","z"],["A","Z"]," "],ki.NUMERIC=[["0","9"]],ki.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ki.ASCII=[[" ","~"]],ki.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ki.ALPHANUMERIC},ki.available={};let Oi=ki;class wF{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Im=new Ye,uw=new zs,UT=class zT extends Tr{constructor(e,r,n,i=hn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Xn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=pe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===hn.TRIANGLES&&r.length<zT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,c=i.d,h=i.tx,f=i.ty,g=this.vertexData;for(let m=0;m<g.length/2;m++){const v=r[m*2],_=r[m*2+1];g[m*2]=s*v+u*_+h,g[m*2+1]=o*v+c*_+f}if(this._roundPixels){const m=pe.RESOLUTION;for(let v=0;v<g.length;++v)g[v]=Math.round(g[v]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new wF(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Im);const r=this.geometry.getBuffer("aVertexPosition").data,n=uw.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let u=0;u+2<s;u+=o){const c=i[u]*2,h=i[u+1]*2,f=i[u+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[f],n[5]=r[f+1],uw.contains(Im.x,Im.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};UT.BATCHABLE_SIZE=100;let ru=UT;class Xd extends ts{constructor(e,r,n){super();const i=new pt(e),s=new pt(r,!0),o=new pt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,we.FLOAT).addAttribute("aTextureCoord",s,2,!1,we.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var SF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,EF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class nu extends Hn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:it.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||li.from(EF,SF),n),this._colorDirty=!1,this.uvMatrix=new Ny(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new ct(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;ct.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var bF=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,TF=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const cw=[],hw=[],dw=[],GT=class $T extends Tr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:u,fontSize:c}=Object.assign({},$T.styleDefaults,r);if(!Oi.available[u])throw new Error(`Missing BitmapFont "${u}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new ct(i),this._font=void 0,this._fontName=u,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new zn(()=>{this.dirty=!0},this,0,0),this._roundPixels=pe.ROUND_PIXELS,this.dirty=!0,this._resolution=pe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const e=Oi.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Ye,s=[],o=[],u=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=BT(c),f=this._maxWidth*e.size/r,g=e.distanceFieldType==="none"?cw:hw;let m=null,v=0,_=0,b=0,T=-1,S=0,E=0,w=0,A=0;for(let j=0;j<h.length;j++){const M=h[j],H=gh(M);if(/(?:\s)/.test(M)&&(T=j,S=v,A++),M==="\r"||M===`
`){o.push(v),u.push(-1),_=Math.max(_,v),++b,++E,i.x=0,i.y+=e.lineHeight,m=null,A=0;continue}const J=e.chars[H];if(!J)continue;m&&J.kerning[m]&&(i.x+=J.kerning[m]);const ce=dw.pop()||{texture:le.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ye};ce.texture=J.texture,ce.line=b,ce.charCode=H,ce.position.x=Math.round(i.x+J.xOffset+this._letterSpacing/2),ce.position.y=Math.round(i.y+J.yOffset),ce.prevSpaces=A,s.push(ce),v=ce.position.x+Math.max(J.xAdvance-J.xOffset,J.texture.orig.width),i.x+=J.xAdvance+this._letterSpacing,w=Math.max(w,J.yOffset+J.texture.height),m=H,T!==-1&&f>0&&i.x>f&&(++E,Pl(s,1+T-E,1+j-T),j=T,T=-1,o.push(S),u.push(s.length>0?s[s.length-1].prevSpaces:0),_=Math.max(_,S),b++,i.x=0,i.y+=e.lineHeight,m=null,A=0)}const k=h[h.length-1];k!=="\r"&&k!==`
`&&(/(?:\s)/.test(k)&&(v=S),o.push(v),_=Math.max(_,v),u.push(-1));const D=[];for(let j=0;j<=b;j++){let M=0;this._align==="right"?M=_-o[j]:this._align==="center"?M=(_-o[j])/2:this._align==="justify"&&(M=u[j]<0?0:(_-o[j])/u[j]),D.push(M)}const R=s.length,P={},U=[],B=this._activePagesMeshData;g.push(...B);for(let j=0;j<R;j++){const M=s[j].texture,H=M.baseTexture.uid;if(!P[H]){let J=g.pop();if(!J){const ee=new Xd;let N,W;e.distanceFieldType==="none"?(N=new nu(le.EMPTY),W=ye.NORMAL):(N=new nu(le.EMPTY,{program:li.from(TF,bF),uniforms:{uFWidth:0}}),W=ye.NORMAL_NPM);const F=new ru(ee,N);F.blendMode=W,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;const{_textureCache:ce}=this;ce[H]=ce[H]||new le(M.baseTexture),J.mesh.texture=ce[H],J.mesh.tint=this._tintColor.value,U.push(J),P[H]=J}P[H].total++}for(let j=0;j<B.length;j++)U.includes(B[j])||this.removeChild(B[j].mesh);for(let j=0;j<U.length;j++)U[j].mesh.parent!==this&&this.addChild(U[j].mesh);this._activePagesMeshData=U;for(const j in P){const M=P[j],H=M.total;if(!(((Q=M.indices)==null?void 0:Q.length)>6*H)||M.vertices.length<ru.BATCHABLE_SIZE*2)M.vertices=new Float32Array(4*2*H),M.uvs=new Float32Array(4*2*H),M.indices=new Uint16Array(6*H);else{const J=M.total,ce=M.vertices;for(let ee=J*4*2;ee<ce.length;ee++)ce[ee]=0}M.mesh.size=6*H}for(let j=0;j<R;j++){const M=s[j];let H=M.position.x+D[M.line]*(this._align==="justify"?M.prevSpaces:1);this._roundPixels&&(H=Math.round(H));const J=H*n,ce=M.position.y*n,ee=M.texture,N=P[ee.baseTexture.uid],W=ee.frame,F=ee._uvs,$=N.index++;N.indices[$*6+0]=0+$*4,N.indices[$*6+1]=1+$*4,N.indices[$*6+2]=2+$*4,N.indices[$*6+3]=0+$*4,N.indices[$*6+4]=2+$*4,N.indices[$*6+5]=3+$*4,N.vertices[$*8+0]=J,N.vertices[$*8+1]=ce,N.vertices[$*8+2]=J+W.width*n,N.vertices[$*8+3]=ce,N.vertices[$*8+4]=J+W.width*n,N.vertices[$*8+5]=ce+W.height*n,N.vertices[$*8+6]=J,N.vertices[$*8+7]=ce+W.height*n,N.uvs[$*8+0]=F.x0,N.uvs[$*8+1]=F.y0,N.uvs[$*8+2]=F.x1,N.uvs[$*8+3]=F.y1,N.uvs[$*8+4]=F.x2,N.uvs[$*8+5]=F.y2,N.uvs[$*8+6]=F.x3,N.uvs[$*8+7]=F.y3}this._textWidth=_*n,this._textHeight=(i.y+e.lineHeight)*n;for(const j in P){const M=P[j];if(this.anchor.x!==0||this.anchor.y!==0){let ee=0;const N=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y;for(let F=0;F<M.total;F++)M.vertices[ee++]-=N,M.vertices[ee++]-=W,M.vertices[ee++]-=N,M.vertices[ee++]-=W,M.vertices[ee++]-=N,M.vertices[ee++]-=W,M.vertices[ee++]-=N,M.vertices[ee++]-=W}this._maxLineHeight=w*n;const H=M.mesh.geometry.getBuffer("aVertexPosition"),J=M.mesh.geometry.getBuffer("aTextureCoord"),ce=M.mesh.geometry.getIndex();H.data=M.vertices,J.data=M.uvs,ce.data=M.indices,H.update(),J.update(),ce.update()}for(let j=0;j<s.length;j++)dw.push(s[j]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Oi.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:u,d:c}=this.worldTransform,h=Math.sqrt(s*s+o*o),f=Math.sqrt(u*u+c*c),g=(Math.abs(h)+Math.abs(f))/2,m=this.fontSize/i,v=e._view.resolution;for(const _ of this._activePagesMeshData)_.mesh.shader.uniforms.uFWidth=g*r*m*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Oi.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Oi.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Oi.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Oi.available[this._fontName].distanceFieldType==="none"?cw:hw;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=le.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};GT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let AF=GT;const fw={loader:ue.LoadParser,resolver:ue.ResolveParser,cache:ue.CacheParser,detection:ue.DetectionParser};ge.handle(ue.Asset,t=>{const e=t.ref;Object.entries(fw).filter(([r])=>!!e[r]).forEach(([r,n])=>ge.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(fw).filter(r=>!!e[r]).forEach(r=>ge.remove(e[r]))});class CF{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function wa(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Sa(t,e){const r=t.split("?")[0],n=Yr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const cn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),RF=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function jT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const u=s[o];r<e.length-1?jT(t.replace(n[r],u),e,r+1,n,i):i.push(t.replace(n[r],u))}}function IF(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),jT(t,i,0,r,n)}else n.push(t);return n}const ad=t=>!Array.isArray(t);class PF{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=cn(e);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{const c=i?i[u]:r;this._cache.has(u)&&this._cache.get(u)!==c&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof le){const u=r;n.forEach(c=>{u.baseTexture!==le.EMPTY.baseTexture&&Pe.addToCache(u.baseTexture,c),le.addToCache(u,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Os=new PF;class NF{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((u=h.testParse)==null?void 0:u.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=ad(e),o=cn(e,h=>({alias:[h],src:h})),u=o.length,c=o.map(async h=>{const f=Yr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(g){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${g}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=cn(e,n=>({alias:[n],src:n})).map(async n=>{var o,u;const i=Yr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(u=(o=s.parser)==null?void 0:o.unload)==null||u.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var os=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(os||{});const kF=".json",OF="application/json",MF={extension:{type:ue.LoadParser,priority:os.Low},name:"loadJson",test(t){return wa(t,OF)||Sa(t,kF)},async load(t){return await(await pe.ADAPTER.fetch(t)).json()}};ge.add(MF);const FF=".txt",LF="text/plain",DF={name:"loadTxt",extension:{type:ue.LoadParser,priority:os.Low},test(t){return wa(t,LF)||Sa(t,FF)},async load(t){return await(await pe.ADAPTER.fetch(t)).text()}};ge.add(DF);const BF=["normal","bold","100","200","300","400","500","600","700","800","900"],UF=[".ttf",".otf",".woff",".woff2"],zF=["font/ttf","font/otf","font/woff","font/woff2"],GF=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function $F(t){const e=Yr.extname(t),r=Yr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(GF)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const jF=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function HF(t){return jF.test(t)?t:encodeURI(t)}const WF={extension:{type:ue.LoadParser,priority:os.Low},name:"loadWebFont",test(t){return wa(t,zF)||Sa(t,UF)},async load(t,e){var n,i,s;const r=pe.ADAPTER.getFontFaceSet();if(r){const o=[],u=((n=e.data)==null?void 0:n.family)??$F(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>BF.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<c.length;f++){const g=c[f],m=new FontFace(u,`url(${HF(t)})`,{...h,weight:g});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>pe.ADAPTER.getFontFaceSet().delete(e))}};ge.add(WF);const VF=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ia=null,g0=class{constructor(){ia||(ia=URL.createObjectURL(new Blob([VF],{type:"application/javascript"}))),this.worker=new Worker(ia)}};g0.revokeObjectURL=function(){ia&&(URL.revokeObjectURL(ia),ia=null)};const XF=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let sa=null;class HT{constructor(){sa||(sa=URL.createObjectURL(new Blob([XF],{type:"application/javascript"}))),this.worker=new Worker(sa)}}HT.revokeObjectURL=function(){sa&&(URL.revokeObjectURL(sa),sa=null)};let pw=0,Pm;class YF{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new g0;r.addEventListener("message",n=>{r.terminate(),g0.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Pm===void 0&&(Pm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Pm&&(this._createdWorkers++,e=new HT().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[pw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:pw++,id:n})}}const mw=new YF;function Oy(t,e,r){t.resource.internal=!0;const n=new le(t),i=()=>{delete e.promiseCache[r],Os.has(r)&&Os.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const QF=[".jpeg",".jpg",".png",".webp",".avif"],qF=["image/jpeg","image/png","image/webp","image/avif"];async function KF(t){const e=await pe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Yd={name:"loadTextures",extension:{type:ue.LoadParser,priority:os.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return wa(t,qF)||Sa(t,QF)},async load(t,e,r){var u;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await mw.isImageBitmapSupported()?i=await mw.loadImageBitmap(t):i=await KF(t):i=await new Promise((c,h)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?c(f):(f.onload=()=>c(f),f.onerror=g=>h(g))});const s={...e.data};s.resolution??(s.resolution=ma(t)),n&&((u=s.resourceOptions)==null?void 0:u.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Pe(i,s);return o.resource.src=t,Oy(o,r,t)},unload(t){t.destroy(!0)}};ge.add(Yd);const ZF=".svg",JF="image/svg+xml",eL={extension:{type:ue.LoadParser,priority:os.High},name:"loadSVG",test(t){return wa(t,JF)||Sa(t,ZF)},async testParse(t){return u0.test(t)},async parse(t,e,r){var s;const n=new u0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Pe(n,{resolution:ma(t),...e==null?void 0:e.data});return i.resource.src=e.src,Oy(i,r,e.src)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload:Yd.unload};ge.add(eL);const tL=[".mp4",".m4v",".webm",".ogv"],rL=["video/mp4","video/webm","video/ogg"],nL={name:"loadVideo",extension:{type:ue.LoadParser,priority:os.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return wa(t,rL)||Sa(t,tL)},async load(t,e,r){var o;let n;const i=await(await pe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const u={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},c=new MT(s,u);await c.load();const h=new Pe(c,{alphaMode:await NO(),resolution:ma(t),...e==null?void 0:e.data});h.resource.src=t,n=Oy(h,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(u){throw URL.revokeObjectURL(s),u}return n},unload(t){t.destroy(!0)}};ge.add(nL);class iL{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return cn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(u=>(u==null?void 0:u.src)??(u==null?void 0:u.srcs)??u):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let u;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),u=[o,c]}else{const c=o.map(h=>this._createBundleAssetId(e,h));n.push(...c),u=[...o,...c]}this.add({...i,alias:u,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],u=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(u)?u:[u]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Fe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let u;u=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},cn(o).forEach(c=>{const{src:h,srcs:f}=c;let{data:g,format:m,loadParser:v}=c;const _=cn(h||f).map(S=>typeof S=="string"?IF(S):Array.isArray(S)?S:[S]),b=this.getAlias(c);Array.isArray(b)?b.forEach(u):u(b);const T=[];_.forEach(S=>{S.forEach(E=>{let w={};if(typeof E!="object"){w.src=E;for(let A=0;A<this._parsers.length;A++){const k=this._parsers[A];if(k.test(E)){w=k.parse(E);break}}}else g=E.data??g,m=E.format??m,v=E.loadParser??v,w={...w,...E};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this.buildResolvedAsset(w,{aliases:b,data:g,format:m,loadParser:v}),T.push(w)})}),b.forEach(S=>{this._assetMap[S]=T})})}resolveBundle(e){const r=ad(e);e=cn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const c in o){const h=o[c];u[this._extractAssetIdFromBundle(i,c)]=h}n[i]=u}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=ad(e);e=cn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],u=this._getPreferredOrder(s);u==null||u.priority.forEach(c=>{u.params[c].forEach(h=>{const f=s.filter(g=>g[c]?g[c]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Yr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Yr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class sL{constructor(){this._detections=[],this._initialized=!1,this.resolver=new iL,this.loader=new NF,this.cache=Os,this._backgroundLoader=new CF(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=ad(e),i=cn(e).map(u=>{if(typeof u!="string"){const c=this.resolver.getAlias(u);return c.some(h=>!this.resolver.hasKey(h))&&this.add(u),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,c=0;const h=()=>{r==null||r(++u/c)},f=o.map(g=>{const m=i[g];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(v=>{s[g]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Os.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Os.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,c)=>{const h=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),o[i[c]]=h,Os.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=cn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=cn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Os.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Yd.config.preferWorkers}set preferWorkers(e){Fe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Bc=new sL;ge.handleByList(ue.LoadParser,Bc.loader.parsers).handleByList(ue.ResolveParser,Bc.resolver.parsers).handleByList(ue.CacheParser,Bc.cache.parsers).handleByList(ue.DetectionParser,Bc.detections);const oL={extension:ue.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof le),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ge.add(oL);async function WT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const aL={extension:{type:ue.DetectionParser,priority:1},test:async()=>WT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ge.add(aL);const lL={extension:{type:ue.DetectionParser,priority:0},test:async()=>WT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ge.add(lL);const gw=["png","jpg","jpeg"],uL={extension:{type:ue.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...gw],remove:async t=>t.filter(e=>!gw.includes(e))};ge.add(uL);const cL="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function My(t){return cL?!1:document.createElement("video").canPlayType(t)!==""}const hL={extension:{type:ue.DetectionParser,priority:0},test:async()=>My("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ge.add(hL);const dL={extension:{type:ue.DetectionParser,priority:0},test:async()=>My("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ge.add(dL);const fL={extension:{type:ue.DetectionParser,priority:0},test:async()=>My("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ge.add(fL);const pL={extension:ue.ResolveParser,test:Yd.test,parse:t=>{var e;return{resolution:parseFloat(((e=pe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Yr.extname(t).slice(1),src:t}}};ge.add(pL);const mL=[".xml",".fnt"],gL={extension:{type:ue.LoadParser,priority:os.Normal},name:"loadBitmapFont",test(t){return mL.includes(Yr.extname(t).toLowerCase())},async testParse(t){return mh.test(t)||m0.test(t)},async parse(t,e,r){const n=mh.test(t)?mh.parse(t):m0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let g=Yr.join(Yr.dirname(i),f);g=RF(g,i),o.push(g)}const u=await r.load(o),c=o.map(h=>u[h]);return Oi.install(n,c,!0)},async load(t,e){return(await pe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ge.add(gL);const ld={build(t){const e=t.points;let r,n,i,s,o,u;if(t.type===Dt.CIRC){const _=t.shape;r=_.x,n=_.y,o=u=_.radius,i=s=0}else if(t.type===Dt.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,u=_.height,i=s=0}else{const _=t.shape,b=_.width/2,T=_.height/2;r=_.x+b,n=_.y+T,o=u=Math.max(0,Math.min(_.radius,Math.min(b,T))),i=b-o,s=T-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+u)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,g=c*4+(i?2:0)+2,m=g,v=h;{const _=i+o,b=s,T=r+_,S=r-_,E=n+b;if(e[f++]=T,e[f++]=E,e[--g]=E,e[--g]=S,s){const w=n-b;e[m++]=S,e[m++]=w,e[--v]=w,e[--v]=T}}for(let _=1;_<c;_++){const b=Math.PI/2*(_/c),T=i+Math.cos(b)*o,S=s+Math.sin(b)*u,E=r+T,w=r-T,A=n+S,k=n-S;e[f++]=E,e[f++]=A,e[--g]=A,e[--g]=w,e[m++]=w,e[m++]=k,e[--v]=k,e[--v]=E}{const _=i,b=s+u,T=r+_,S=r-_,E=n+b,w=n-b;e[f++]=T,e[f++]=E,e[--v]=w,e[--v]=T,i&&(e[f++]=S,e[f++]=E,e[--v]=w,e[--v]=S)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,c;if(t.type!==Dt.RREC){const f=t.shape;u=f.x,c=f.y}else{const f=t.shape;u=f.x+f.width/2,c=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*u+h.c*c+h.tx:u,t.matrix?h.b*u+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function yw(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const u=t[i],c=t[i+1];n+=(u-s)*(c+o),s=u,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[u],t[h]]=[t[h],t[u]]}}}const VT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){yw(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];yw(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const u=yN(r,o,2);if(!u)return;const c=i.length/2;for(let h=0;h<u.length;h+=3)s.push(u[h]+c),s.push(u[h+1]+c),s.push(u[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},yL={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},vL={build(t){ld.build(t)},triangulate(t,e){ld.triangulate(t,e)}};var Ur=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Ur||{}),Gi=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Gi||{});const ga={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class vw{static curveTo(e,r,n,i,s,o){const u=o[o.length-2],c=o[o.length-1]-r,h=u-e,f=i-r,g=n-e,m=Math.abs(c*g-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=c*c+h*h,_=f*f+g*g,b=c*f+h*g,T=s*Math.sqrt(v)/m,S=s*Math.sqrt(_)/m,E=T*b/v,w=S*b/_,A=T*g+S*h,k=T*f+S*c,D=h*(S+E),R=c*(S+E),P=g*(T+w),U=f*(T+w),B=Math.atan2(R-k,D-A),Q=Math.atan2(U-k,P-A);return{cx:A+e,cy:k+r,radius:s,startAngle:B,endAngle:Q,anticlockwise:h*f>g*c}}static arc(e,r,n,i,s,o,u,c,h){const f=u-o,g=ga._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Jh)*40),m=f/(g*2),v=m*2,_=Math.cos(m),b=Math.sin(m),T=g-1,S=T%1/T;for(let E=0;E<=T;++E){const w=E+S*E,A=m+o+v*w,k=Math.cos(A),D=-Math.sin(A);h.push((_*k+b*D)*s+n,(_*-D+b*k)*s+i)}}}class _L{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Fy{static curveLength(e,r,n,i,s,o,u,c){let h=0,f=0,g=0,m=0,v=0,_=0,b=0,T=0,S=0,E=0,w=0,A=e,k=r;for(let D=1;D<=10;++D)f=D/10,g=f*f,m=g*f,v=1-f,_=v*v,b=_*v,T=b*e+3*_*f*n+3*v*g*s+m*u,S=b*r+3*_*f*i+3*v*g*o+m*c,E=A-T,w=k-S,A=T,k=S,h+=Math.sqrt(E*E+w*w);return h}static curveTo(e,r,n,i,s,o,u){const c=u[u.length-2],h=u[u.length-1];u.length-=2;const f=ga._segmentsCount(Fy.curveLength(c,h,e,r,n,i,s,o));let g=0,m=0,v=0,_=0,b=0;u.push(c,h);for(let T=1,S=0;T<=f;++T)S=T/f,g=1-S,m=g*g,v=m*g,_=S*S,b=_*S,u.push(v*c+3*m*S*e+3*g*_*n+b*s,v*h+3*m*S*r+3*g*_*i+b*o)}}function _w(t,e,r,n,i,s,o,u){const c=t-r*i,h=e-n*i,f=t+r*s,g=e+n*s;let m,v;o?(m=n,v=-r):(m=-n,v=r);const _=c+m,b=h+v,T=f+m,S=g+v;return u.push(_,b,T,S),2}function _s(t,e,r,n,i,s,o,u){const c=r-t,h=n-e;let f=Math.atan2(c,h),g=Math.atan2(i-t,s-e);u&&f<g?f+=Math.PI*2:!u&&f>g&&(g+=Math.PI*2);let m=f;const v=g-f,_=Math.abs(v),b=Math.sqrt(c*c+h*h),T=(15*_*Math.sqrt(b)/Math.PI>>0)+1,S=v/T;if(m+=S,u){o.push(t,e,r,n);for(let E=1,w=m;E<T;E++,w+=S)o.push(t,e,t+Math.sin(w)*b,e+Math.cos(w)*b);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let E=1,w=m;E<T;E++,w+=S)o.push(t+Math.sin(w)*b,e+Math.cos(w)*b,t,e);o.push(i,s,t,e)}return T*2}function xL(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ye(n[0],n[1]),u=new Ye(n[n.length-2],n[n.length-1]),c=r.type!==Dt.POLY||r.closeStroke,h=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const ee=(o.x+u.x)*.5,N=(u.y+o.y)*.5;n.unshift(ee,N),n.push(ee,N)}const f=e.points,g=n.length/2;let m=n.length;const v=f.length/2,_=s.width/2,b=_*_,T=s.miterLimit*s.miterLimit;let S=n[0],E=n[1],w=n[2],A=n[3],k=0,D=0,R=-(E-A),P=S-w,U=0,B=0,Q=Math.sqrt(R*R+P*P);R/=Q,P/=Q,R*=_,P*=_;const j=s.alignment,M=(1-j)*2,H=j*2;c||(s.cap===Gi.ROUND?m+=_s(S-R*(M-H)*.5,E-P*(M-H)*.5,S-R*M,E-P*M,S+R*H,E+P*H,f,!0)+2:s.cap===Gi.SQUARE&&(m+=_w(S,E,R,P,M,H,!0,f))),f.push(S-R*M,E-P*M,S+R*H,E+P*H);for(let ee=1;ee<g-1;++ee){S=n[(ee-1)*2],E=n[(ee-1)*2+1],w=n[ee*2],A=n[ee*2+1],k=n[(ee+1)*2],D=n[(ee+1)*2+1],R=-(E-A),P=S-w,Q=Math.sqrt(R*R+P*P),R/=Q,P/=Q,R*=_,P*=_,U=-(A-D),B=w-k,Q=Math.sqrt(U*U+B*B),U/=Q,B/=Q,U*=_,B*=_;const N=w-S,W=E-A,F=w-k,$=D-A,ne=N*F+W*$,Se=W*F-$*N,xe=Se<0;if(Math.abs(Se)<.001*Math.abs(ne)){f.push(w-R*M,A-P*M,w+R*H,A+P*H),ne>=0&&(s.join===Ur.ROUND?m+=_s(w,A,w-R*M,A-P*M,w-U*M,A-B*M,f,!1)+4:m+=2,f.push(w-U*H,A-B*H,w+U*M,A+B*M));continue}const Be=(-R+S)*(-P+A)-(-R+w)*(-P+E),be=(-U+k)*(-B+A)-(-U+w)*(-B+D),Le=(N*be-F*Be)/Se,bt=($*Be-W*be)/Se,Ot=(Le-w)*(Le-w)+(bt-A)*(bt-A),ot=w+(Le-w)*M,Te=A+(bt-A)*M,He=w-(Le-w)*H,ke=A-(bt-A)*H,Rr=Math.min(N*N+W*W,F*F+$*$),Ir=xe?M:H,ls=Rr+Ir*Ir*b,Zd=Ot<=ls;let eo=s.join;if(eo===Ur.MITER&&Ot/b>T&&(eo=Ur.BEVEL),Zd)switch(eo){case Ur.MITER:{f.push(ot,Te,He,ke);break}case Ur.BEVEL:{xe?f.push(ot,Te,w+R*H,A+P*H,ot,Te,w+U*H,A+B*H):f.push(w-R*M,A-P*M,He,ke,w-U*M,A-B*M,He,ke),m+=2;break}case Ur.ROUND:{xe?(f.push(ot,Te,w+R*H,A+P*H),m+=_s(w,A,w+R*H,A+P*H,w+U*H,A+B*H,f,!0)+4,f.push(ot,Te,w+U*H,A+B*H)):(f.push(w-R*M,A-P*M,He,ke),m+=_s(w,A,w-R*M,A-P*M,w-U*M,A-B*M,f,!1)+4,f.push(w-U*M,A-B*M,He,ke));break}}else{switch(f.push(w-R*M,A-P*M,w+R*H,A+P*H),eo){case Ur.MITER:{xe?f.push(He,ke,He,ke):f.push(ot,Te,ot,Te),m+=2;break}case Ur.ROUND:{xe?m+=_s(w,A,w+R*H,A+P*H,w+U*H,A+B*H,f,!0)+2:m+=_s(w,A,w-R*M,A-P*M,w-U*M,A-B*M,f,!1)+2;break}}f.push(w-U*M,A-B*M,w+U*H,A+B*H),m+=2}}S=n[(g-2)*2],E=n[(g-2)*2+1],w=n[(g-1)*2],A=n[(g-1)*2+1],R=-(E-A),P=S-w,Q=Math.sqrt(R*R+P*P),R/=Q,P/=Q,R*=_,P*=_,f.push(w-R*M,A-P*M,w+R*H,A+P*H),c||(s.cap===Gi.ROUND?m+=_s(w-R*(M-H)*.5,A-P*(M-H)*.5,w-R*M,A-P*M,w+R*H,A+P*H,f,!1)+2:s.cap===Gi.SQUARE&&(m+=_w(w,A,R,P,M,H,!1,f)));const J=e.indices,ce=ga.epsilon*ga.epsilon;for(let ee=v;ee<m+v-2;++ee)S=f[ee*2],E=f[ee*2+1],w=f[(ee+1)*2],A=f[(ee+1)*2+1],k=f[(ee+2)*2],D=f[(ee+2)*2+1],!(Math.abs(S*(A-D)+w*(D-E)+k*(E-A))<ce)&&J.push(ee,ee+1,ee+2)}function wL(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Dt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,u=e.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,h)}function xw(t,e){t.lineStyle.native?wL(t,e):xL(t,e)}class Ly{static curveLength(e,r,n,i,s,o){const u=e-2*n+s,c=r-2*i+o,h=2*n-2*e,f=2*i-2*r,g=4*(u*u+c*c),m=4*(u*h+c*f),v=h*h+f*f,_=2*Math.sqrt(g+m+v),b=Math.sqrt(g),T=2*g*b,S=2*Math.sqrt(v),E=m/b;return(T*_+b*m*(_-S)+(4*v*g-m*m)*Math.log((2*b+E+_)/(E+S)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],c=ga._segmentsCount(Ly.curveLength(o,u,e,r,n,i));let h=0,f=0;for(let g=1;g<=c;++g){const m=g/c;h=o+(e-o)*m,f=u+(r-u)*m,s.push(h+(e+(n-e)*m-h)*m,f+(r+(i-r)*m-f)*m)}}}const Nm={[Dt.POLY]:VT,[Dt.CIRC]:ld,[Dt.ELIP]:ld,[Dt.RECT]:yL,[Dt.RREC]:vL},ww=[],Uc=[];class ud{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new ud(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const So=new Ye,XT=class YT extends Jb{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new id,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Uc.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),ww.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new ud(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new ud(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,So):So.copyFrom(e),i.shape.contains(So.x,So.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(So.x,So.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const h=r[c],f=h.fillStyle,g=h.lineStyle;Nm[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(f.visible||g.visible)&&this.processHoles(h.holes);for(let m=0;m<2;m++){const v=m===0?f:g;if(!v.visible)continue;const _=v.texture.baseTexture,b=this.indices.length,T=this.points.length/2;_.wrapMode=ci.REPEAT,m===0?this.processFill(h):this.processLine(h);const S=this.points.length/2-T;S!==0&&(n&&!this._compareStyles(i,v)&&(n.end(b,T),n=null),n||(n=ww.pop()||new _L,n.begin(v,b,T),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,T,S,v.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const u=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&u===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=u?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<YT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Pe._globalBatch;for(let g=0;g<this.drawCalls.length;g++)this.drawCalls[g].texArray.clear(),Uc.push(this.drawCalls[g]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Uc.pop();i||(i=new Zg,i.texArray=new n0),i.texArray.count=0,i.start=0,i.size=0,i.type=hn.TRIANGLES;let s=0,o=null,u=0,c=!1,h=hn.TRIANGLES,f=0;this.drawCalls.push(i);for(let g=0;g<this.batches.length;g++){const m=this.batches[g],v=8,_=m.style,b=_.texture.baseTexture;c!==!!_.native&&(c=!!_.native,h=c?hn.LINES:hn.TRIANGLES,o=null,s=v,e++),o!==b&&(o=b,b._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=Uc.pop(),i||(i=new Zg,i.texArray=new n0),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=h),b.touched=1,b._batchEnabled=e,b._batchLocation=s,b.wrapMode=ci.REPEAT,i.texArray.elements[i.texArray.count++]=b,s++)),i.size+=m.size,f+=m.size,u=b._batchLocation,this.addColors(r,_.color,_.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,u,m.attribSize,m.attribStart)}Pe._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),u=new Uint32Array(s);let c=0;for(let h=0;h<e.length/2;h++)o[c++]=e[h*2],o[c++]=e[h*2+1],o[c++]=r[h*2],o[c++]=r[h*2+1],u[c++]=n[h],o[c++]=i[h];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?VT.triangulate(e,this):Nm[e.type].triangulate(e,this)}processLine(e){xw(e,this);for(let r=0;r<e.holes.length;r++)xw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Nm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=ct.shared.setValue(r).toLittleEndianNumber(),u=ct.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=u}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let u=0;const c=r.length,h=n.frame;for(;u<s;){let g=e[(i+u)*2],m=e[(i+u)*2+1];if(o){const v=o.a*g+o.c*m+o.tx;m=o.b*g+o.d*m+o.ty,g=v}u++,r.push(g/h.width,m/h.height)}const f=n.baseTexture;(h.width<f.width||h.height<f.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,u=n+i*2,c=r.frame,h=c.width/s.width,f=c.height/s.height;let g=c.x/c.width,m=c.y/c.height,v=Math.floor(e[n]+o),_=Math.floor(e[n+1]+o);for(let b=n+2;b<u;b+=2)v=Math.min(v,Math.floor(e[b]+o)),_=Math.min(_,Math.floor(e[b+1]+o));g-=v,m-=_;for(let b=n;b<u;b+=2)e[b]=(e[b]+g)*h,e[b+1]=(e[b+1]+m)*f}};XT.BATCHABLE_SIZE=100;let SL=XT;class Qd{constructor(){this.color=16777215,this.alpha=1,this.texture=le.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Qd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=le.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Dy extends Qd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Gi.BUTT,this.join=Ur.MITER,this.miterLimit=10}clone(){const e=new Dy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Gi.BUTT,this.join=Ur.MITER,this.miterLimit=10}}const km={},y0=class yh extends Tr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Qd,this._lineStyle=new Dy,this._matrix=null,this._holeMode=!1,this.state=Xn.for2d(),this._geometry=e||new SL,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ct(16777215),this.blendMode=ye.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new yh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:le.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Gi.BUTT,join:Ur.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new zs,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new zs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Ly.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Fy.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,u=vw.curveTo(e,r,n,i,s,o);if(u){const{cx:c,cy:h,radius:f,startAngle:g,endAngle:m,anticlockwise:v}=u;this.arc(c,h,f,g,m,v)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Jh:o&&i<=s&&(i+=Jh),s-i===0)return this;const u=e+Math.cos(i)*n,c=r+Math.sin(i)*n,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const g=Math.abs(f[f.length-2]-u),m=Math.abs(f[f.length-1]-c);g<h&&m<h||f.push(u,c)}else this.moveTo(u,c),f=this.currentPath.points;return vw.arc(u,c,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:le.WHITE,color:e,alpha:r})}normalizeColor(e){const r=ct.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:le.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new De(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new $d(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new zd(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Gd(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new zs(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Dt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),h=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:u,blendMode:r,indices:h,uvs:c,_batchRGB:ct.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,ct.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let u=0,c=o.length;u<c;u++)this._renderDrawCallDirect(e,n.drawCalls[u])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,u=n.count;for(let c=0;c<u;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!km[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new it,default:gn.from({uSamplers:s},!0)},u=e.plugins[n]._shader.program;km[n]=new Hn(u,o)}r=km[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,yh._TEMP_POINT),this._geometry.containsPoint(yh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=ct.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,c=r.ty,h=this._geometry.points,f=this.vertexData;let g=0;for(let m=0;m<h.length;m+=2){const v=h[m],_=h[m+1];f[g++]=n*v+s*_+u,f[g++]=o*_+i*v+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};y0.curves=ga,y0._TEMP_POINT=new Ye;let vh=y0;class EL extends Xd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const g=f%this.segWidth,m=f/this.segWidth|0;r.push(g*u,m*c),n.push(g/s,m/o)}const h=s*o;for(let f=0;f<h;f++){const g=f%s,m=f/s|0,v=m*this.segWidth+g,_=m*this.segWidth+g+1,b=(m+1)*this.segWidth+g,T=(m+1)*this.segWidth+g+1;i.push(v,_,b,_,T,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class bL extends Xd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=e[0];const h=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const _=c.x-e[m].x,b=c.y-e[m].y,T=Math.sqrt(_*_+b*b);c=e[m],u+=T/h}else u=m/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let g=0;for(let m=0;m<f-1;m++){const v=m*2;o[g++]=v,o[g++]=v+1,o[g++]=v+2,o[g++]=v+2,o[g++]=v+1,o[g++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,u=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<u;h++){const f=e[h],g=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[g]=f.x+i,o[g+1]=f.y+s,o[g+2]=f.x-i,o[g+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class TL extends ru{constructor(e,r,n){const i=new EL(e.width,e.height,r,n),s=new nu(le.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const zc=10;class AL extends TL{constructor(e,r,n,i,s){var o,u,c,h;super(le.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??zc,this._rightWidth=i??((u=e.defaultBorders)==null?void 0:u.right)??zc,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??zc,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??zc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class CL extends ru{constructor(e=le.EMPTY,r,n,i,s){const o=new Xd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new nu(e);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class RL extends ru{constructor(e,r,n=0){const i=new bL(e.height,r,n),s=new nu(e);n>0&&(e.baseTexture.wrapMode=ci.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class IL extends Tr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ye.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new ct(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Sw{constructor(e,r,n){this.geometry=new ts,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||we.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new pt(jO(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new pt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new pt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];e.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===we.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];e.addAttribute(u.attributeName,this.staticBuffer,0,u.type===we.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var PL=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,NL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class QT extends Hd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new it,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Hn.from(NL,PL,{}),this.state=Xn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=Qb(e.blendMode,h),s.state.set(this.state);const f=s.gl,g=e.worldTransform.copyTo(this.tempMatrix);g.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=g.toArray(!0),this.shader.uniforms.uColor=ct.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,_=0;v<o;v+=i,_+=1){let b=o-v;b>i&&(b=i),_>=u.length&&u.push(this._generateOneMoreBuffer(e));const T=u[_];T.uploadDynamic(r,v,b);const S=e._bufferUpdateIDs[_]||0;m=m||T._updateID<S,m&&(T._updateID=e._updateID,T.uploadStatic(r,v,b)),s.geometry.bind(T.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Sw(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Sw(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let u=0,c=0,h=0,f=0;for(let g=0;g<n;++g){const m=e[r+g],v=m._texture,_=m.scale.x,b=m.scale.y,T=v.trim,S=v.orig;T?(c=T.x-m.anchor.x*S.width,u=c+T.width,f=T.y-m.anchor.y*S.height,h=f+T.height):(u=S.width*(1-m.anchor.x),c=S.width*-m.anchor.x,h=S.height*(1-m.anchor.y),f=S.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*b,i[o+s]=u*_,i[o+s+1]=f*b,i[o+s*2]=u*_,i[o+s*2+1]=h*b,i[o+s*3]=c*_,i[o+s*3+1]=h*b,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let u=0;u<n;u++){const c=e[r+u].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let u=0;u<n;u++){const c=e[r+u].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let u=0;u<n;++u){const c=e[r+u]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let u=0;u<n;++u){const c=e[r+u],h=ct.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}QT.extension={name:"particle",type:ue.RendererPlugin};ge.add(QT);class iu extends Js{constructor(e,r=!0){super(e[0]instanceof le?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(wr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(wr.shared.add(this.update,this,tu.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(le.from(e[n]));return new iu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(le.from(e[n]));return new iu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof le)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(wr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(wr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const nl=new Ye;class By extends Js{constructor(e,r=100,n=100){super(e),this.tileTransform=new jd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Ny(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,nl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(nl.x>=i&&nl.x<i+r){const s=-n*this.anchor._y;if(nl.y>=s&&nl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof le?e:le.from(e,r);return new By(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var kL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,OL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ML=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Ew=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,FL=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Gc=new it;class qT extends Hd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new uT,this.state=Xn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Hn.from(Ew,FL,r),this.shader=e.context.webGLVersion>1?Hn.from(OL,kL,r):Hn.from(Ew,ML,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=e._texture,c=u.baseTexture,h=c.alphaMode>0,f=e.tileTransform.localTransform,g=e.uvMatrix;let m=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==ci.CLAMP:c.wrapMode===ci.CLAMP&&(c.wrapMode=ci.REPEAT));const v=m?this.simpleShader:this.shader,_=u.width,b=u.height,T=e._width,S=e._height;Gc.set(f.a*_/T,f.b*_/S,f.c*b/T,f.d*b/S,f.tx/T,f.ty/S),Gc.invert(),m?Gc.prepend(g.mapCoord):(v.uniforms.uMapCoord=g.mapCoord.toArray(!0),v.uniforms.uClampFrame=g.uClampFrame,v.uniforms.uClampOffset=g.uClampOffset),v.uniforms.uTransform=Gc.toArray(!0),v.uniforms.uColor=ct.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=Qb(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}qT.extension={name:"tilingSprite",type:ue.RendererPlugin};ge.add(qT);const KT=class v0{constructor(e){this.stage=new Tr,e=Object.assign({forceCanvas:!1},e),this.renderer=nF(e),v0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=v0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};KT._plugins=[];let qd=KT;ge.handleByList(ue.Application,qd._plugins);class ZT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ZT.extension=ue.Application;ge.add(ZT);var JT={exports:{}},LL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DL=LL,BL=DL;function eA(){}function tA(){}tA.resetWarningCache=eA;var UL=function(){function t(n,i,s,o,u,c){if(c!==BL){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tA,resetWarningCache:eA};return r.PropTypes=r,r};JT.exports=UL();var zL=JT.exports;const Ve=fd(zL);function Er(t){return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}function rA(t){var e=function(r,n){if(Er(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Er(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Er(e)==="symbol"?e:String(e)}function ft(t,e,r){return(e=rA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Om(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yi(t){return function(e){if(Array.isArray(e))return Om(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Om(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Om(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ht(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var GL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $L(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jL=function(t){return t==null};function pl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=yi(t);else{if(t===null||Er(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!jL(r)&&!isNaN(r)}).map(Number)}function bw(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Mm(t){return t instanceof Ye||t instanceof zn}var cd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Fm(t,e,r){if(Mm(t[e])&&Mm(r))t[e].copyFrom(r);else if(Mm(t[e])){var n=pl(r);ht(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Er(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Eo,nA=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},iA=function(t){return function(){return!t.apply(void 0,arguments)}},_0="children",HL=(ft(Eo={},_0,!0),ft(Eo,"parent",!0),ft(Eo,"worldAlpha",!0),ft(Eo,"worldTransform",!0),ft(Eo,"worldVisible",!0),Eo),x0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Wn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var c,h;u==null||(c=u.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,c){if(r.hasOwnProperty(u))return ht(c.typeofs.some(function(h){return Er(r[u])===h})||c.instanceofs.some(function(h){return r[u]instanceof h}),"".concat(t," ").concat(u," prop is invalid")),r[u]};if(r.texture)return ht(r.texture instanceof le,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,le]});ht(!!s,"".concat(t," could not get texture from props"));var o=le.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},WL=iA(nA([].concat(yi(Object.keys(HL)),yi(cd))));function Vn(t,e,r){var n=!1;if(ht(Ys.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Er(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<cd.length;o++){var u=cd[o];e[u]!==r[u]&&(n=!0,typeof e[u]=="function"&&i&&t.removeListener(u,e[u]),typeof r[u]=="function"&&s&&t.on(u,r[u]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];e[f]!==r[f]&&(n=!0,Fm(t,f,r[f]))}return n}for(var g=c.filter(WL),m=0;m<g.length;m++){var v=g[m],_=r[v];r[v]!==e[v]&&(n=!0),_!==void 0?Fm(t,v,_):v in x0?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(_," for"),t),n=!0,Fm(t,v,x0[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(_," for"),t)}return n}var VL=function(t,e){var r=e.text,n=e.style;return new AF(r,n)},XL=function(){return new Tr};function as(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var c,h,f={},g=Object.keys(o);for(h=0;h<g.length;h++)c=g[h],u.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var YL=["draw","geometry"],QL=function(t,e){var r=e.geometry;ht(!r||r instanceof vh,"Graphics geometry needs to be a `Graphics`");var n=r?new vh(r.geometry):new vh;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var c=Vn(i,s,as(o,YL));return s.draw!==u&&typeof u=="function"&&(c=!0,u.call(n,n)),c},n},qL=["image","texture"],KL=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,u=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,f=Wn("NineSlicePlane",t,e),g=new AL(f,n,s,u,h);return g.applyProps=function(m,v,_){var b=_.image,T=_.texture,S=Vn(m,v,as(_,qL));return(b||T)&&(T!==v.texture&&(S=!0),m.texture=Wn("NineSlicePlane",t,_)),S},g};function Tw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZL=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,u=o!==void 0&&o,c=$c($c({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=$c($c({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new IL(n,c,s,u);return f.willUnmount=function(g,m,v){g.destroy(h)},f},JL=["image","texture"],e3=function(t,e){var r=new Js(Wn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,c=Vn(n,i,as(s,JL));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=Wn("Sprite",t,s)),c},r},t3=["textures","isPlaying","initialFrame","images"],r3=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,u=function(h){return h.map(function(f){return ht(f instanceof le||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},c=n?iu.fromImages(n):new iu(u(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,g){var m=g.textures,v=g.isPlaying,_=g.initialFrame,b=g.images,T=Vn(h,f,as(g,t3));if(b&&f.images!==b){for(var S=[],E=0;E<b.length;++E)S.push(le.from(b[E]));h.textures=S,T=!0}if(m&&f.textures!==m&&(h.textures=u(m),T=!0),v!==f.isPlaying||_!==f.initialFrame){var w=typeof _=="number"?_:c.currentFrame||0;c[v?"gotoAndPlay":"gotoAndStop"](w),T=!0}return T},c},n3=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,u=new gF(n,s);return o?(u.updateText(),new Js(u.texture)):u},i3=["tileScale","tilePosition","image","texture"],s3=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Wn("TilingSprite",t,e),u=new By(o,n,s);return u.applyProps=function(c,h,f){var g=f.tileScale,m=f.tilePosition,v=f.image,_=f.texture,b=Vn(c,h,as(f,i3));if(m){var T,S=pl(m);(T=c.tilePosition).set.apply(T,yi(S)),b=!bw(pl(h.tilePosition),S)||b}if(g){var E,w=pl(g);(E=c.tileScale).set.apply(E,yi(w)),b=!bw(pl(h.tileScale),w)||b}return(v||_)&&(_!==h.texture&&(b=!0),c.texture=Wn("Sprite",t,f)),b},u},o3=["image","texture"],a3=function(t,e){var r=Wn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,u=o===void 0?hn.TRIANGLES:o,c=new CL(r,n,i,s,u);return c.applyProps=function(h,f,g){var m=g.image,v=g.texture,_=Vn(h,f,as(g,o3));return(m||v)&&(v!==f.texture&&(_=!0),h.texture=Wn("Mesh",t,g)),_},c},l3=["image","texture"],u3=function(t,e){var r=Wn("SimpleRope",t,e),n=e.points,i=new RL(r,n);return i.applyProps=function(s,o,u){var c=u.image,h=u.texture,f=as(u,l3);ht(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<Point>");var g=Vn(s,o,f);return(c||h)&&(h!==o.texture&&(g=!0),s.texture=Wn("SimpleRope",t,u)),g},i},c3=Object.freeze({__proto__:null,BitmapText:VL,Container:XL,Graphics:QL,NineSlicePlane:KL,ParticleContainer:ZL,Sprite:e3,Text:n3,TilingSprite:s3,SimpleMesh:a3,SimpleRope:u3,AnimatedSprite:r3});function Aw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},h3=Object.keys(fr).reduce(function(t,e){return Cw(Cw({},t),{},ft({},e,c3[e]))},{}),sA={};function d3(t,e){return ht(!!t,"Expect type to be defined, got `%s`",t),ht(!fr[t],"Component `%s` could not be created, already exists in default components.",t),sA[t]=e,t}var Rw,Iw,Pw,Nw,w0={},S0={},f3={get exports(){return S0},set exports(t){S0=t}},kw={};function p3(){return Iw||(Iw=1,f3.exports=(Rw||(Rw=1,function(t){function e(N,W){var F=N.length;N.push(W);e:for(;0<F;){var $=F-1>>>1,ne=N[$];if(!(0<i(ne,W)))break e;N[$]=W,N[F]=ne,F=$}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],F=N.pop();if(F!==W){N[0]=F;e:for(var $=0,ne=N.length,Se=ne>>>1;$<Se;){var xe=2*($+1)-1,Be=N[xe],be=xe+1,Le=N[be];if(0>i(Be,F))be<ne&&0>i(Le,Be)?(N[$]=Le,N[be]=F,$=be):(N[$]=Be,N[xe]=F,$=xe);else{if(!(be<ne&&0>i(Le,F)))break e;N[$]=Le,N[be]=F,$=be}}}return W}function i(N,W){var F=N.sortIndex-W.sortIndex;return F!==0?F:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,g=null,m=3,v=!1,_=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function w(N){for(var W=r(h);W!==null;){if(W.callback===null)n(h);else{if(!(W.startTime<=N))break;n(h),W.sortIndex=W.expirationTime,e(c,W)}W=r(h)}}function A(N){if(b=!1,w(N),!_)if(r(c)!==null)_=!0,ce(k);else{var W=r(h);W!==null&&ee(A,W.startTime-N)}}function k(N,W){_=!1,b&&(b=!1,S(U),U=-1),v=!0;var F=m;try{for(w(W),g=r(c);g!==null&&(!(g.expirationTime>W)||N&&!j());){var $=g.callback;if(typeof $=="function"){g.callback=null,m=g.priorityLevel;var ne=$(g.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===r(c)&&n(c),w(W)}else n(c);g=r(c)}if(g!==null)var Se=!0;else{var xe=r(h);xe!==null&&ee(A,xe.startTime-W),Se=!1}return Se}finally{g=null,m=F,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,R=!1,P=null,U=-1,B=5,Q=-1;function j(){return!(t.unstable_now()-Q<B)}function M(){if(P!==null){var N=t.unstable_now();Q=N;var W=!0;try{W=P(!0,N)}finally{W?D():(R=!1,P=null)}}else R=!1}if(typeof E=="function")D=function(){E(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=M,D=function(){J.postMessage(null)}}else D=function(){T(M,0)};function ce(N){P=N,R||(R=!0,D())}function ee(N,W){U=T(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,ce(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var F=m;m=W;try{return N()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=m;m=N;try{return W()}finally{m=F}},t.unstable_scheduleCallback=function(N,W,F){var $=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?$+F:$,N){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return N={id:f++,callback:W,priorityLevel:N,startTime:F,expirationTime:ne=F+ne,sortIndex:-1},F>$?(N.sortIndex=F,e(h,N),r(c)===null&&N===r(h)&&(b?(S(U),U=-1):b=!0,ee(A,F-$))):(N.sortIndex=ne,e(c,N),_||v||(_=!0,ce(k))),N},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(N){var W=m;return function(){var F=m;m=W;try{return N.apply(this,arguments)}finally{m=F}}}}(kw)),kw)),S0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function m3(){return Nw||(Nw=1,Pw=function(t){var e={},r=Vr,n=p3(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),A=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:typeof(a=A&&a[A]||a["@@iterator"])=="function"?a:null}function D(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case g:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case _:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return(l=a.displayName||null)!==null?l:D(a.type)||"Memo";case E:l=a._payload,a=a._init;try{return D(a(l))}catch{}}return null}function R(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function P(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do 4098&(l=a).flags&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function U(a){if(P(a)!==a)throw Error(s(188))}function B(a){var l=a.alternate;if(!l){if((l=P(a))===null)throw Error(s(188));return l!==a?null:a}for(var d=a,p=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if((p=y.return)!==null){d=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return U(y),a;if(x===p)return U(y),l;x=x.sibling}throw Error(s(188))}if(d.return!==p.return)d=y,p=x;else{for(var C=!1,I=y.child;I;){if(I===d){C=!0,d=y,p=x;break}if(I===p){C=!0,p=y,d=x;break}I=I.sibling}if(!C){for(I=x.child;I;){if(I===d){C=!0,d=x,p=y;break}if(I===p){C=!0,p=x,d=y;break}I=I.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function Q(a){return(a=B(a))!==null?j(a):null}function j(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=j(a);if(l!==null)return l;a=a.sibling}return null}function M(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=M(a);if(l!==null)return l}a=a.sibling}return null}var H,J=Array.isArray,ce=t.getPublicInstance,ee=t.getRootHostContext,N=t.getChildHostContext,W=t.prepareForCommit,F=t.resetAfterCommit,$=t.createInstance,ne=t.appendInitialChild,Se=t.finalizeInitialChildren,xe=t.prepareUpdate,Be=t.shouldSetTextContent,be=t.createTextInstance,Le=t.scheduleTimeout,bt=t.cancelTimeout,Ot=t.noTimeout,ot=t.isPrimaryRenderer,Te=t.supportsMutation,He=t.supportsPersistence,ke=t.supportsHydration,Rr=t.getInstanceFromNode,Ir=t.preparePortalMount,ls=t.getCurrentEventPriority,Zd=t.detachDeletedInstance,eo=t.supportsMicrotasks,mA=t.scheduleMicrotask,Ea=t.supportsTestSelectors,gA=t.findFiberRoot,yA=t.getBoundingRect,vA=t.getTextContent,ba=t.isHiddenSubtree,_A=t.matchAccessibilityRole,xA=t.setFocusIfFocusable,wA=t.setupIntersectionObserver,SA=t.appendChild,EA=t.appendChildToContainer,bA=t.commitTextUpdate,TA=t.commitMount,AA=t.commitUpdate,CA=t.insertBefore,RA=t.insertInContainerBefore,IA=t.removeChild,PA=t.removeChildFromContainer,Uy=t.resetTextContent,NA=t.hideInstance,kA=t.hideTextInstance,OA=t.unhideInstance,MA=t.unhideTextInstance,FA=t.clearContainer,LA=t.cloneInstance,zy=t.createContainerChildSet,Gy=t.appendChildToContainerChildSet,DA=t.finalizeContainerChildren,Jd=t.replaceContainerChildren,$y=t.cloneHiddenInstance,jy=t.cloneHiddenTextInstance,BA=t.canHydrateInstance,UA=t.canHydrateTextInstance,zA=t.canHydrateSuspenseInstance,Hy=t.isSuspenseInstancePending,ef=t.isSuspenseInstanceFallback,GA=t.getSuspenseInstanceFallbackErrorDetails,$A=t.registerSuspenseInstanceRetry,pu=t.getNextHydratableSibling,jA=t.getFirstHydratableChild,HA=t.getFirstHydratableChildWithinContainer,WA=t.getFirstHydratableChildWithinSuspenseInstance,VA=t.hydrateInstance,XA=t.hydrateTextInstance,YA=t.hydrateSuspenseInstance,QA=t.getNextHydratableInstanceAfterSuspenseInstance,qA=t.commitHydratedContainer,KA=t.commitHydratedSuspenseInstance,ZA=t.clearSuspenseBoundary,JA=t.clearSuspenseBoundaryFromContainer,eC=t.shouldDeleteUnhydratedTailInstances,tC=t.didNotMatchHydratedContainerTextInstance,rC=t.didNotMatchHydratedTextInstance;function Ta(a){if(H===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+a}var tf=!1;function rf(a,l){if(!a||tf)return"";tf=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(G){var p=G}Reflect.construct(a,[],l)}else{try{l.call()}catch(G){p=G}a.call(l.prototype)}else{try{throw Error()}catch(G){p=G}a()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),x=p.stack.split(`
`),C=y.length-1,I=x.length-1;1<=C&&0<=I&&y[C]!==x[I];)I--;for(;1<=C&&0<=I;C--,I--)if(y[C]!==x[I]){if(C!==1||I!==1)do if(C--,0>--I||y[C]!==x[I]){var L=`
`+y[C].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=C&&0<=I);break}}}finally{tf=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Ta(a):""}var nC=Object.prototype.hasOwnProperty,nf=[],to=-1;function _i(a){return{current:a}}function Qe(a){0>to||(a.current=nf[to],nf[to]=null,to--)}function $e(a,l){to++,nf[to]=a.current,a.current=l}var xi={},zt=_i(xi),tr=_i(!1),us=xi;function ro(a,l){var d=a.type.contextTypes;if(!d)return xi;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y,x={};for(y in d)x[y]=l[y];return p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function pr(a){return(a=a.childContextTypes)!=null}function sf(){Qe(tr),Qe(zt)}function Wy(a,l,d){if(zt.current!==xi)throw Error(s(168));$e(zt,l),$e(tr,d)}function Vy(a,l,d){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;for(var y in p=p.getChildContext())if(!(y in l))throw Error(s(108,R(a)||"Unknown",y));return i({},d,p)}function mu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||xi,us=zt.current,$e(zt,a),$e(tr,tr.current),!0}function Xy(a,l,d){var p=a.stateNode;if(!p)throw Error(s(169));d?(a=Vy(a,l,us),p.__reactInternalMemoizedMergedChildContext=a,Qe(tr),Qe(zt),$e(zt,a)):Qe(tr),$e(tr,d)}var Kr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(iC(a)/sC|0)|0},iC=Math.log,sC=Math.LN2,of=64,af=4194304;function Aa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function gu(a,l){var d=a.pendingLanes;if(d===0)return 0;var p=0,y=a.suspendedLanes,x=a.pingedLanes,C=268435455&d;if(C!==0){var I=C&~y;I!==0?p=Aa(I):(x&=C)!==0&&(p=Aa(x))}else(C=d&~y)!==0?p=Aa(C):x!==0&&(p=Aa(x));if(p===0)return 0;if(l!==0&&l!==p&&!(l&y)&&((y=p&-p)>=(x=l&-l)||y===16&&4194240&x))return l;if(4&p&&(p|=16&d),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=p;0<l;)y=1<<(d=31-Kr(l)),p|=a[d],l&=~y;return p}function oC(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function lf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function Yy(){var a=of;return!(4194240&(of<<=1))&&(of=64),a}function uf(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Ca(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-Kr(l)]=d}function cf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-Kr(d),y=1<<p;y&l|a[p]&l&&(a[p]|=l),d&=~y}}var Oe=0;function Qy(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var hf=n.unstable_scheduleCallback,qy=n.unstable_cancelCallback,aC=n.unstable_shouldYield,lC=n.unstable_requestPaint,Tt=n.unstable_now,df=n.unstable_ImmediatePriority,uC=n.unstable_UserBlockingPriority,Ky=n.unstable_NormalPriority,cC=n.unstable_IdlePriority,yu=null,xn=null,Zr=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},Yn=null,vu=!1,ff=!1;function Zy(a){Yn===null?Yn=[a]:Yn.push(a)}function wn(){if(!ff&&Yn!==null){ff=!0;var a=0,l=Oe;try{var d=Yn;for(Oe=1;a<d.length;a++){var p=d[a];do p=p(!0);while(p!==null)}Yn=null,vu=!1}catch(y){throw Yn!==null&&(Yn=Yn.slice(a+1)),hf(df,wn),y}finally{Oe=l,ff=!1}}return null}var no=[],io=0,_u=null,xu=0,Pr=[],Nr=0,cs=null,Sn=1,Qn="";function hs(a,l){no[io++]=xu,no[io++]=_u,_u=a,xu=l}function Jy(a,l,d){Pr[Nr++]=Sn,Pr[Nr++]=Qn,Pr[Nr++]=cs,cs=a;var p=Sn;a=Qn;var y=32-Kr(p)-1;p&=~(1<<y),d+=1;var x=32-Kr(l)+y;if(30<x){var C=y-y%5;x=(p&(1<<C)-1).toString(32),p>>=C,y-=C,Sn=1<<32-Kr(l)+y|d<<y|p,Qn=x+a}else Sn=1<<x|d<<y|p,Qn=a}function pf(a){a.return!==null&&(hs(a,1),Jy(a,1,0))}function mf(a){for(;a===_u;)_u=no[--io],no[io]=null,xu=no[--io],no[io]=null;for(;a===cs;)cs=Pr[--Nr],Pr[Nr]=null,Qn=Pr[--Nr],Pr[Nr]=null,Sn=Pr[--Nr],Pr[Nr]=null}var mr=null,kr=null,qe=!1,Ra=!1,Jr=null;function ev(a,l){var d=Dr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,(l=a.deletions)===null?(a.deletions=[d],a.flags|=16):l.push(d)}function tv(a,l){switch(a.tag){case 5:return(l=BA(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,mr=a,kr=jA(l),!0);case 6:return(l=UA(l,a.pendingProps))!==null&&(a.stateNode=l,mr=a,kr=null,!0);case 13:if((l=zA(l))!==null){var d=cs!==null?{id:Sn,overflow:Qn}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Dr(18,null,null,0)).stateNode=l,d.return=a,a.child=d,mr=a,kr=null,!0}return!1;default:return!1}}function gf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function yf(a){if(qe){var l=kr;if(l){var d=l;if(!tv(a,l)){if(gf(a))throw Error(s(418));l=pu(d);var p=mr;l&&tv(a,l)?ev(p,d):(a.flags=-4097&a.flags|2,qe=!1,mr=a)}}else{if(gf(a))throw Error(s(418));a.flags=-4097&a.flags|2,qe=!1,mr=a}}}function rv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;mr=a}function wu(a){if(!ke||a!==mr)return!1;if(!qe)return rv(a),qe=!0,!1;if(a.tag!==3&&(a.tag!==5||eC(a.type)&&!Be(a.type,a.memoizedProps))){var l=kr;if(l){if(gf(a))throw nv(),Error(s(418));for(;l;)ev(a,l),l=pu(l)}}if(rv(a),a.tag===13){if(!ke)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));kr=QA(a)}else kr=mr?pu(a.stateNode):null;return!0}function nv(){for(var a=kr;a;)a=pu(a)}function so(){ke&&(kr=mr=null,Ra=qe=!1)}function vf(a){Jr===null?Jr=[a]:Jr.push(a)}var hC=o.ReactCurrentBatchConfig;function Su(a,l){if(Zr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!nC.call(l,y)||!Zr(a[y],l[y]))return!1}return!0}function dC(a){switch(a.tag){case 5:return Ta(a.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return a=rf(a.type,!1);case 11:return a=rf(a.type.render,!1);case 1:return a=rf(a.type,!0);default:return""}}function en(a,l){if(a&&a.defaultProps){for(var d in l=i({},l),a=a.defaultProps)l[d]===void 0&&(l[d]=a[d]);return l}return l}var Eu=_i(null),bu=null,oo=null,_f=null;function xf(){_f=oo=bu=null}function iv(a,l,d){ot?($e(Eu,l._currentValue),l._currentValue=d):($e(Eu,l._currentValue2),l._currentValue2=d)}function wf(a){var l=Eu.current;Qe(Eu),ot?a._currentValue=l:a._currentValue2=l}function Sf(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function ao(a,l){bu=a,_f=oo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&l&&(rr=!0),a.firstContext=null)}function Or(a){var l=ot?a._currentValue:a._currentValue2;if(_f!==a)if(a={context:a,memoizedValue:l,next:null},oo===null){if(bu===null)throw Error(s(308));oo=a,bu.dependencies={lanes:0,firstContext:a}}else oo=oo.next=a;return l}var ds=null;function Ef(a){ds===null?ds=[a]:ds.push(a)}function sv(a,l,d,p){var y=l.interleaved;return y===null?(d.next=d,Ef(l)):(d.next=y.next,y.next=d),l.interleaved=d,En(a,p)}function En(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,(d=a.alternate)!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var wi=!1;function bf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function qn(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Si(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(2&Ie)!=0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,En(a,d)}return(y=p.interleaved)===null?(l.next=l,Ef(p)):(l.next=y.next,y.next=l),p.interleaved=l,En(a,d)}function Tu(a,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,cf(a,d)}}function av(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&d===(p=p.updateQueue)){var y=null,x=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?y=x=C:x=x.next=C,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;return d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Au(a,l,d,p){var y=a.updateQueue;wi=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var L=I,G=L.next;L.next=null,C===null?x=G:C.next=G,C=L;var X=a.alternate;X!==null&&(I=(X=X.updateQueue).lastBaseUpdate)!==C&&(I===null?X.firstBaseUpdate=G:I.next=G,X.lastBaseUpdate=L)}if(x!==null){var re=y.baseState;for(C=0,X=G=L=null,I=x;;){var V=I.lane,Z=I.eventTime;if((p&V)===V){X!==null&&(X=X.next={eventTime:Z,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var he=a,Ee=I;switch(V=l,Z=d,Ee.tag){case 1:if(typeof(he=Ee.payload)=="function"){re=he.call(Z,re,V);break e}re=he;break e;case 3:he.flags=-65537&he.flags|128;case 0:if((V=typeof(he=Ee.payload)=="function"?he.call(Z,re,V):he)==null)break e;re=i({},re,V);break e;case 2:wi=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(V=y.effects)===null?y.effects=[I]:V.push(I))}else Z={eventTime:Z,lane:V,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(G=X=Z,L=re):X=X.next=Z,C|=V;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(V=I).next,V.next=null,y.lastBaseUpdate=V,y.shared.pending=null}}if(X===null&&(L=re),y.baseState=L,y.firstBaseUpdate=G,y.lastBaseUpdate=X,(l=y.shared.interleaved)!==null){y=l;do C|=y.lane,y=y.next;while(y!==l)}else x===null&&(y.shared.lanes=0);ps|=C,a.lanes=C,a.memoizedState=re}}function lv(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(s(191,y));y.call(p)}}}var uv=new r.Component().refs;function Tf(a,l,d,p){d=(d=d(p,l=a.memoizedState))==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Cu={isMounted:function(a){return!!(a=a._reactInternals)&&P(a)===a},enqueueSetState:function(a,l,d){a=a._reactInternals;var p=jt(),y=Ai(a),x=qn(p,y);x.payload=l,d!=null&&(x.callback=d),(l=Si(a,x,y))!==null&&(Lr(l,a,y,p),Tu(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=jt(),y=Ai(a),x=qn(p,y);x.tag=1,x.payload=l,d!=null&&(x.callback=d),(l=Si(a,x,y))!==null&&(Lr(l,a,y,p),Tu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=jt(),p=Ai(a),y=qn(d,p);y.tag=2,l!=null&&(y.callback=l),(l=Si(a,y,p))!==null&&(Lr(l,a,p,d),Tu(l,a,p))}};function cv(a,l,d,p,y,x,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,x,C):!l.prototype||!l.prototype.isPureReactComponent||!Su(d,p)||!Su(y,x)}function hv(a,l,d){var p=!1,y=xi,x=l.contextType;return typeof x=="object"&&x!==null?x=Or(x):(y=pr(l)?us:zt.current,x=(p=(p=l.contextTypes)!=null)?ro(a,y):xi),l=new l(d,x),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cu,a.stateNode=l,l._reactInternals=a,p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=x),l}function dv(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&Cu.enqueueReplaceState(l,l.state,null)}function Af(a,l,d,p){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=uv,bf(a);var x=l.contextType;typeof x=="object"&&x!==null?y.context=Or(x):(x=pr(l)?us:zt.current,y.context=ro(a,x)),y.state=a.memoizedState,typeof(x=l.getDerivedStateFromProps)=="function"&&(Tf(a,l,x,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Cu.enqueueReplaceState(y,y.state,null),Au(a,d,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ia(a,l,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var p=d.stateNode}if(!p)throw Error(s(147,a));var y=p,x=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(C){var I=y.refs;I===uv&&(I=y.refs={}),C===null?delete I[x]:I[x]=C},l._stringRef=x,l)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Ru(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function fv(a){return(0,a._init)(a._payload)}function pv(a){function l(Y,O){if(a){var z=Y.deletions;z===null?(Y.deletions=[O],Y.flags|=16):z.push(O)}}function d(Y,O){if(!a)return null;for(;O!==null;)l(Y,O),O=O.sibling;return null}function p(Y,O){for(Y=new Map;O!==null;)O.key!==null?Y.set(O.key,O):Y.set(O.index,O),O=O.sibling;return Y}function y(Y,O){return(Y=Ri(Y,O)).index=0,Y.sibling=null,Y}function x(Y,O,z){return Y.index=z,a?(z=Y.alternate)!==null?(z=z.index)<O?(Y.flags|=2,O):z:(Y.flags|=2,O):(Y.flags|=1048576,O)}function C(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function I(Y,O,z,q){return O===null||O.tag!==6?((O=dp(z,Y.mode,q)).return=Y,O):((O=y(O,z)).return=Y,O)}function L(Y,O,z,q){var me=z.type;return me===h?X(Y,O,z.props.children,q,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===E&&fv(me)===O.type)?((q=y(O,z.props)).ref=Ia(Y,O,z),q.return=Y,q):((q=ec(z.type,z.key,z.props,null,Y.mode,q)).ref=Ia(Y,O,z),q.return=Y,q)}function G(Y,O,z,q){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?((O=fp(z,Y.mode,q)).return=Y,O):((O=y(O,z.children||[])).return=Y,O)}function X(Y,O,z,q,me){return O===null||O.tag!==7?((O=ys(z,Y.mode,q,me)).return=Y,O):((O=y(O,z)).return=Y,O)}function re(Y,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return(O=dp(""+O,Y.mode,z)).return=Y,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case u:return(z=ec(O.type,O.key,O.props,null,Y.mode,z)).ref=Ia(Y,null,O),z.return=Y,z;case c:return(O=fp(O,Y.mode,z)).return=Y,O;case E:return re(Y,(0,O._init)(O._payload),z)}if(J(O)||k(O))return(O=ys(O,Y.mode,z,null)).return=Y,O;Ru(Y,O)}return null}function V(Y,O,z,q){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return me!==null?null:I(Y,O,""+z,q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case u:return z.key===me?L(Y,O,z,q):null;case c:return z.key===me?G(Y,O,z,q):null;case E:return V(Y,O,(me=z._init)(z._payload),q)}if(J(z)||k(z))return me!==null?null:X(Y,O,z,q,null);Ru(Y,z)}return null}function Z(Y,O,z,q,me){if(typeof q=="string"&&q!==""||typeof q=="number")return I(O,Y=Y.get(z)||null,""+q,me);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case u:return L(O,Y=Y.get(q.key===null?z:q.key)||null,q,me);case c:return G(O,Y=Y.get(q.key===null?z:q.key)||null,q,me);case E:return Z(Y,O,z,(0,q._init)(q._payload),me)}if(J(q)||k(q))return X(O,Y=Y.get(z)||null,q,me,null);Ru(O,q)}return null}function he(Y,O,z,q){for(var me=null,Ue=null,de=O,Me=O=0,Ft=null;de!==null&&Me<z.length;Me++){de.index>Me?(Ft=de,de=null):Ft=de.sibling;var ze=V(Y,de,z[Me],q);if(ze===null){de===null&&(de=Ft);break}a&&de&&ze.alternate===null&&l(Y,de),O=x(ze,O,Me),Ue===null?me=ze:Ue.sibling=ze,Ue=ze,de=Ft}if(Me===z.length)return d(Y,de),qe&&hs(Y,Me),me;if(de===null){for(;Me<z.length;Me++)(de=re(Y,z[Me],q))!==null&&(O=x(de,O,Me),Ue===null?me=de:Ue.sibling=de,Ue=de);return qe&&hs(Y,Me),me}for(de=p(Y,de);Me<z.length;Me++)(Ft=Z(de,Y,Me,z[Me],q))!==null&&(a&&Ft.alternate!==null&&de.delete(Ft.key===null?Me:Ft.key),O=x(Ft,O,Me),Ue===null?me=Ft:Ue.sibling=Ft,Ue=Ft);return a&&de.forEach(function(Ii){return l(Y,Ii)}),qe&&hs(Y,Me),me}function Ee(Y,O,z,q){var me=k(z);if(typeof me!="function")throw Error(s(150));if((z=me.call(z))==null)throw Error(s(151));for(var Ue=me=null,de=O,Me=O=0,Ft=null,ze=z.next();de!==null&&!ze.done;Me++,ze=z.next()){de.index>Me?(Ft=de,de=null):Ft=de.sibling;var Ii=V(Y,de,ze.value,q);if(Ii===null){de===null&&(de=Ft);break}a&&de&&Ii.alternate===null&&l(Y,de),O=x(Ii,O,Me),Ue===null?me=Ii:Ue.sibling=Ii,Ue=Ii,de=Ft}if(ze.done)return d(Y,de),qe&&hs(Y,Me),me;if(de===null){for(;!ze.done;Me++,ze=z.next())(ze=re(Y,ze.value,q))!==null&&(O=x(ze,O,Me),Ue===null?me=ze:Ue.sibling=ze,Ue=ze);return qe&&hs(Y,Me),me}for(de=p(Y,de);!ze.done;Me++,ze=z.next())(ze=Z(de,Y,Me,ze.value,q))!==null&&(a&&ze.alternate!==null&&de.delete(ze.key===null?Me:ze.key),O=x(ze,O,Me),Ue===null?me=ze:Ue.sibling=ze,Ue=ze);return a&&de.forEach(function(LC){return l(Y,LC)}),qe&&hs(Y,Me),me}return function Y(O,z,q,me){if(typeof q=="object"&&q!==null&&q.type===h&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case u:e:{for(var Ue=q.key,de=z;de!==null;){if(de.key===Ue){if((Ue=q.type)===h){if(de.tag===7){d(O,de.sibling),(z=y(de,q.props.children)).return=O,O=z;break e}}else if(de.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===E&&fv(Ue)===de.type){d(O,de.sibling),(z=y(de,q.props)).ref=Ia(O,de,q),z.return=O,O=z;break e}d(O,de);break}l(O,de),de=de.sibling}q.type===h?((z=ys(q.props.children,O.mode,me,q.key)).return=O,O=z):((me=ec(q.type,q.key,q.props,null,O.mode,me)).ref=Ia(O,z,q),me.return=O,O=me)}return C(O);case c:e:{for(de=q.key;z!==null;){if(z.key===de){if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){d(O,z.sibling),(z=y(z,q.children||[])).return=O,O=z;break e}d(O,z);break}l(O,z),z=z.sibling}(z=fp(q,O.mode,me)).return=O,O=z}return C(O);case E:return Y(O,z,(de=q._init)(q._payload),me)}if(J(q))return he(O,z,q,me);if(k(q))return Ee(O,z,q,me);Ru(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(d(O,z.sibling),(z=y(z,q)).return=O,O=z):(d(O,z),(z=dp(q,O.mode,me)).return=O,O=z),C(O)):d(O,z)}}var lo=pv(!0),mv=pv(!1),Pa={},Mr=_i(Pa),Na=_i(Pa),uo=_i(Pa);function bn(a){if(a===Pa)throw Error(s(174));return a}function Cf(a,l){$e(uo,l),$e(Na,a),$e(Mr,Pa),a=ee(l),Qe(Mr),$e(Mr,a)}function co(){Qe(Mr),Qe(Na),Qe(uo)}function gv(a){var l=bn(uo.current),d=bn(Mr.current);d!==(l=N(d,a.type,l))&&($e(Na,a),$e(Mr,l))}function Rf(a){Na.current===a&&(Qe(Mr),Qe(Na))}var at=_i(0);function Iu(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Hy(d)||ef(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(128&l.flags)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var If=[];function Pf(){for(var a=0;a<If.length;a++){var l=If[a];ot?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}If.length=0}var Pu=o.ReactCurrentDispatcher,Nf=o.ReactCurrentBatchConfig,fs=0,Je=null,At=null,Ct=null,Nu=!1,ka=!1,Oa=0,fC=0;function Gt(){throw Error(s(321))}function kf(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Zr(a[d],l[d]))return!1;return!0}function Of(a,l,d,p,y,x){if(fs=x,Je=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Pu.current=a===null||a.memoizedState===null?yC:vC,a=d(p,y),ka){x=0;do{if(ka=!1,Oa=0,25<=x)throw Error(s(301));x+=1,Ct=At=null,l.updateQueue=null,Pu.current=_C,a=d(p,y)}while(ka)}if(Pu.current=Mu,l=At!==null&&At.next!==null,fs=0,Ct=At=Je=null,Nu=!1,l)throw Error(s(300));return a}function Mf(){var a=Oa!==0;return Oa=0,a}function Tn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Je.memoizedState=Ct=a:Ct=Ct.next=a,Ct}function Fr(){if(At===null){var a=Je.alternate;a=a!==null?a.memoizedState:null}else a=At.next;var l=Ct===null?Je.memoizedState:Ct.next;if(l!==null)Ct=l,At=a;else{if(a===null)throw Error(s(310));a={memoizedState:(At=a).memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ct===null?Je.memoizedState=Ct=a:Ct=Ct.next=a}return Ct}function Ma(a,l){return typeof l=="function"?l(a):l}function Ff(a){var l=Fr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=At,y=p.baseQueue,x=d.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}p.baseQueue=y=x,d.pending=null}if(y!==null){x=y.next,p=p.baseState;var I=C=null,L=null,G=x;do{var X=G.lane;if((fs&X)===X)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:a(p,G.action);else{var re={lane:X,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(I=L=re,C=p):L=L.next=re,Je.lanes|=X,ps|=X}G=G.next}while(G!==null&&G!==x);L===null?C=p:L.next=I,Zr(p,l.memoizedState)||(rr=!0),l.memoizedState=p,l.baseState=C,l.baseQueue=L,d.lastRenderedState=p}if((a=d.interleaved)!==null){y=a;do x=y.lane,Je.lanes|=x,ps|=x,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Lf(a){var l=Fr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);Zr(x,l.memoizedState)||(rr=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,p]}function yv(){}function vv(a,l){var d=Je,p=Fr(),y=l(),x=!Zr(p.memoizedState,y);if(x&&(p.memoizedState=y,rr=!0),p=p.queue,Df(wv.bind(null,d,p,a),[a]),p.getSnapshot!==l||x||Ct!==null&&1&Ct.memoizedState.tag){if(d.flags|=2048,Fa(9,xv.bind(null,d,p,y,l),void 0,null),Rt===null)throw Error(s(349));30&fs||_v(d,l,y)}return y}function _v(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},(l=Je.updateQueue)===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.stores=[a]):(d=l.stores)===null?l.stores=[a]:d.push(a)}function xv(a,l,d,p){l.value=d,l.getSnapshot=p,Sv(l)&&Ev(a)}function wv(a,l,d){return d(function(){Sv(l)&&Ev(a)})}function Sv(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Zr(a,d)}catch{return!0}}function Ev(a){var l=En(a,1);l!==null&&Lr(l,a,1,-1)}function bv(a){var l=Tn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:a},l.queue=a,a=a.dispatch=gC.bind(null,Je,a),[l.memoizedState,a]}function Fa(a,l,d,p){return a={tag:a,create:l,destroy:d,deps:p,next:null},(l=Je.updateQueue)===null?(l={lastEffect:null,stores:null},Je.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect)===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function Tv(){return Fr().memoizedState}function ku(a,l,d,p){var y=Tn();Je.flags|=a,y.memoizedState=Fa(1|l,d,void 0,p===void 0?null:p)}function Ou(a,l,d,p){var y=Fr();p=p===void 0?null:p;var x=void 0;if(At!==null){var C=At.memoizedState;if(x=C.destroy,p!==null&&kf(p,C.deps))return void(y.memoizedState=Fa(l,d,x,p))}Je.flags|=a,y.memoizedState=Fa(1|l,d,x,p)}function Av(a,l){return ku(8390656,8,a,l)}function Df(a,l){return Ou(2048,8,a,l)}function Cv(a,l){return Ou(4,2,a,l)}function Rv(a,l){return Ou(4,4,a,l)}function Iv(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function Pv(a,l,d){return d=d!=null?d.concat([a]):null,Ou(4,4,Iv.bind(null,l,a),d)}function Bf(){}function Nv(a,l){var d=Fr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&kf(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function kv(a,l){var d=Fr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&kf(l,p[1])?p[0]:(a=a(),d.memoizedState=[a,l],a)}function Ov(a,l,d){return 21&fs?(Zr(d,l)||(d=Yy(),Je.lanes|=d,ps|=d,a.baseState=!0),l):(a.baseState&&(a.baseState=!1,rr=!0),a.memoizedState=d)}function pC(a,l){var d=Oe;Oe=d!==0&&4>d?d:4,a(!0);var p=Nf.transition;Nf.transition={};try{a(!1),l()}finally{Oe=d,Nf.transition=p}}function Mv(){return Fr().memoizedState}function mC(a,l,d){var p=Ai(a);d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},Fv(a)?Lv(l,d):(d=sv(a,l,d,p))!==null&&(Lr(d,a,p,jt()),Dv(d,l,p))}function gC(a,l,d){var p=Ai(a),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(Fv(a))Lv(l,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer)!==null)try{var C=l.lastRenderedState,I=x(C,d);if(y.hasEagerState=!0,y.eagerState=I,Zr(I,C)){var L=l.interleaved;return L===null?(y.next=y,Ef(l)):(y.next=L.next,L.next=y),void(l.interleaved=y)}}catch{}(d=sv(a,l,y,p))!==null&&(Lr(d,a,p,y=jt()),Dv(d,l,p))}}function Fv(a){var l=a.alternate;return a===Je||l!==null&&l===Je}function Lv(a,l){ka=Nu=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Dv(a,l,d){if(4194240&d){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,cf(a,d)}}var Mu={readContext:Or,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},yC={readContext:Or,useCallback:function(a,l){return Tn().memoizedState=[a,l===void 0?null:l],a},useContext:Or,useEffect:Av,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,ku(4194308,4,Iv.bind(null,l,a),d)},useLayoutEffect:function(a,l){return ku(4194308,4,a,l)},useInsertionEffect:function(a,l){return ku(4,2,a,l)},useMemo:function(a,l){var d=Tn();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var p=Tn();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=mC.bind(null,Je,a),[p.memoizedState,a]},useRef:function(a){return a={current:a},Tn().memoizedState=a},useState:bv,useDebugValue:Bf,useDeferredValue:function(a){return Tn().memoizedState=a},useTransition:function(){var a=bv(!1),l=a[0];return a=pC.bind(null,a[1]),Tn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var p=Je,y=Tn();if(qe){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Rt===null)throw Error(s(349));30&fs||_v(p,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,Av(wv.bind(null,p,x,a),[a]),p.flags|=2048,Fa(9,xv.bind(null,p,x,d,l),void 0,null),d},useId:function(){var a=Tn(),l=Rt.identifierPrefix;if(qe){var d=Qn;l=":"+l+"R"+(d=(Sn&~(1<<32-Kr(Sn)-1)).toString(32)+d),0<(d=Oa++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=fC++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},vC={readContext:Or,useCallback:Nv,useContext:Or,useEffect:Df,useImperativeHandle:Pv,useInsertionEffect:Cv,useLayoutEffect:Rv,useMemo:kv,useReducer:Ff,useRef:Tv,useState:function(){return Ff(Ma)},useDebugValue:Bf,useDeferredValue:function(a){return Ov(Fr(),At.memoizedState,a)},useTransition:function(){return[Ff(Ma)[0],Fr().memoizedState]},useMutableSource:yv,useSyncExternalStore:vv,useId:Mv,unstable_isNewReconciler:!1},_C={readContext:Or,useCallback:Nv,useContext:Or,useEffect:Df,useImperativeHandle:Pv,useInsertionEffect:Cv,useLayoutEffect:Rv,useMemo:kv,useReducer:Lf,useRef:Tv,useState:function(){return Lf(Ma)},useDebugValue:Bf,useDeferredValue:function(a){var l=Fr();return At===null?l.memoizedState=a:Ov(l,At.memoizedState,a)},useTransition:function(){return[Lf(Ma)[0],Fr().memoizedState]},useMutableSource:yv,useSyncExternalStore:vv,useId:Mv,unstable_isNewReconciler:!1};function ho(a,l){try{var d="",p=l;do d+=dC(p),p=p.return;while(p);var y=d}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:a,source:l,stack:y,digest:null}}function Uf(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function zf(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var xC=typeof WeakMap=="function"?WeakMap:Map;function Bv(a,l,d){(d=qn(-1,d)).tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){Yu||(Yu=!0,sp=p),zf(0,l)},d}function Uv(a,l,d){(d=qn(-1,d)).tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){zf(0,l)}}var x=a.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){zf(0,l),typeof p!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),d}function zv(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new xC;var y=new Set;p.set(l,y)}else(y=p.get(l))===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),a=IC.bind(null,a,l,d),l.then(a,a))}function Gv(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function $v(a,l,d,p,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=qn(-1,1)).tag=2,Si(d,l,1))),d.lanes|=1),a)}var wC=o.ReactCurrentOwner,rr=!1;function nr(a,l,d,p){l.child=a===null?mv(l,null,d,p):lo(l,a.child,d,p)}function jv(a,l,d,p,y){d=d.render;var x=l.ref;return ao(l,y),p=Of(a,l,d,p,x,y),d=Mf(),a===null||rr?(qe&&d&&pf(l),l.flags|=1,nr(a,l,p,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Kn(a,l,y))}function Hv(a,l,d,p,y){if(a===null){var x=d.type;return typeof x!="function"||hp(x)||x.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=ec(d.type,null,p,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=x,Wv(a,l,x,p,y))}if(x=a.child,(a.lanes&y)==0){var C=x.memoizedProps;if((d=(d=d.compare)!==null?d:Su)(C,p)&&a.ref===l.ref)return Kn(a,l,y)}return l.flags|=1,(a=Ri(x,p)).ref=l.ref,a.return=l,l.child=a}function Wv(a,l,d,p,y){if(a!==null){var x=a.memoizedProps;if(Su(x,p)&&a.ref===l.ref){if(rr=!1,l.pendingProps=p=x,(a.lanes&y)==0)return l.lanes=a.lanes,Kn(a,l,y);131072&a.flags&&(rr=!0)}}return Gf(a,l,d,p,y)}function Vv(a,l,d){var p=l.pendingProps,y=p.children,x=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(1&l.mode))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(po,gr),gr|=d;else{if(!(1073741824&d))return a=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,$e(po,gr),gr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:d,$e(po,gr),gr|=p}else x!==null?(p=x.baseLanes|d,l.memoizedState=null):p=d,$e(po,gr),gr|=p;return nr(a,l,y,d),l.child}function Xv(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Gf(a,l,d,p,y){var x=pr(d)?us:zt.current;return x=ro(l,x),ao(l,y),d=Of(a,l,d,p,x,y),p=Mf(),a===null||rr?(qe&&p&&pf(l),l.flags|=1,nr(a,l,d,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,Kn(a,l,y))}function Yv(a,l,d,p,y){if(pr(d)){var x=!0;mu(l)}else x=!1;if(ao(l,y),l.stateNode===null)Bu(a,l),hv(l,d,p),Af(l,d,p,y),p=!0;else if(a===null){var C=l.stateNode,I=l.memoizedProps;C.props=I;var L=C.context,G=d.contextType;typeof G=="object"&&G!==null?G=Or(G):G=ro(l,G=pr(d)?us:zt.current);var X=d.getDerivedStateFromProps,re=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==p||L!==G)&&dv(l,C,p,G),wi=!1;var V=l.memoizedState;C.state=V,Au(l,p,C,y),L=l.memoizedState,I!==p||V!==L||tr.current||wi?(typeof X=="function"&&(Tf(l,d,X,p),L=l.memoizedState),(I=wi||cv(l,d,I,p,V,L,G))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=L),C.props=p,C.state=L,C.context=G,p=I):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{C=l.stateNode,ov(a,l),I=l.memoizedProps,G=l.type===l.elementType?I:en(l.type,I),C.props=G,re=l.pendingProps,V=C.context,typeof(L=d.contextType)=="object"&&L!==null?L=Or(L):L=ro(l,L=pr(d)?us:zt.current);var Z=d.getDerivedStateFromProps;(X=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==re||V!==L)&&dv(l,C,p,L),wi=!1,V=l.memoizedState,C.state=V,Au(l,p,C,y);var he=l.memoizedState;I!==re||V!==he||tr.current||wi?(typeof Z=="function"&&(Tf(l,d,Z,p),he=l.memoizedState),(G=wi||cv(l,d,G,p,V,he,L)||!1)?(X||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,he,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,he,L)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=he),C.props=p,C.state=he,C.context=L,p=G):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(l.flags|=1024),p=!1)}return $f(a,l,d,p,x,y)}function $f(a,l,d,p,y,x){Xv(a,l);var C=(128&l.flags)!=0;if(!p&&!C)return y&&Xy(l,d,!1),Kn(a,l,x);p=l.stateNode,wC.current=l;var I=C&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&C?(l.child=lo(l,a.child,null,x),l.child=lo(l,null,I,x)):nr(a,l,I,x),l.memoizedState=p.state,y&&Xy(l,d,!0),l.child}function Qv(a){var l=a.stateNode;l.pendingContext?Wy(0,l.pendingContext,l.pendingContext!==l.context):l.context&&Wy(0,l.context,!1),Cf(a,l.containerInfo)}function qv(a,l,d,p,y){return so(),vf(y),l.flags|=256,nr(a,l,d,p),l.child}var La,Da,Fu,Lu,jf={dehydrated:null,treeContext:null,retryLane:0};function Hf(a){return{baseLanes:a,cachePool:null,transitions:null}}function Kv(a,l,d){var p,y=l.pendingProps,x=at.current,C=!1,I=(128&l.flags)!=0;if((p=I)||(p=(a===null||a.memoizedState!==null)&&(2&x)!=0),p?(C=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(x|=1),$e(at,1&x),a===null)return yf(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&l.mode?ef(a)?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(I=y.children,a=y.fallback,C?(y=l.mode,C=l.child,I={mode:"hidden",children:I},!(1&y)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=tc(I,y,0,null),a=ys(a,y,d,null),C.return=l,a.return=l,C.sibling=a,l.child=C,l.child.memoizedState=Hf(d),l.memoizedState=jf,a):Wf(l,I));if((x=a.memoizedState)!==null&&(p=x.dehydrated)!==null)return function(G,X,re,V,Z,he,Ee){if(re)return 256&X.flags?(X.flags&=-257,Du(G,X,Ee,V=Uf(Error(s(422))))):X.memoizedState!==null?(X.child=G.child,X.flags|=128,null):(he=V.fallback,Z=X.mode,V=tc({mode:"visible",children:V.children},Z,0,null),(he=ys(he,Z,Ee,null)).flags|=2,V.return=X,he.return=X,V.sibling=he,X.child=V,1&X.mode&&lo(X,G.child,null,Ee),X.child.memoizedState=Hf(Ee),X.memoizedState=jf,he);if(!(1&X.mode))return Du(G,X,Ee,null);if(ef(Z))return V=GA(Z).digest,he=Error(s(419)),V=Uf(he,V,void 0),Du(G,X,Ee,V);if(re=(Ee&G.childLanes)!=0,rr||re){if((V=Rt)!==null){switch(Ee&-Ee){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}(Z=Z&(V.suspendedLanes|Ee)?0:Z)!==0&&Z!==he.retryLane&&(he.retryLane=Z,En(G,Z),Lr(V,G,Z,-1))}return cp(),Du(G,X,Ee,V=Uf(Error(s(421))))}return Hy(Z)?(X.flags|=128,X.child=G.child,X=PC.bind(null,G),$A(Z,X),null):(G=he.treeContext,ke&&(kr=WA(Z),mr=X,qe=!0,Jr=null,Ra=!1,G!==null&&(Pr[Nr++]=Sn,Pr[Nr++]=Qn,Pr[Nr++]=cs,Sn=G.id,Qn=G.overflow,cs=X)),X=Wf(X,V.children),X.flags|=4096,X)}(a,l,I,y,p,x,d);if(C){C=y.fallback,I=l.mode,p=(x=a.child).sibling;var L={mode:"hidden",children:y.children};return!(1&I)&&l.child!==x?((y=l.child).childLanes=0,y.pendingProps=L,l.deletions=null):(y=Ri(x,L)).subtreeFlags=14680064&x.subtreeFlags,p!==null?C=Ri(p,C):(C=ys(C,I,d,null)).flags|=2,C.return=l,y.return=l,y.sibling=C,l.child=y,y=C,C=l.child,I=(I=a.child.memoizedState)===null?Hf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=a.childLanes&~d,l.memoizedState=jf,y}return a=(C=a.child).sibling,y=Ri(C,{mode:"visible",children:y.children}),!(1&l.mode)&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&((d=l.deletions)===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function Wf(a,l){return(l=tc({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Du(a,l,d,p){return p!==null&&vf(p),lo(l,a.child,null,d),(a=Wf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function Zv(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Sf(a.return,l,d)}function Vf(a,l,d,p,y){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=d,x.tailMode=y)}function Jv(a,l,d){var p=l.pendingProps,y=p.revealOrder,x=p.tail;if(nr(a,l,p.children,d),(2&(p=at.current))!=0)p=1&p|2,l.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Zv(a,d,l);else if(a.tag===19)Zv(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if($e(at,p),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)(a=d.alternate)!==null&&Iu(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Vf(l,!1,y,d,x);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&Iu(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Vf(l,!0,d,null,x);break;case"together":Vf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Bu(a,l){!(1&l.mode)&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Kn(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ps|=l.lanes,(d&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(d=Ri(a=l.child,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,(d=d.sibling=Ri(a,a.pendingProps)).return=l;d.sibling=null}return l.child}function An(a){a.flags|=4}function e_(a,l){if(a!==null&&a.child===l.child)return!0;if(16&l.flags)return!1;for(a=l.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Te)La=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)ne(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Da=function(){},Fu=function(a,l,d,p,y){if((a=a.memoizedProps)!==p){var x=l.stateNode,C=bn(Mr.current);d=xe(x,d,a,p,y,C),(l.updateQueue=d)&&An(l)}},Lu=function(a,l,d,p){d!==p&&An(l)};else if(He){La=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&p&&(x=$y(x,y.type,y.memoizedProps,y)),ne(a,x)}else if(y.tag===6)x=y.stateNode,d&&p&&(x=jy(x,y.memoizedProps,y)),ne(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),La(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var t_=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var x=y.stateNode;d&&p&&(x=$y(x,y.type,y.memoizedProps,y)),Gy(a,x)}else if(y.tag===6)x=y.stateNode,d&&p&&(x=jy(x,y.memoizedProps,y)),Gy(a,x);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(x=y.child)!==null&&(x.return=y),t_(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Da=function(a,l){var d=l.stateNode;if(!e_(a,l)){a=d.containerInfo;var p=zy(a);t_(p,l,!1,!1),d.pendingChildren=p,An(l),DA(a,p)}},Fu=function(a,l,d,p,y){var x=a.stateNode,C=a.memoizedProps;if((a=e_(a,l))&&C===p)l.stateNode=x;else{var I=l.stateNode,L=bn(Mr.current),G=null;C!==p&&(G=xe(I,d,C,p,y,L)),a&&G===null?l.stateNode=x:(x=LA(x,G,d,C,p,l,a,I),Se(x,d,p,y,L)&&An(l),l.stateNode=x,a?An(l):La(x,l,!1,!1))}},Lu=function(a,l,d,p){d!==p?(a=bn(uo.current),d=bn(Mr.current),l.stateNode=be(p,a,d,l),An(l)):l.stateNode=a.stateNode}}else Da=function(){},Fu=function(){},Lu=function(){};function Ba(a,l){if(!qe)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Qt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=14680064&y.subtreeFlags,p|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function SC(a,l,d){var p=l.pendingProps;switch(mf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(l),null;case 1:case 17:return pr(l.type)&&sf(),Qt(l),null;case 3:return d=l.stateNode,co(),Qe(tr),Qe(zt),Pf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(wu(l)?An(l):a===null||a.memoizedState.isDehydrated&&!(256&l.flags)||(l.flags|=1024,Jr!==null&&(lp(Jr),Jr=null))),Da(a,l),Qt(l),null;case 5:Rf(l),d=bn(uo.current);var y=l.type;if(a!==null&&l.stateNode!=null)Fu(a,l,y,p,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Qt(l),null}if(a=bn(Mr.current),wu(l)){if(!ke)throw Error(s(175));a=VA(l.stateNode,l.type,l.memoizedProps,d,a,l,!Ra),l.updateQueue=a,a!==null&&An(l)}else{var x=$(y,p,d,a,l);La(x,l,!1,!1),l.stateNode=x,Se(x,y,p,d,a)&&An(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Qt(l),null;case 6:if(a&&l.stateNode!=null)Lu(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(a=bn(uo.current),d=bn(Mr.current),wu(l)){if(!ke)throw Error(s(176));if(a=l.stateNode,d=l.memoizedProps,(p=XA(a,d,l,!Ra))&&(y=mr)!==null)switch(y.tag){case 3:tC(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:rC(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}p&&An(l)}else l.stateNode=be(p,a,d,l)}return Qt(l),null;case 13:if(Qe(at),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qe&&kr!==null&&1&l.mode&&!(128&l.flags))nv(),so(),l.flags|=98560,y=!1;else if(y=wu(l),p!==null&&p.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!ke)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));YA(y,l)}else so(),!(128&l.flags)&&(l.memoizedState=null),l.flags|=4;Qt(l),y=!1}else Jr!==null&&(lp(Jr),Jr=null),y=!0;if(!y)return 65536&l.flags?l:null}return 128&l.flags?(l.lanes=d,l):((d=p!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,1&l.mode&&(a===null||1&at.current?_t===0&&(_t=3):cp())),l.updateQueue!==null&&(l.flags|=4),Qt(l),null);case 4:return co(),Da(a,l),a===null&&Ir(l.stateNode.containerInfo),Qt(l),null;case 10:return wf(l.type._context),Qt(l),null;case 19:if(Qe(at),(y=l.memoizedState)===null)return Qt(l),null;if(p=(128&l.flags)!=0,(x=y.rendering)===null)if(p)Ba(y,!1);else{if(_t!==0||a!==null&&128&a.flags)for(a=l.child;a!==null;){if((x=Iu(a))!==null){for(l.flags|=128,Ba(y,!1),(a=x.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)y=a,(p=d).flags&=14680066,(x=p.alternate)===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,y=x.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return $e(at,1&at.current|2),l.child}a=a.sibling}y.tail!==null&&Tt()>ip&&(l.flags|=128,p=!0,Ba(y,!1),l.lanes=4194304)}else{if(!p)if((a=Iu(x))!==null){if(l.flags|=128,p=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Ba(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!qe)return Qt(l),null}else 2*Tt()-y.renderingStartTime>ip&&d!==1073741824&&(l.flags|=128,p=!0,Ba(y,!1),l.lanes=4194304);y.isBackwards?(x.sibling=l.child,l.child=x):((a=y.last)!==null?a.sibling=x:l.child=x,y.last=x)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Tt(),l.sibling=null,a=at.current,$e(at,p?1&a|2:1&a),l):(Qt(l),null);case 22:case 23:return up(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&1&l.mode?1073741824&gr&&(Qt(l),Te&&6&l.subtreeFlags&&(l.flags|=8192)):Qt(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function EC(a,l){switch(mf(l),l.tag){case 1:return pr(l.type)&&sf(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return co(),Qe(tr),Qe(zt),Pf(),65536&(a=l.flags)&&!(128&a)?(l.flags=-65537&a|128,l):null;case 5:return Rf(l),null;case 13:if(Qe(at),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));so()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return Qe(at),null;case 4:return co(),null;case 10:return wf(l.type._context),null;case 22:case 23:return up(),null;default:return null}}var Uu=!1,$t=!1,bC=typeof WeakSet=="function"?WeakSet:Set,oe=null;function fo(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){Ke(a,l,p)}else d.current=null}function r_(a,l,d){try{d()}catch(p){Ke(a,l,p)}}var n_=!1;function Ua(a,l,d){var p=l.updateQueue;if((p=p!==null?p.lastEffect:null)!==null){var y=p=p.next;do{if((y.tag&a)===a){var x=y.destroy;y.destroy=void 0,x!==void 0&&r_(l,d,x)}y=y.next}while(y!==p)}}function zu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&a)===a){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Xf(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag===5?a=ce(d):a=d,typeof l=="function"?l(a):l.current=a}}function i_(a){var l=a.alternate;l!==null&&(a.alternate=null,i_(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&Zd(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function s_(a){return a.tag===5||a.tag===3||a.tag===4}function o_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||s_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Yf(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?RA(d,a,l):EA(d,a);else if(p!==4&&(a=a.child)!==null)for(Yf(a,l,d),a=a.sibling;a!==null;)Yf(a,l,d),a=a.sibling}function Qf(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?CA(d,a,l):SA(d,a);else if(p!==4&&(a=a.child)!==null)for(Qf(a,l,d),a=a.sibling;a!==null;)Qf(a,l,d),a=a.sibling}var qt=null,Cn=!1;function Rn(a,l,d){for(d=d.child;d!==null;)qf(a,l,d),d=d.sibling}function qf(a,l,d){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(yu,d)}catch{}switch(d.tag){case 5:$t||fo(d,l);case 6:if(Te){var p=qt,y=Cn;qt=null,Rn(a,l,d),Cn=y,(qt=p)!==null&&(Cn?PA(qt,d.stateNode):IA(qt,d.stateNode))}else Rn(a,l,d);break;case 18:Te&&qt!==null&&(Cn?JA(qt,d.stateNode):ZA(qt,d.stateNode));break;case 4:Te?(p=qt,y=Cn,qt=d.stateNode.containerInfo,Cn=!0,Rn(a,l,d),qt=p,Cn=y):(He&&(p=d.stateNode.containerInfo,y=zy(p),Jd(p,y)),Rn(a,l,d));break;case 0:case 11:case 14:case 15:if(!$t&&(p=d.updateQueue)!==null&&(p=p.lastEffect)!==null){y=p=p.next;do{var x=y,C=x.destroy;x=x.tag,C!==void 0&&(2&x||4&x)&&r_(d,l,C),y=y.next}while(y!==p)}Rn(a,l,d);break;case 1:if(!$t&&(fo(d,l),typeof(p=d.stateNode).componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(I){Ke(d,l,I)}Rn(a,l,d);break;case 21:Rn(a,l,d);break;case 22:1&d.mode?($t=(p=$t)||d.memoizedState!==null,Rn(a,l,d),$t=p):Rn(a,l,d);break;default:Rn(a,l,d)}}function a_(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new bC),l.forEach(function(p){var y=NC.bind(null,a,p);d.has(p)||(d.add(p),p.then(y,y))})}}function tn(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var x=a,C=l;if(Te){var I=C;e:for(;I!==null;){switch(I.tag){case 5:qt=I.stateNode,Cn=!1;break e;case 3:case 4:qt=I.stateNode.containerInfo,Cn=!0;break e}I=I.return}if(qt===null)throw Error(s(160));qf(x,C,y),qt=null,Cn=!1}else qf(x,C,y);var L=y.alternate;L!==null&&(L.return=null),y.return=null}catch(G){Ke(y,l,G)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)l_(l,a),l=l.sibling}function l_(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(tn(l,a),In(a),4&p){try{Ua(3,a,a.return),zu(3,a)}catch(V){Ke(a,a.return,V)}try{Ua(5,a,a.return)}catch(V){Ke(a,a.return,V)}}break;case 1:tn(l,a),In(a),512&p&&d!==null&&fo(d,d.return);break;case 5:if(tn(l,a),In(a),512&p&&d!==null&&fo(d,d.return),Te){if(32&a.flags){var y=a.stateNode;try{Uy(y)}catch(V){Ke(a,a.return,V)}}if(4&p&&(y=a.stateNode)!=null){var x=a.memoizedProps;if(d=d!==null?d.memoizedProps:x,p=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{AA(y,l,p,d,x,a)}catch(V){Ke(a,a.return,V)}}}break;case 6:if(tn(l,a),In(a),4&p&&Te){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,x=a.memoizedProps,d=d!==null?d.memoizedProps:x;try{bA(y,d,x)}catch(V){Ke(a,a.return,V)}}break;case 3:if(tn(l,a),In(a),4&p){if(Te&&ke&&d!==null&&d.memoizedState.isDehydrated)try{qA(l.containerInfo)}catch(V){Ke(a,a.return,V)}if(He){y=l.containerInfo,x=l.pendingChildren;try{Jd(y,x)}catch(V){Ke(a,a.return,V)}}}break;case 4:if(tn(l,a),In(a),4&p&&He){y=(x=a.stateNode).containerInfo,x=x.pendingChildren;try{Jd(y,x)}catch(V){Ke(a,a.return,V)}}break;case 13:tn(l,a),In(a),8192&(y=a.child).flags&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(np=Tt())),4&p&&a_(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?($t=(d=$t)||C,tn(l,a),$t=d):tn(l,a),In(a),8192&p){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(oe=a,p=a.child;p!==null;){for(l=oe=p;oe!==null;){var I=(C=oe).child;switch(C.tag){case 0:case 11:case 14:case 15:Ua(4,C,C.return);break;case 1:fo(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){var G=C,X=C.return;try{var re=G;L.props=re.memoizedProps,L.state=re.memoizedState,L.componentWillUnmount()}catch(V){Ke(G,X,V)}}break;case 5:fo(C,C.return);break;case 22:if(C.memoizedState!==null){h_(l);continue}}I!==null?(I.return=C,oe=I):h_(l)}p=p.sibling}if(Te){e:if(p=null,Te)for(l=a;;){if(l.tag===5){if(p===null){p=l;try{y=l.stateNode,d?NA(y):OA(l.stateNode,l.memoizedProps)}catch(V){Ke(a,a.return,V)}}}else if(l.tag===6){if(p===null)try{x=l.stateNode,d?kA(x):MA(x,l.memoizedProps)}catch(V){Ke(a,a.return,V)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:tn(l,a),In(a),4&p&&a_(a);break;case 21:break;default:tn(l,a),In(a)}}function In(a){var l=a.flags;if(2&l){try{if(Te){e:{for(var d=a.return;d!==null;){if(s_(d)){var p=d;break e}d=d.return}throw Error(s(160))}switch(p.tag){case 5:var y=p.stateNode;32&p.flags&&(Uy(y),p.flags&=-33),Qf(a,o_(a),y);break;case 3:case 4:var x=p.stateNode.containerInfo;Yf(a,o_(a),x);break;default:throw Error(s(161))}}}catch(C){Ke(a,a.return,C)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function TC(a,l,d){oe=a,u_(a)}function u_(a,l,d){for(var p=(1&a.mode)!=0;oe!==null;){var y=oe,x=y.child;if(y.tag===22&&p){var C=y.memoizedState!==null||Uu;if(!C){var I=y.alternate,L=I!==null&&I.memoizedState!==null||$t;I=Uu;var G=$t;if(Uu=C,($t=L)&&!G)for(oe=y;oe!==null;)L=(C=oe).child,C.tag===22&&C.memoizedState!==null?d_(y):L!==null?(L.return=C,oe=L):d_(y);for(;x!==null;)oe=x,u_(x),x=x.sibling;oe=y,Uu=I,$t=G}c_(a)}else 8772&y.subtreeFlags&&x!==null?(x.return=y,oe=x):c_(a)}}function c_(a){for(;oe!==null;){var l=oe;if(8772&l.flags){var d=l.alternate;try{if(8772&l.flags)switch(l.tag){case 0:case 11:case 15:$t||zu(5,l);break;case 1:var p=l.stateNode;if(4&l.flags&&!$t)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:en(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&lv(l,x,p);break;case 3:var C=l.updateQueue;if(C!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=ce(l.child.stateNode);break;case 1:d=l.child.stateNode}lv(l,C,d)}break;case 5:var I=l.stateNode;d===null&&4&l.flags&&TA(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ke&&l.memoizedState===null){var L=l.alternate;if(L!==null){var G=L.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&KA(X)}}}break;default:throw Error(s(163))}$t||512&l.flags&&Xf(l)}catch(re){Ke(l,l.return,re)}}if(l===a){oe=null;break}if((d=l.sibling)!==null){d.return=l.return,oe=d;break}oe=l.return}}function h_(a){for(;oe!==null;){var l=oe;if(l===a){oe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,oe=d;break}oe=l.return}}function d_(a){for(;oe!==null;){var l=oe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{zu(4,l)}catch(L){Ke(l,d,L)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(L){Ke(l,y,L)}}var x=l.return;try{Xf(l)}catch(L){Ke(l,x,L)}break;case 5:var C=l.return;try{Xf(l)}catch(L){Ke(l,C,L)}}}catch(L){Ke(l,l.return,L)}if(l===a){oe=null;break}var I=l.sibling;if(I!==null){I.return=l.return,oe=I;break}oe=l.return}}var Gu=0,$u=1,ju=2,Hu=3,Wu=4;if(typeof Symbol=="function"&&Symbol.for){var za=Symbol.for;Gu=za("selector.component"),$u=za("selector.has_pseudo_class"),ju=za("selector.role"),Hu=za("selector.test_id"),Wu=za("selector.text")}function Kf(a){var l=Rr(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=gA(a))===null)throw Error(s(362));return a.stateNode.current}function Zf(a,l){switch(l.$$typeof){case Gu:if(a.type===l.value)return!0;break;case $u:e:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var p=a[d++],y=a[d++],x=l[y];if(p.tag!==5||!ba(p)){for(;x!=null&&Zf(p,x);)x=l[++y];if(y===l.length){l=!0;break e}for(p=p.child;p!==null;)a.push(p,y),p=p.sibling}}l=!1}return l;case ju:if(a.tag===5&&_A(a.stateNode,l.value))return!0;break;case Wu:if((a.tag===5||a.tag===6)&&(a=vA(a))!==null&&0<=a.indexOf(l.value))return!0;break;case Hu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Jf(a){switch(a.$$typeof){case Gu:return"<"+(D(a.value)||"Unknown")+">";case $u:return":has("+(Jf(a)||"")+")";case ju:return'[role="'+a.value+'"]';case Wu:return'"'+a.value+'"';case Hu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function f_(a,l){var d=[];a=[a,0];for(var p=0;p<a.length;){var y=a[p++],x=a[p++],C=l[x];if(y.tag!==5||!ba(y)){for(;C!=null&&Zf(y,C);)C=l[++x];if(x===l.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,x),y=y.sibling}}return d}function ep(a,l){if(!Ea)throw Error(s(363));a=f_(a=Kf(a),l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var p=a[d++];if(p.tag===5)ba(p)||l.push(p.stateNode);else for(p=p.child;p!==null;)a.push(p),p=p.sibling}return l}var AC=Math.ceil,Vu=o.ReactCurrentDispatcher,tp=o.ReactCurrentOwner,dt=o.ReactCurrentBatchConfig,Ie=0,Rt=null,gt=null,Mt=0,gr=0,po=_i(0),_t=0,Ga=null,ps=0,Xu=0,rp=0,$a=null,yr=null,np=0,ip=1/0,Ei=null;function mo(){ip=Tt()+500}var p_,Yu=!1,sp=null,bi=null,Qu=!1,Ti=null,qu=0,ja=0,op=null,Ku=-1,Zu=0;function jt(){return 6&Ie?Tt():Ku!==-1?Ku:Ku=Tt()}function Ai(a){return 1&a.mode?2&Ie&&Mt!==0?Mt&-Mt:hC.transition!==null?(Zu===0&&(Zu=Yy()),Zu):(a=Oe)!==0?a:ls():1}function Lr(a,l,d,p){if(50<ja)throw ja=0,op=null,Error(s(185));Ca(a,d,p),2&Ie&&a===Rt||(a===Rt&&(!(2&Ie)&&(Xu|=d),_t===4&&Ci(a,Mt)),ir(a,p),d===1&&Ie===0&&!(1&l.mode)&&(mo(),vu&&wn()))}function ir(a,l){var d=a.callbackNode;(function(y,x){for(var C=y.suspendedLanes,I=y.pingedLanes,L=y.expirationTimes,G=y.pendingLanes;0<G;){var X=31-Kr(G),re=1<<X,V=L[X];V===-1?re&C&&!(re&I)||(L[X]=oC(re,x)):V<=x&&(y.expiredLanes|=re),G&=~re}})(a,l);var p=gu(a,a===Rt?Mt:0);if(p===0)d!==null&&qy(d),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(d!=null&&qy(d),l===1)a.tag===0?function(y){vu=!0,Zy(y)}(g_.bind(null,a)):Zy(g_.bind(null,a)),eo?mA(function(){!(6&Ie)&&wn()}):hf(df,wn),d=null;else{switch(Qy(p)){case 1:d=df;break;case 4:d=uC;break;case 16:default:d=Ky;break;case 536870912:d=cC}d=b_(d,m_.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function m_(a,l){if(Ku=-1,Zu=0,(6&Ie)!=0)throw Error(s(327));var d=a.callbackNode;if(gs()&&a.callbackNode!==d)return null;var p=gu(a,a===Rt?Mt:0);if(p===0)return null;if(30&p||p&a.expiredLanes||l)l=Ju(a,p);else{l=p;var y=Ie;Ie|=2;var x=__();for(Rt===a&&Mt===l||(Ei=null,mo(),ms(a,l));;)try{RC();break}catch(I){v_(a,I)}xf(),Vu.current=x,Ie=y,gt!==null?l=0:(Rt=null,Mt=0,l=_t)}if(l!==0){if(l===2&&(y=lf(a))!==0&&(p=y,l=ap(a,y)),l===1)throw d=Ga,ms(a,0),Ci(a,p),ir(a,Tt()),d;if(l===6)Ci(a,p);else{if(y=a.current.alternate,(30&p)==0&&!function(I){for(var L=I;;){if(16384&L.flags){var G=L.updateQueue;if(G!==null&&(G=G.stores)!==null)for(var X=0;X<G.length;X++){var re=G[X],V=re.getSnapshot;re=re.value;try{if(!Zr(V(),re))return!1}catch{return!1}}}if(G=L.child,16384&L.subtreeFlags&&G!==null)G.return=L,L=G;else{if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return!0;L=L.return}L.sibling.return=L.return,L=L.sibling}}return!0}(y)&&((l=Ju(a,p))===2&&(x=lf(a))!==0&&(p=x,l=ap(a,x)),l===1))throw d=Ga,ms(a,0),Ci(a,p),ir(a,Tt()),d;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(s(345));case 2:case 5:go(a,yr,Ei);break;case 3:if(Ci(a,p),(130023424&p)===p&&10<(l=np+500-Tt())){if(gu(a,0)!==0)break;if(((y=a.suspendedLanes)&p)!==p){jt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Le(go.bind(null,a,yr,Ei),l);break}go(a,yr,Ei);break;case 4:if(Ci(a,p),(4194240&p)===p)break;for(l=a.eventTimes,y=-1;0<p;){var C=31-Kr(p);x=1<<C,(C=l[C])>y&&(y=C),p&=~x}if(p=y,10<(p=(120>(p=Tt()-p)?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*AC(p/1960))-p)){a.timeoutHandle=Le(go.bind(null,a,yr,Ei),p);break}go(a,yr,Ei);break;default:throw Error(s(329))}}}return ir(a,Tt()),a.callbackNode===d?m_.bind(null,a):null}function ap(a,l){var d=$a;return a.current.memoizedState.isDehydrated&&(ms(a,l).flags|=256),(a=Ju(a,l))!==2&&(l=yr,yr=d,l!==null&&lp(l)),a}function lp(a){yr===null?yr=a:yr.push.apply(yr,a)}function Ci(a,l){for(l&=~rp,l&=~Xu,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Kr(l),p=1<<d;a[d]=-1,l&=~p}}function g_(a){if(6&Ie)throw Error(s(327));gs();var l=gu(a,0);if(!(1&l))return ir(a,Tt()),null;var d=Ju(a,l);if(a.tag!==0&&d===2){var p=lf(a);p!==0&&(l=p,d=ap(a,p))}if(d===1)throw d=Ga,ms(a,0),Ci(a,l),ir(a,Tt()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,go(a,yr,Ei),ir(a,Tt()),null}function y_(a){Ti!==null&&Ti.tag===0&&!(6&Ie)&&gs();var l=Ie;Ie|=1;var d=dt.transition,p=Oe;try{if(dt.transition=null,Oe=1,a)return a()}finally{Oe=p,dt.transition=d,!(6&(Ie=l))&&wn()}}function up(){gr=po.current,Qe(po)}function ms(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Ot&&(a.timeoutHandle=Ot,bt(d)),gt!==null)for(d=gt.return;d!==null;){var p=d;switch(mf(p),p.tag){case 1:(p=p.type.childContextTypes)!=null&&sf();break;case 3:co(),Qe(tr),Qe(zt),Pf();break;case 5:Rf(p);break;case 4:co();break;case 13:case 19:Qe(at);break;case 10:wf(p.type._context);break;case 22:case 23:up()}d=d.return}if(Rt=a,gt=a=Ri(a.current,null),Mt=gr=l,_t=0,Ga=null,rp=Xu=ps=0,yr=$a=null,ds!==null){for(l=0;l<ds.length;l++)if((p=(d=ds[l]).interleaved)!==null){d.interleaved=null;var y=p.next,x=d.pending;if(x!==null){var C=x.next;x.next=y,p.next=C}d.pending=p}ds=null}return a}function v_(a,l){for(;;){var d=gt;try{if(xf(),Pu.current=Mu,Nu){for(var p=Je.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Nu=!1}if(fs=0,Ct=At=Je=null,ka=!1,Oa=0,tp.current=null,d===null||d.return===null){_t=1,Ga=l,gt=null;break}e:{var x=a,C=d.return,I=d,L=l;if(l=Mt,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,X=I,re=X.tag;if(!(1&X.mode)&&(re===0||re===11||re===15)){var V=X.alternate;V?(X.updateQueue=V.updateQueue,X.memoizedState=V.memoizedState,X.lanes=V.lanes):(X.updateQueue=null,X.memoizedState=null)}var Z=Gv(C);if(Z!==null){Z.flags&=-257,$v(Z,C,I,0,l),1&Z.mode&&zv(x,G,l),L=G;var he=(l=Z).updateQueue;if(he===null){var Ee=new Set;Ee.add(L),l.updateQueue=Ee}else he.add(L);break e}if(!(1&l)){zv(x,G,l),cp();break e}L=Error(s(426))}else if(qe&&1&I.mode){var Y=Gv(C);if(Y!==null){!(65536&Y.flags)&&(Y.flags|=256),$v(Y,C,I,0,l),vf(ho(L,I));break e}}x=L=ho(L,I),_t!==4&&(_t=2),$a===null?$a=[x]:$a.push(x),x=C;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l,av(x,Bv(0,L,l));break e;case 1:I=L;var O=x.type,z=x.stateNode;if(!(128&x.flags)&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(bi===null||!bi.has(z)))){x.flags|=65536,l&=-l,x.lanes|=l,av(x,Uv(x,I,l));break e}}x=x.return}while(x!==null)}w_(d)}catch(q){l=q,gt===d&&d!==null&&(gt=d=d.return);continue}break}}function __(){var a=Vu.current;return Vu.current=Mu,a===null?Mu:a}function cp(){_t!==0&&_t!==3&&_t!==2||(_t=4),Rt===null||!(268435455&ps)&&!(268435455&Xu)||Ci(Rt,Mt)}function Ju(a,l){var d=Ie;Ie|=2;var p=__();for(Rt===a&&Mt===l||(Ei=null,ms(a,l));;)try{CC();break}catch(y){v_(a,y)}if(xf(),Ie=d,Vu.current=p,gt!==null)throw Error(s(261));return Rt=null,Mt=0,_t}function CC(){for(;gt!==null;)x_(gt)}function RC(){for(;gt!==null&&!aC();)x_(gt)}function x_(a){var l=p_(a.alternate,a,gr);a.memoizedProps=a.pendingProps,l===null?w_(a):gt=l,tp.current=null}function w_(a){var l=a;do{var d=l.alternate;if(a=l.return,(32768&l.flags)==0){if((d=SC(d,l,gr))!==null)return void(gt=d)}else{if((d=EC(d,l))!==null)return d.flags&=32767,void(gt=d);if(a===null)return _t=6,void(gt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(gt=l);gt=l=a}while(l!==null);_t===0&&(_t=5)}function go(a,l,d){var p=Oe,y=dt.transition;try{dt.transition=null,Oe=1,function(x,C,I,L){do gs();while(Ti!==null);if(6&Ie)throw Error(s(327));I=x.finishedWork;var G=x.finishedLanes;if(I===null)return null;if(x.finishedWork=null,x.finishedLanes=0,I===x.current)throw Error(s(177));x.callbackNode=null,x.callbackPriority=0;var X=I.lanes|I.childLanes;if(function(Z,he){var Ee=Z.pendingLanes&~he;Z.pendingLanes=he,Z.suspendedLanes=0,Z.pingedLanes=0,Z.expiredLanes&=he,Z.mutableReadLanes&=he,Z.entangledLanes&=he,he=Z.entanglements;var Y=Z.eventTimes;for(Z=Z.expirationTimes;0<Ee;){var O=31-Kr(Ee),z=1<<O;he[O]=0,Y[O]=-1,Z[O]=-1,Ee&=~z}}(x,X),x===Rt&&(gt=Rt=null,Mt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Qu||(Qu=!0,b_(Ky,function(){return gs(),null})),X=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||X){X=dt.transition,dt.transition=null;var re=Oe;Oe=1;var V=Ie;Ie|=4,tp.current=null,function(Z,he){for(W(Z.containerInfo),oe=he;oe!==null;)if(he=(Z=oe).child,(1028&Z.subtreeFlags)!=0&&he!==null)he.return=Z,oe=he;else for(;oe!==null;){Z=oe;try{var Ee=Z.alternate;if(1024&Z.flags)switch(Z.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ee!==null){var Y=Ee.memoizedProps,O=Ee.memoizedState,z=Z.stateNode,q=z.getSnapshotBeforeUpdate(Z.elementType===Z.type?Y:en(Z.type,Y),O);z.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Te&&FA(Z.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(me){Ke(Z,Z.return,me)}if((he=Z.sibling)!==null){he.return=Z.return,oe=he;break}oe=Z.return}Ee=n_,n_=!1}(x,I),l_(I,x),F(x.containerInfo),x.current=I,TC(I),lC(),Ie=V,Oe=re,dt.transition=X}else x.current=I;if(Qu&&(Qu=!1,Ti=x,qu=G),X=x.pendingLanes,X===0&&(bi=null),function(Z){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(yu,Z,void 0,(128&Z.current.flags)==128)}catch{}}(I.stateNode),ir(x,Tt()),C!==null)for(L=x.onRecoverableError,I=0;I<C.length;I++)G=C[I],L(G.value,{componentStack:G.stack,digest:G.digest});if(Yu)throw Yu=!1,x=sp,sp=null,x;1&qu&&x.tag!==0&&gs(),X=x.pendingLanes,1&X?x===op?ja++:(ja=0,op=x):ja=0,wn()}(a,l,d,p)}finally{dt.transition=y,Oe=p}return null}function gs(){if(Ti!==null){var a=Qy(qu),l=dt.transition,d=Oe;try{if(dt.transition=null,Oe=16>a?16:a,Ti===null)var p=!1;else{if(a=Ti,Ti=null,qu=0,(6&Ie)!=0)throw Error(s(331));var y=Ie;for(Ie|=4,oe=a.current;oe!==null;){var x=oe,C=x.child;if(16&oe.flags){var I=x.deletions;if(I!==null){for(var L=0;L<I.length;L++){var G=I[L];for(oe=G;oe!==null;){var X=oe;switch(X.tag){case 0:case 11:case 15:Ua(8,X,x)}var re=X.child;if(re!==null)re.return=X,oe=re;else for(;oe!==null;){var V=(X=oe).sibling,Z=X.return;if(i_(X),X===G){oe=null;break}if(V!==null){V.return=Z,oe=V;break}oe=Z}}}var he=x.alternate;if(he!==null){var Ee=he.child;if(Ee!==null){he.child=null;do{var Y=Ee.sibling;Ee.sibling=null,Ee=Y}while(Ee!==null)}}oe=x}}if(2064&x.subtreeFlags&&C!==null)C.return=x,oe=C;else e:for(;oe!==null;){if(2048&(x=oe).flags)switch(x.tag){case 0:case 11:case 15:Ua(9,x,x.return)}var O=x.sibling;if(O!==null){O.return=x.return,oe=O;break e}oe=x.return}}var z=a.current;for(oe=z;oe!==null;){var q=(C=oe).child;if(2064&C.subtreeFlags&&q!==null)q.return=C,oe=q;else e:for(C=z;oe!==null;){if(2048&(I=oe).flags)try{switch(I.tag){case 0:case 11:case 15:zu(9,I)}}catch(Ue){Ke(I,I.return,Ue)}if(I===C){oe=null;break e}var me=I.sibling;if(me!==null){me.return=I.return,oe=me;break e}oe=I.return}}if(Ie=y,wn(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(yu,a)}catch{}p=!0}return p}finally{Oe=d,dt.transition=l}}return!1}function S_(a,l,d){a=Si(a,l=Bv(0,l=ho(d,l),1),1),l=jt(),a!==null&&(Ca(a,1,l),ir(a,l))}function Ke(a,l,d){if(a.tag===3)S_(a,a,d);else for(;l!==null;){if(l.tag===3){S_(l,a,d);break}if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(bi===null||!bi.has(p))){l=Si(l,a=Uv(l,a=ho(d,a),1),1),a=jt(),l!==null&&(Ca(l,1,a),ir(l,a));break}}l=l.return}}function IC(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),l=jt(),a.pingedLanes|=a.suspendedLanes&d,Rt===a&&(Mt&d)===d&&(_t===4||_t===3&&(130023424&Mt)===Mt&&500>Tt()-np?ms(a,0):rp|=d),ir(a,l)}function E_(a,l){l===0&&(1&a.mode?(l=af,!(130023424&(af<<=1))&&(af=4194304)):l=1);var d=jt();(a=En(a,l))!==null&&(Ca(a,l,d),ir(a,d))}function PC(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),E_(a,d)}function NC(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(l),E_(a,d)}function b_(a,l){return hf(a,l)}function kC(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(a,l,d,p){return new kC(a,l,d,p)}function hp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ri(a,l){var d=a.alternate;return d===null?((d=Dr(a.tag,l,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function ec(a,l,d,p,y,x){var C=2;if(p=a,typeof a=="function")hp(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case h:return ys(d.children,y,x,l);case f:C=8,y|=8;break;case g:return(a=Dr(12,d,l,2|y)).elementType=g,a.lanes=x,a;case b:return(a=Dr(13,d,l,y)).elementType=b,a.lanes=x,a;case T:return(a=Dr(19,d,l,y)).elementType=T,a.lanes=x,a;case w:return tc(d,y,x,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:C=10;break e;case v:C=9;break e;case _:C=11;break e;case S:C=14;break e;case E:C=16,p=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(l=Dr(C,d,l,y)).elementType=a,l.type=p,l.lanes=x,l}function ys(a,l,d,p){return(a=Dr(7,a,p,l)).lanes=d,a}function tc(a,l,d,p){return(a=Dr(22,a,p,l)).elementType=w,a.lanes=d,a.stateNode={isHidden:!1},a}function dp(a,l,d){return(a=Dr(6,a,null,l)).lanes=d,a}function fp(a,l,d){return(l=Dr(4,a.children!==null?a.children:[],a.key,l)).lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function OC(a,l,d,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ot,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uf(0),this.expirationTimes=uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.identifierPrefix=p,this.onRecoverableError=y,ke&&(this.mutableSourceEagerHydrationData=null)}function T_(a,l,d,p,y,x,C,I,L){return a=new OC(a,l,d,I,L),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Dr(3,null,null,l),a.current=x,x.stateNode=a,x.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},bf(x),a}function A_(a){if(!a)return xi;e:{if(P(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(pr(d))return Vy(a,d,l)}return l}function C_(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=Q(l))===null?null:a.stateNode}function R_(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function rc(a,l){R_(a,l),(a=a.alternate)&&R_(a,l)}function MC(a){return(a=Q(a))===null?null:a.stateNode}function FC(){return null}return p_=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||tr.current)rr=!0;else{if(!(a.lanes&d)&&!(128&l.flags))return rr=!1,function(re,V,Z){switch(V.tag){case 3:Qv(V),so();break;case 5:gv(V);break;case 1:pr(V.type)&&mu(V);break;case 4:Cf(V,V.stateNode.containerInfo);break;case 10:iv(0,V.type._context,V.memoizedProps.value);break;case 13:var he=V.memoizedState;if(he!==null)return he.dehydrated!==null?($e(at,1&at.current),V.flags|=128,null):Z&V.child.childLanes?Kv(re,V,Z):($e(at,1&at.current),(re=Kn(re,V,Z))!==null?re.sibling:null);$e(at,1&at.current);break;case 19:if(he=(Z&V.childLanes)!=0,(128&re.flags)!=0){if(he)return Jv(re,V,Z);V.flags|=128}var Ee=V.memoizedState;if(Ee!==null&&(Ee.rendering=null,Ee.tail=null,Ee.lastEffect=null),$e(at,at.current),he)break;return null;case 22:case 23:return V.lanes=0,Vv(re,V,Z)}return Kn(re,V,Z)}(a,l,d);rr=(131072&a.flags)!=0}else rr=!1,qe&&1048576&l.flags&&Jy(l,xu,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Bu(a,l),a=l.pendingProps;var y=ro(l,zt.current);ao(l,d),y=Of(null,l,p,a,y,d);var x=Mf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,pr(p)?(x=!0,mu(l)):x=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,bf(l),y.updater=Cu,l.stateNode=y,y._reactInternals=l,Af(l,p,a,d),l=$f(null,l,p,!0,x,d)):(l.tag=0,qe&&x&&pf(l),nr(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(Bu(a,l),a=l.pendingProps,p=(y=p._init)(p._payload),l.type=p,y=l.tag=function(re){if(typeof re=="function")return hp(re)?1:0;if(re!=null){if((re=re.$$typeof)===_)return 11;if(re===S)return 14}return 2}(p),a=en(p,a),y){case 0:l=Gf(null,l,p,a,d);break e;case 1:l=Yv(null,l,p,a,d);break e;case 11:l=jv(null,l,p,a,d);break e;case 14:l=Hv(null,l,p,en(p.type,a),d);break e}throw Error(s(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,Gf(a,l,p,y=l.elementType===p?y:en(p,y),d);case 1:return p=l.type,y=l.pendingProps,Yv(a,l,p,y=l.elementType===p?y:en(p,y),d);case 3:e:{if(Qv(l),a===null)throw Error(s(387));p=l.pendingProps,y=(x=l.memoizedState).element,ov(a,l),Au(l,p,null,d);var C=l.memoizedState;if(p=C.element,ke&&x.isDehydrated){if(x={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=x,l.memoizedState=x,256&l.flags){l=qv(a,l,p,d,y=ho(Error(s(423)),l));break e}if(p!==y){l=qv(a,l,p,d,y=ho(Error(s(424)),l));break e}for(ke&&(kr=HA(l.stateNode.containerInfo),mr=l,qe=!0,Jr=null,Ra=!1),d=mv(l,null,p,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(so(),p===y){l=Kn(a,l,d);break e}nr(a,l,p,d)}l=l.child}return l;case 5:return gv(l),a===null&&yf(l),p=l.type,y=l.pendingProps,x=a!==null?a.memoizedProps:null,C=y.children,Be(p,y)?C=null:x!==null&&Be(p,x)&&(l.flags|=32),Xv(a,l),nr(a,l,C,d),l.child;case 6:return a===null&&yf(l),null;case 13:return Kv(a,l,d);case 4:return Cf(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=lo(l,null,p,d):nr(a,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,jv(a,l,p,y=l.elementType===p?y:en(p,y),d);case 7:return nr(a,l,l.pendingProps,d),l.child;case 8:case 12:return nr(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,x=l.memoizedProps,iv(0,p,C=y.value),x!==null)if(Zr(x.value,C)){if(x.children===y.children&&!tr.current){l=Kn(a,l,d);break e}}else for((x=l.child)!==null&&(x.return=l);x!==null;){var I=x.dependencies;if(I!==null){C=x.child;for(var L=I.firstContext;L!==null;){if(L.context===p){if(x.tag===1){(L=qn(-1,d&-d)).tag=2;var G=x.updateQueue;if(G!==null){var X=(G=G.shared).pending;X===null?L.next=L:(L.next=X.next,X.next=L),G.pending=L}}x.lanes|=d,(L=x.alternate)!==null&&(L.lanes|=d),Sf(x.return,d,l),I.lanes|=d;break}L=L.next}}else if(x.tag===10)C=x.type===l.type?null:x.child;else if(x.tag===18){if((C=x.return)===null)throw Error(s(341));C.lanes|=d,(I=C.alternate)!==null&&(I.lanes|=d),Sf(C,d,l),C=x.sibling}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===l){C=null;break}if((x=C.sibling)!==null){x.return=C.return,C=x;break}C=C.return}x=C}nr(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,ao(l,d),p=p(y=Or(y)),l.flags|=1,nr(a,l,p,d),l.child;case 14:return y=en(p=l.type,l.pendingProps),Hv(a,l,p,y=en(p.type,y),d);case 15:return Wv(a,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:en(p,y),Bu(a,l),l.tag=1,pr(p)?(a=!0,mu(l)):a=!1,ao(l,d),hv(l,p,y),Af(l,p,y,d),$f(null,l,p,!0,a,d);case 19:return Jv(a,l,d);case 22:return Vv(a,l,d)}throw Error(s(156,l.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var l=En(a,134217728);l!==null&&Lr(l,a,134217728,jt()),rc(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var l=En(a,1);l!==null&&Lr(l,a,1,jt()),rc(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Ai(a),d=En(a,l);d!==null&&Lr(d,a,l,jt()),rc(a,l)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Aa(l.pendingLanes);d!==0&&(cf(l,1|d),ir(l,Tt()),!(6&Ie)&&(mo(),wn()))}break;case 13:y_(function(){var p=En(a,1);if(p!==null){var y=jt();Lr(p,a,1,y)}}),rc(a,1)}},e.batchedUpdates=function(a,l){var d=Ie;Ie|=1;try{return a(l)}finally{(Ie=d)===0&&(mo(),vu&&wn())}},e.createComponentSelector=function(a){return{$$typeof:Gu,value:a}},e.createContainer=function(a,l,d,p,y,x,C){return T_(a,l,!1,null,0,p,0,x,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:$u,value:a}},e.createHydrationContainer=function(a,l,d,p,y,x,C,I,L){return(a=T_(d,p,!0,a,0,x,0,I,L)).context=A_(null),d=a.current,(x=qn(p=jt(),y=Ai(d))).callback=l??null,Si(d,x,y),a.current.lanes=y,Ca(a,y,p),ir(a,p),a},e.createPortal=function(a,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:p==null?null:""+p,children:a,containerInfo:l,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:ju,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Hu,value:a}},e.createTextSelector=function(a){return{$$typeof:Wu,value:a}},e.deferredUpdates=function(a){var l=Oe,d=dt.transition;try{return dt.transition=null,Oe=16,a()}finally{Oe=l,dt.transition=d}},e.discreteUpdates=function(a,l,d,p,y){var x=Oe,C=dt.transition;try{return dt.transition=null,Oe=1,a(l,d,p,y)}finally{Oe=x,dt.transition=C,Ie===0&&mo()}},e.findAllNodes=ep,e.findBoundingRects=function(a,l){if(!Ea)throw Error(s(363));l=ep(a,l),a=[];for(var d=0;d<l.length;d++)a.push(yA(l[d]));for(l=a.length-1;0<l;l--)for(var p=(d=a[l]).x,y=p+d.width,x=d.y,C=x+d.height,I=l-1;0<=I;I--)if(l!==I){var L=a[I],G=L.x,X=G+L.width,re=L.y,V=re+L.height;if(p>=G&&x>=re&&y<=X&&C<=V){a.splice(l,1);break}if(!(p!==G||d.width!==L.width||V<x||re>C)){re>x&&(L.height+=re-x,L.y=x),V<C&&(L.height=C-re),a.splice(l,1);break}if(!(x!==re||d.height!==L.height||X<p||G>y)){G>p&&(L.width+=G-p,L.x=p),X<y&&(L.width=y-G),a.splice(l,1);break}}return a},e.findHostInstance=C_,e.findHostInstanceWithNoPortals=function(a){return(a=(a=B(a))!==null?M(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return C_(a)},e.flushControlled=function(a){var l=Ie;Ie|=1;var d=dt.transition,p=Oe;try{dt.transition=null,Oe=1,a()}finally{Oe=p,dt.transition=d,(Ie=l)===0&&(mo(),wn())}},e.flushPassiveEffects=gs,e.flushSync=y_,e.focusWithin=function(a,l){if(!Ea)throw Error(s(363));for(l=f_(a=Kf(a),l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!ba(d)){if(d.tag===5&&xA(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Oe},e.getFindAllNodesFailureDescription=function(a,l){if(!Ea)throw Error(s(363));var d=0,p=[];a=[Kf(a),0];for(var y=0;y<a.length;){var x=a[y++],C=a[y++],I=l[C];if((x.tag!==5||!ba(x))&&(Zf(x,I)&&(p.push(Jf(I)),++C>d&&(d=C)),C<l.length))for(x=x.child;x!==null;)a.push(x,C),x=x.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(Jf(l[d]));return`findAllNodes was able to match part of the selector:
  `+p.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ce(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:MC,findFiberByHostInstance:a.findFiberByHostInstance||FC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{yu=l.inject(a),xn=l}catch{}a=!!l.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,l,d,p){if(!Ea)throw Error(s(363));a=ep(a,l);var y=wA(a,d,p).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},e.runWithPriority=function(a,l){var d=Oe;try{return Oe=a,l()}finally{Oe=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,l,d,p){var y=l.current,x=jt(),C=Ai(y);return d=A_(d),l.context===null?l.context=d:l.pendingContext=d,(l=qn(x,C)).payload={element:a},(p=p===void 0?null:p)!==null&&(l.callback=p),(a=Si(y,l,C))!==null&&(Lr(a,y,C,x),Tu(a,y,C)),C},e}),Pw}({get exports(){return w0},set exports(t){w0=t}}).exports=m3();var g3=$L(w0),oA={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},E0={},jc={get exports(){return E0},set exports(t){E0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?jc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(jc.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(jc.exports=function(){return Date.now()-r},r=Date.now()):(jc.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(GL);var Ow,Xo={},xs={};({get exports(){return Xo},set exports(t){Xo=t}}).exports=(Ow||(Ow=1,xs.ConcurrentRoot=1,xs.ContinuousEventPriority=4,xs.DefaultEventPriority=16,xs.DiscreteEventPriority=1,xs.IdleEventPriority=536870912,xs.LegacyRoot=0),xs);var y3={};function Lm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function aA(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&yi(t.children).forEach(function(s){aA(s,t)})}function Mw(t,e){var r;aA(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,g=f!==void 0&&f;s&&e.destroy({children:u,texture:h,baseTexture:g})}function Fw(t,e,r){var n,i;ht(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Lw=null,dn=g3({getRootHostContext:function(){return y3},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Xo.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Xo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Xo.ContinuousEventPriority;default:return Xo.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=h3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=sA[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Vn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Lw=function(o,u,c,h){var f=null;for(var g in c)!h.hasOwnProperty(g)&&c.hasOwnProperty(g)&&c[g]!==null&&(g===_0||(f||(f=[]),f.push(g,null)));for(var m in h){var v=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||v===_||v===null&&_===null||m===_0||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){ht(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:E0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Lm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Mw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Mw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Fw,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fw.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,u=t&&t.applyProps;typeof u!="function"&&(u=Vn),(u(t,n,i)||Lw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),v3=oA.dependencies["react-dom"].replace(/[^0-9.]/g,""),_3=oA.name;dn.injectIntoDevTools({bundleType:0,version:v3,rendererPackageName:_3,findHostInstanceByFiber:dn.findHostInstance});var Ki=new Map;function lA(t){if(ht(Tr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),Ki.has(t)){var e=Ki.get(t).pixiFiberContainer;dn.updateContainer(null,e,void 0,function(){Ki.delete(t)})}}function uA(t){ht(Tr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=Ki.get(t);if(ht(!e,"createRoot should only be called once"),!e){var r=dn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return dn.updateContainer(n,r,void 0),dn.getPublicRootInstance(r)},unmount:function(){lA(t),Ki.delete(t)}}},Ki.set(t,e)}return e.reactRoot}function x3(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ki.has(e)?n=Ki.get(e).reactRoot:n=uA(e),n.render(t)}function w3(t){lA(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function S3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rA(n.key),n)}}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hd(t,e){return hd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},hd(t,e)}function b3(t,e){if(e&&(Er(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(t)}var Kd=Vr.createContext(null),cA=Kd.Provider,hA=Kd.Consumer,T3=function(t){var e=Vr.forwardRef(function(r,n){return Vr.createElement(hA,null,function(i){return Vr.createElement(t,su({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function A3(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=dd(t);if(e){var i=dd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b3(this,r)}}function Dw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bw=function(){},dA={width:Ve.number,height:Ve.number,onMount:Ve.func,onUnmount:Ve.func,raf:Ve.bool,renderOnComponentChange:Ve.bool,children:Ve.node,options:Ve.shape({autoStart:Ve.bool,width:Ve.number,height:Ve.number,useContextAlpha:Ve.bool,backgroundAlpha:Ve.number,autoDensity:Ve.bool,antialias:Ve.bool,preserveDrawingBuffer:Ve.bool,resolution:Ve.number,forceCanvas:Ve.bool,backgroundColor:Ve.number,clearBeforeRender:Ve.bool,powerPreference:Ve.string,sharedTicker:Ve.bool,sharedLoader:Ve.bool,resizeTo:function(t,e){var r=t[e];r&&ht(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Er(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&ht(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Er(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},C3={width:800,height:600,onMount:Bw,onUnmount:Bw,raf:!0,renderOnComponentChange:!0},b0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&hd(s,o)})(i,Vr.Component);var e,r,n=A3(i);function i(){var s;S3(this,i);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return ft(ei(s=n.call.apply(n,[this].concat(u))),"_canvas",null),ft(ei(s),"_mediaQuery",null),ft(ei(s),"_ticker",null),ft(ei(s),"_needsUpdate",!0),ft(ei(s),"app",null),ft(ei(s),"updateSize",function(){var h=s.props,f=h.width,g=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,g)}),ft(ei(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ft(ei(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,c=s.height,h=s.options,f=s.raf,g=s.renderOnComponentChange;this.app=new qd(Hc(Hc({width:u,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=dn.createContainer(this.app.stage),dn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),g&&!f&&(this._ticker=new wr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var c,h=this.props,f=h.width,g=h.height,m=h.raf,v=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===g&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),dn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===g&&s.raf===m&&s.renderOnComponentChange===v&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Vr.createElement(cA,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),dn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,c=this.props.options;return c&&c.view?(ht(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Vr.createElement("canvas",su({},(s=this.props,o=[].concat(yi(Object.keys(dA)),yi(Object.keys(x0))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return Hc(Hc({},h),{},ft({},f,s[f]))},{})),{ref:function(h){return u._canvas=h}}))}}])&&E3(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();b0.propTypes=dA,b0.defaultProps=C3;var R3=b0;function fA(){var t=_e.useContext(Kd);return ht(t instanceof qd,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function I3(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=fA();ht(typeof t=="function","`useTick` needs a callback function."),ht(r instanceof qd,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=_e.useRef(null);_e.useEffect(function(){n.current=t},[t]),_e.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function P3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T0(t,e,r){return T0=P3()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&hd(u,s.prototype),u},T0.apply(null,arguments)}var N3=["children","apply"];function Uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uw(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var k3=function(t,e){ht(Er(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,u=as(i,N3),c=_e.useRef(_e.useMemo(function(){return r.map(function(g){var m,v=(u==null||(m=u[g])===null||m===void 0?void 0:m.construct)||[];return T0(e[g],yi(v))})},[r])),h=_e.useMemo(function(){return r.reduce(function(g,m,v){return Wc(Wc({},g),{},ft({},m,c.current[v]))},{})},[r]),f=_e.useMemo(function(){return Object.keys(u).filter(iA(nA(r))).reduce(function(g,m){return Wc(Wc({},g),{},ft({},m,u[m]))},{})},[u,r]);return r.forEach(function(g,m){return Object.assign(c.current[m],u[g])}),o&&function(){for(var g=arguments.length,m=new Array(g),v=0;v<g;v++)m[v]=arguments[v];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),Vr.createElement(t,su({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ve.node,apply:Ve.func},n},O3=fr.BitmapText,M3=fr.Container,F3=fr.Graphics,L3=fr.NineSlicePlane,D3=fr.ParticleContainer,B3=fr.Sprite,U3=fr.AnimatedSprite,z3=fr.Text,G3=fr.TilingSprite,$3=fr.SimpleMesh,j3=fr.SimpleRope;const H3=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:U3,AppConsumer:hA,AppContext:Kd,AppProvider:cA,BitmapText:O3,Container:M3,Graphics:F3,NineSlicePlane:L3,ParticleContainer:D3,PixiComponent:d3,PixiFiber:dn,SimpleMesh:$3,SimpleRope:j3,Sprite:B3,Stage:R3,TYPES:fr,Text:z3,TilingSprite:G3,applyDefaultProps:Vn,createRoot:uA,eventHandlers:cd,render:x3,unmountComponentAtNode:w3,useApp:fA,useTick:I3,withFilters:k3,withPixiApp:T3},Symbol.toStringTag,{value:"Module"})),W3=zw(H3);kd.exports=W3;var Xt=kd.exports;const bo=256,To=240,$i=16,V3=1,X3=4,Y3=2899536,Q3=3426654,q3=3447003,K3=15158332,pA=16777215,vn=Xt.PixiComponent("Rectangle",{create(){return new vh},applyProps(t,e,r){const{x:n=0,y:i=0,width:s,height:o,fill:u,stroke:c,alpha:h=1}=r;t.clear(),t.position.set(n,i),t.alpha=h,u!==void 0&&(t.beginFill(u),t.drawRect(0,0,s,o),t.endFill()),c&&(t.lineStyle(c.width,c.color),t.drawRect(0,0,s,o))}});function Z3({x:t,y:e}){return te.jsxs(Xt.Container,{x:t,y:e,children:[te.jsx(vn,{width:$i,height:$i,fill:9127187}),te.jsx(vn,{width:$i,height:$i,stroke:{color:6636321,width:1}})]})}function J3({width:t,height:e,tilemap:r}){const n=_e.useCallback(s=>{s.clear(),s.beginFill(1710618,.8),s.drawRect(0,0,t,e),s.endFill()},[t,e]),i=_e.useCallback(s=>{s.clear(),s.lineStyle(1,Q3,.3);for(let o=0;o<=t;o+=$i)s.moveTo(o,0),s.lineTo(o,e);for(let o=0;o<=e;o+=$i)s.moveTo(0,o),s.lineTo(t,o)},[t,e]);return te.jsxs(Xt.Container,{children:[te.jsx(Xt.Graphics,{draw:n}),r&&r.map((s,o)=>s.map((u,c)=>u===1?te.jsx(Z3,{x:c*$i,y:o*$i},`tile-${o}-${c}`):null)),te.jsx(Xt.Graphics,{draw:i})]})}function eD({width:t,height:e}){return te.jsxs(Xt.Container,{children:[te.jsx(vn,{width:t,height:e,fill:q3}),te.jsx(vn,{width:t,height:e,stroke:{color:16777215,width:1}})]})}function tD({width:t,health:e,maxHealth:r,y:n}){const s=e/r,o=s>.5?3066993:s>.25?15965202:15158332;return te.jsxs(Xt.Container,{y:n,children:[te.jsx(vn,{width:t,height:2,fill:0,alpha:.5}),te.jsx(vn,{width:t*s,height:2,fill:o})]})}function rD({width:t,energy:e,maxEnergy:r,y:n}){const s=e/r;return te.jsxs(Xt.Container,{y:n,children:[te.jsx(vn,{width:t,height:2,fill:0,alpha:.5}),te.jsx(vn,{width:t*s,height:2,fill:3381691})]})}function nD({facing:t,width:e,height:r}){const n=_e.useCallback(i=>{i.clear();let s;t===0?s=2:t===1?s=e/2:t===2?s=e-2:s=e/2,i.beginFill(16777215),i.drawCircle(s,r/2,2),i.endFill()},[t,e,r]);return te.jsx(Xt.Graphics,{draw:n},`facing-${t}`)}function iD({character:t}){return te.jsxs(Xt.Container,{x:t.position.x,y:t.position.y,children:[te.jsx(eD,{width:t.size.width,height:t.size.height}),te.jsx(tD,{width:t.size.width,health:t.health,maxHealth:100,y:-7}),te.jsx(rD,{width:t.size.width,energy:t.energy,maxEnergy:100,y:-5}),te.jsx(nD,{facing:t.facing,width:t.size.width,height:t.size.height}),te.jsx(Xt.Text,{text:`ID: ${t.id}`,style:{fontSize:10,fill:pA},x:0,y:t.size.height+2})]})}function sD({width:t,height:e}){return te.jsx(vn,{width:t,height:e,fill:K3})}function oD({width:t,lifespanRemaining:e,maxLifespan:r}){if(e<=0)return null;const n=2,i=Math.min(e/r,1);return te.jsxs(Xt.Container,{y:-6,children:[te.jsx(vn,{width:t,height:n,fill:0,alpha:.5}),te.jsx(vn,{width:t*i,height:n,fill:15844367})]})}function aD({spawn:t}){return te.jsxs(Xt.Container,{x:t.position.x,y:t.position.y,children:[te.jsx(sD,{width:t.size.width,height:t.size.height}),te.jsx(oD,{width:t.size.width,lifespanRemaining:t.lifespan_remaining,maxLifespan:300}),te.jsx(Xt.Text,{text:`S${t.id}`,style:{fontSize:8,fill:pA},x:0,y:t.size.height+2})]})}function lD({className:t=""}){const e=oi(sb),r=oi(ob),n=oi(ib),[i,s]=_e.useState({width:bo,height:To});_e.useEffect(()=>{n&&console.log(">>",n.frame,n.characters)},[n]),_e.useEffect(()=>{if(e&&e.length>0){const c=e[0];console.log(`Character facing direction = ${c.facing} (${c.facing===0?"left":c.facing===1?"neutral":c.facing===2?"right":"unknown"})`)}},[e]),_e.useEffect(()=>{const c=()=>{const f=Math.min(window.innerWidth-200,bo*4),g=Math.min(window.innerHeight-300,To*4),m=f/bo,v=g/To,_=Math.max(2,Math.min(m,v)),b=bo*_,T=To*_;s({width:Math.floor(b),height:Math.floor(T)})};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const o=_e.useMemo(()=>{const c=i.width/bo,h=i.height/To,f=Math.min(c,h);return Math.max(V3,Math.min(X3,f))},[i]),u=_e.useMemo(()=>({width:i.width,height:i.height,options:{backgroundColor:Y3,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}}),[i]);return n?te.jsx("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${t}`,children:te.jsx(Xt.Stage,{...u,children:te.jsxs(Xt.Container,{scale:o,children:[te.jsx(J3,{width:bo,height:To,tilemap:n.tilemap}),e.map(c=>te.jsx(iD,{character:c},c.id)),r.map(c=>te.jsx(aD,{spawn:c},c.id))]})})}):te.jsx("div",{className:`bg-gray-800 rounded-lg flex items-center justify-center ${t}`,style:{width:i.width,height:i.height},children:te.jsx("p",{className:"text-white text-lg",children:"No game loaded"})})}function uD({className:t=""}){const{isPlaying:e,stepFrame:r,play:n,pause:i,resetGame:s,gameError:o}=wy(),u=oi(cb),c=oi(hb),h=oi(lb),f=oi(ub),g=()=>{c||n()},m=()=>{i()},v=()=>{!e&&!c&&r()},_=()=>{s()},T=(()=>u?c?"Ended":e?"Playing":"Paused":"Not Loaded")(),S=u&&!c&&!o,E=e,w=u&&!e&&!c&&!o,A=u;return te.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${t}`,children:[te.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Game Controls"}),te.jsxs("div",{className:"mb-6",children:[te.jsx("div",{className:"flex items-center space-x-4 mb-2",children:te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${T==="Playing"?"bg-green-500":T==="Paused"?"bg-yellow-500":T==="Ended"?"bg-red-500":"bg-gray-400"}`}),te.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Status: ",T]})]})}),te.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[te.jsxs("div",{children:[te.jsx("span",{className:"font-medium",children:"Current Frame:"})," ",h]}),te.jsxs("div",{children:[te.jsx("span",{className:"font-medium",children:"Seconds:"})," ",Math.floor(h/60)]}),f&&te.jsxs("div",{className:"col-span-2",children:[te.jsx("span",{className:"font-medium",children:"Game Status:"})," ",f.status]})]}),e&&te.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[te.jsx("span",{className:"font-medium",children:"Running at:"})," 60 FPS"]})]}),te.jsxs("div",{className:"flex flex-wrap gap-3",children:[te.jsx("button",{onClick:g,disabled:!S,className:`px-4 py-2 rounded-md font-medium transition-colors ${S?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Play"}),te.jsx("button",{onClick:m,disabled:!E,className:`px-4 py-2 rounded-md font-medium transition-colors ${E?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Pause"}),te.jsx("button",{onClick:v,disabled:!w,className:`px-4 py-2 rounded-md font-medium transition-colors ${w?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Step"}),te.jsx("button",{onClick:_,disabled:!A,className:`px-4 py-2 rounded-md font-medium transition-colors ${A?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Reset"})]}),c&&te.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:te.jsx("p",{className:"text-sm text-red-700",children:"Game has ended. Use Reset to restart from the beginning."})}),o&&te.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:te.jsxs("p",{className:"text-sm text-red-700",children:["Error: ",o]})})]})}function cD(){return GP(),te.jsxs("div",{className:"p-4",children:[te.jsx(qP,{}),te.jsx(lD,{}),te.jsx(uD,{})]})}function hD(){return te.jsx(xP,{children:te.jsx(cD,{})})}Dm.createRoot(document.getElementById("root")).render(te.jsx(Vr.StrictMode,{children:te.jsx(hD,{})}))});export default dD();
